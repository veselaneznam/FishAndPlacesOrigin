(function(){var p,aa=[];function ba(a){return function(){return aa[a].apply(this,arguments)}}function ca(a,b){return aa[a]=b}var da=da||{},ea=this;function fa(a){return void 0!==a}function ha(a,b,c){a=a.split(".");c=c||ea;a[0]in c||!c.execScript||c.execScript("var "+a[0]);for(var d;a.length&&(d=a.shift());)!a.length&&fa(b)?c[d]=b:c[d]?c=c[d]:c=c[d]={}}function ia(a){a=a.split(".");for(var b=ea,c;c=a.shift();)if(null!=b[c])b=b[c];else return null;return b}function ja(){}
function ka(){throw Error("unimplemented abstract method");}
function ma(a){var b=typeof a;if("object"==b)if(a){if(a instanceof Array)return"array";if(a instanceof Object)return b;var c=Object.prototype.toString.call(a);if("[object Window]"==c)return"object";if("[object Array]"==c||"number"==typeof a.length&&"undefined"!=typeof a.splice&&"undefined"!=typeof a.propertyIsEnumerable&&!a.propertyIsEnumerable("splice"))return"array";if("[object Function]"==c||"undefined"!=typeof a.call&&"undefined"!=typeof a.propertyIsEnumerable&&!a.propertyIsEnumerable("call"))return"function"}else return"null";
else if("function"==b&&"undefined"==typeof a.call)return"object";return b}function na(a){return"array"==ma(a)}function oa(a){var b=ma(a);return"array"==b||"object"==b&&"number"==typeof a.length}function pa(a){return"string"==typeof a}function q(a){return"function"==ma(a)}function ra(a){var b=typeof a;return"object"==b&&null!=a||"function"==b}var sa="closure_uid_"+(1E9*Math.random()>>>0),ta=0;function ua(a,b,c){return a.call.apply(a.bind,arguments)}
function va(a,b,c){if(!a)throw Error();if(2<arguments.length){var d=Array.prototype.slice.call(arguments,2);return function(){var c=Array.prototype.slice.call(arguments);Array.prototype.unshift.apply(c,d);return a.apply(b,c)}}return function(){return a.apply(b,arguments)}}function wa(a,b,c){wa=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?ua:va;return wa.apply(null,arguments)}
function xa(a,b){var c=Array.prototype.slice.call(arguments,1);return function(){var b=c.slice();b.push.apply(b,arguments);return a.apply(this,b)}}var ya=Date.now||function(){return+new Date};function u(a,b){ha(a,b,void 0)}function w(a,b){function c(){}c.prototype=b.prototype;a.v=b.prototype;a.prototype=new c;a.prototype.constructor=a;a.xi=function(a,c,f){for(var g=Array(arguments.length-2),h=2;h<arguments.length;h++)g[h-2]=arguments[h];return b.prototype[c].apply(a,g)}};var za="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Aa(a,b){for(var c,d,e=1;e<arguments.length;e++){d=arguments[e];for(c in d)a[c]=d[c];for(var f=0;f<za.length;f++)c=za[f],Object.prototype.hasOwnProperty.call(d,c)&&(a[c]=d[c])}};var x=function(){return this}();function Ba(a){if(Error.captureStackTrace)Error.captureStackTrace(this,Ba);else{var b=Error().stack;b&&(this.stack=b)}a&&(this.message=String(a))}w(Ba,Error);Ba.prototype.name="CustomError";var Ca=String.prototype.trim?function(a){return a.trim()}:function(a){return a.replace(/^[\s\xa0]+|[\s\xa0]+$/g,"")};function Da(a,b){return a<b?-1:a>b?1:0};var Ea=Array.prototype,Fa=Ea.indexOf?function(a,b,c){return Ea.indexOf.call(a,b,c)}:function(a,b,c){c=null==c?0:0>c?Math.max(0,a.length+c):c;if(pa(a))return pa(b)&&1==b.length?a.indexOf(b,c):-1;for(;c<a.length;c++)if(c in a&&a[c]===b)return c;return-1},Ga=Ea.forEach?function(a,b,c){Ea.forEach.call(a,b,c)}:function(a,b,c){for(var d=a.length,e=pa(a)?a.split(""):a,f=0;f<d;f++)f in e&&b.call(c,e[f],f,a)};function Ha(){return Object.create(z,void 0)}var A=wa,Ia=String;function Ja(a){return eval(""+a)}var Ka=x.Object.freeze||function(a){return a};function La(a){var b={},c;for(c in a)b[c]=a[c];return b}var B=Ja(),z=Ja(null);function Ma(a,b){return Ia(a).split(b!==B?b:" ")}var Oa="prototype constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function C(a,b,c,d,e){if(!(b=a instanceof b)&&c)throw new D(c,d,e!==B?e:a);return b}
function Pa(a,b){if(!0===(C(a,b)&&a.constructor===b))throw new TypeError("Illegal constructor "+Qa(b));}u("H.lang.isObject",ra);function Ra(a){for(var b in a)return!1;return!0}u("H.lang.isEmptyObject",Ra);function Sa(a,b,c,d,e){if(!(b=Ta(a)===b)&&c)throw new D(c,d,e!==B?e:a);return b}function Ua(a,b,c,d){return Sa(a,"Array",b,c,d)}u("H.lang.isArray",Ua);u("H.lang.isString",pa);var Va=parseFloat,E=isNaN;function Wa(a){return a===+a}u("H.lang.isNumber",Wa);
function Xa(a){return!E(+a)}function Ta(a){var b=Object[Oa[0]][Oa[6]].call(a).match(/^\[object (\w+)\]$/);return b?b[1]:typeof a}
function Qa(a,b,c,d){var e="",f=2>arguments.length;f&&(b={H:x.H},c="",d=[]);Ya(b,!0,function(b,f){try{var k=b[f];f=Za(b,k);var l;if(l=!(ra(k)&&k.window===k&&k.self===k))l=!(ra(k)&&0<k.nodeType&&q(k.cloneNode));if(l&&ra(k)){if(k===a)return e=c+"."+f,!0;if(0>d.indexOf(k)&&(d.push(k),e=Qa(a,k,c+"."+f,d)))return!0}}catch(n){}});f&&(e=e?e.substr(1).replace("."+Oa[0]+".","#"):"~"+(q(a)?$a(a)+"()":Ta(a)));return e}
function Za(a,b){var c=[];Ya(a,!1,function(a,e){a[e]===b&&c.push(e)});return c.sort(ab)[0]}function ab(a,b){return b.length-a.length}var cb=Object[Oa[0]][Oa[2]];function Ya(a,b,c){var d,e;if(a){for(d in a)if((!b||cb.call(a,d))&&c(a,d,!0))return;for(e=Oa.length;e--&&(d=Oa[e],b&&!cb.call(a,d)||!c(a,d,!1)););}}function $a(a){return(a=/^\s*function ([^\( ]+)/.exec(a))?a[1]:"anonymous"}function db(a,b,c){c[b]="#"+b}var eb="[object Undefined]"!=={}.toString.call(void 0);function D(a,b,c){var d=arguments.length,e;b=1<d?+b:b;d=2<d?Ia(c):"";b!==B&&(e=(e=/^.*?\(([^\)]+)/.exec((""+a).replace(/(\/\*([\s\S]*?)\*\/)|(\/\/(.*)$)/gm,"")))?Ma(e[1].replace(/\s+/g,""),","):[],e.forEach(db),e=e[b]||"#"+b);this.message=(a?Qa(a):"")+(e||d?" (":"")+(e?"Argument "+e:"")+(d?(e?" ":"")+d:"")+(e||d?")":"");this.stack=Error().stack}u("H.lang.InvalidArgumentError",D);D.prototype=Error();D.prototype.name="InvalidArgumentError";var fb=Math,gb=fb.min,hb=fb.max,ib=fb.round,jb=fb.floor,kb=fb.ceil,lb=fb.abs,mb=fb.log,nb=fb.sqrt,ob=fb.pow,pb=fb.exp,qb=fb.sin,rb=fb.asin,sb=fb.cos,tb=fb.tan,ub=fb.atan,vb=fb.atan2,wb=fb.LN2,xb=fb.PI,yb=xb/2,zb=xb/4,Ab=2*xb,Bb=3*xb,Cb=xb/180,Db=180/xb,Eb=1/0,Fb=ob(-2,53),Gb=Gb||function(a){return mb(a)/wb};function Hb(a,b){var c;return 0>(c=a%b)===0>b?c:c+b}function Ib(a,b,c){b-=c=c||0;a-=c;return a-jb(a/b)*b+c}u("H.math.normalize",Ib);function Jb(a,b,c){return(a-=0)>c?c:a<b?b:a}
u("H.math.clamp",Jb);function Kb(a,b,c,d){(d-=0)||(d=0);return b<c?a>=b-d&&a<=c+d:a>=c-d&&a<=b+d}function Lb(a,b,c,d,e,f){return nb(ob((a-e)*(d-f)-(b-f)*(c-e),2)/(ob(c-e,2)+ob(d-f,2)))}var Mb={NONE:0,wi:1,pi:2,vi:3};
function Nb(a,b,c,d,e){for(var f=c.length,g=f,h,k,l,n=c[0],m=0,r=0,t=0,v=d/2||0,y=e?1:3;1!=m&&g>y;){h=c[--g];d=c[--g];l=c[g?g-1:(f+(g-1))%f];k=c[g?g-2:(f+(g-2))%f];if(d>=a-v&&d<=a+v&&h>=b-v&&h<=b+v||k>=a-v&&k<=a+v&&l>=b-v&&l<=b+v)m=1;else if(!m&&d===a)k===a&&(h<b&&l>b||h>b&&l<b)||(n<=a&&k>a||n>=a&&k<a)&&(h>=b?++r:++t),m=Kb(b,h,l,v)&&Lb(a,b,d,h,k,l)<=v?2:0;else if(!m&&Kb(a,d,k,v)){if(d<a&&k>a||d>a&&k<a)n=h+(a-d)/(k-d)*(l-h),r+=n>b,t+=n<b;m=Kb(b,h,l,v)&&Lb(a,b,d,h,k,l)<=v?2:0}n=d}!m&&e&&0!==t&&0!==
r%2&&(m=3);return m};var Pb={undefined:"GL",GL:"GL",OL:"OL",SL:"SL",SB:"SB",WE:"WE",WG:"WG"};u("H.geo.AltitudeContext",Pb);function Qb(a,b,c){var d=Jb(+a,-90,90);if(b&&E(d))throw new D(b,c,a);return d}function Rb(a,b,c){var d=+a;if(-180>d||180<d)d=Hb(d+180,360)-180;if(b&&E(d))throw new D(b,c,a);return d}function Sb(a,b,c){var d;if(a!==B&&E(d=+a)&&b)throw new D(b,c,a);return d}function Tb(a,b,c){var d=!Pb[a];if(b&&d)throw new D(b,c,a);return!d}function Ub(a){return!a||E(a.lat)||E(a.lng)?!1:!0}
function Vb(a,b){return 0>a/b&&180<lb(b-a)}u("H.geo.isDBC",Vb);function Wb(){Pa(this,Wb)}u("H.geo.AbstractGeometry",Wb);Wb.prototype.getBounds=Wb.prototype.R;Wb.prototype.equals=Wb.prototype.ma;Wb.prototype.toString=function(){return this.Gb([this.md," "]).join("")};function Xb(a,b,c,d){this.lat=Qb(a,Xb,0);this.lng=Rb(b,Xb,1);c!==B&&(this.alt=Sb(c,Xb,2));d!==B&&Tb(d,Xb,3)&&(this.ctx=d)}w(Xb,Wb);u("H.geo.Point",Xb);Xb.prototype.ma=function(a){return this===a||!!a&&this.lat===a.lat&&this.lng===a.lng&&Pb[this.ctx]===Pb[a.ctx]&&(this.alt||0)===(a.alt||0)};Xb.prototype.equals=Xb.prototype.ma;
Xb.prototype.distance=function(a){var b,c;this===a||this.lat===a.lat&&this.lng===a.lng?a=0:(b=this.lat*Cb,c=a.lat*Cb,a=1.274200158E7*rb(gb(1,nb(ob(qb((b-c)/2),2)+sb(b)*sb(c)*ob(qb((this.lng*Cb-a.lng*Cb)/2),2)))));return a};Xb.prototype.distance=Xb.prototype.distance;
Xb.prototype.Bf=function(a,b,c){var d,e,f,g,h,k;if(c){if(b/=6371000.79){a*=Cb;d=Cb*this.lat;f=qb(d);g=qb(b);h=sb(b);e=Cb*this.lng;var l=sb(d);d=rb(l*sb(a)*g+f*h);a=vb(qb(a)*l*g,h-f*qb(d));l=((e+a+xb)%(2*xb)-xb)*Db}return b?new Xb(d*Db,(l+540)%360-180):this}a=(a%360+360)%360;if(0===(a+90)%180)return d=this.lng+b/(6371000.79*Ab*sb(this.lat*Cb))*(270===a?-360:360),new Xb(this.lat,(d+540)%360-180);if(b/=6371000.79)a*=Cb,e=this.lat*Cb,f=this.lng*Cb,g=e+b*sb(a),h=g-e,d=mb(tb(g/2+zb)/tb(e/2+zb)),d=E(h/d)?
sb(e):h/d,k=b*qb(a)/d,lb(g)>yb&&(g=0<g?xb-g:-(xb+g));return b?new Xb(g*Db,((f+k+Bb+(lb(e+h)>yb?xb:0))%Ab-xb)*Db):this};Xb.prototype.walk=Xb.prototype.Bf;Xb.prototype.R=function(){return new F(this.lat,this.lng,this.lat,this.lng)};Xb.prototype.getBounds=Xb.prototype.R;function Yb(a,b,c){var d=!!a&&!(E(a.lat=Qb(a.lat))||E(a.lng=Rb(a.lng))||a.alt!==B&&E(a.alt=Sb(a.alt))||a.ctx!==B&&!Tb(a.ctx));if(!d&&b)throw new D(b,c,a);return d}Xb.validate=Yb;
function Zb(a){if(!a)throw new D(Zb,0,a);return new Xb(a.lat,a.lng,a.alt,a.ctx)}Xb.fromIPoint=Zb;Xb.prototype.md="POINT";Xb.prototype.Gb=function(a){a.push("(",this.lng," ",this.lat,")");return a};var $b;function ac(a,b){var c=[];a&&c.push(Qa(a));1<arguments.length&&c.push(b);this.message=c.join(" ");this.stack=Error().stack}w(ac,Error);u("H.lang.IllegalOperationError",ac);ac.prototype=Error();ac.prototype.name="IllegalOperationError";function bc(a){if(!pa(a))throw new D(this.constructor,0);this.g=x.indexedDB||x.webkitIndexedDB||x.mozIndexedDB||x.msIndexedDB;if(!this.g)throw new ac(this.constructor,"This browser does not support IndexedDB");this.l=a;this.a=[];this.c=[];this.kf=A(this.kf,this)}var cc,dc;u("H.util.IndexedDBStorage",bc);p=bc.prototype;p.cd=function(a,b,c,d){if(!ec(a))throw new D(this.cd,0);if(!fc(b))throw new D(this.cd,1);gc(this,function(e){hc(e.put(b,a),c,d)},d)};
p.get=function(a,b,c){var d;if(!ec(a))throw new D(this.get,0);if(!q(b))throw new D(this.get,1);gc(this,function(e){d=e.get(a);hc(d,b,c)},c);return{cancel:function(){d&&(d.onsuccess=ic)}}};p.remove=function(a,b,c){if(!ec(a))throw new D(this.remove,0);gc(this,function(d){hc(d["delete"](a),b,c)},c)};p.clear=function(a,b){gc(this,function(c){hc(c.clear(),a,b)},b)};p.lh=x.IDBTransaction&&x.IDBTransaction.READ_WRITE||"readwrite";p.kf=function(){var a=this.b.result;a.objectStoreNames.contains("data")||a.createObjectStore("data")};
function jc(a,b,c){var d;a.b?a.a?(a.a.push(b),c&&a.c.push(c)):a.f?c&&c(a.f):b(a.b.result):(a.b=a.g.open(kc+a.l,1),a.b.onupgradeneeded=a.kf,d=a.b.onerror=function(){clearTimeout(a.i);a.f=this.error;a.c.forEach(function(b){b(a.f)});a.a=a.c=null},a.i=setTimeout(function(){d.call({error:Error("DbOpenTimeoutError")})},500),a.b.onsuccess=function(){clearTimeout(a.i);a.a?(a.a.forEach(function(a){a(this.result)},this),a.a=a.c=null):(a.b=a.f=null,a.a=[],a.c=[])},a.a.push(b),c&&a.c.push(c))}
function gc(a,b,c){jc(a,function(c){c=c.transaction(["data"],a.lh);b(c.objectStore("data"))},c)}function hc(a,b,c){b&&(a.onsuccess=function(){b(this.result)});c&&(a.onerror=function(){c(this.error)})}function fc(a){var b=Object.prototype.toString.call(a);return"[object Blob]"===b||"[object ArrayBuffer]"===b||pa(a)||ra(a)}function ec(a){return pa(a)||Wa(a)}function lc(){cc||(cc=new bc("STATIC_DB"));return cc}bc.getInstance=lc;var kc="H_";
function mc(){var a,b,c;if(dc===B)if("file:"===window.location.protocol&&-1<navigator.userAgent.toLowerCase().indexOf("firefox")&&128<=window.location.href.length)dc=!1;else{a=x.indexedDB||x.webkitIndexedDB||x.mozIndexedDB||x.msIndexedDB;c=kc+"TEST_DB";try{b=a&&a.open(c,1)}catch(d){}dc=!!b&&null===b.onupgradeneeded;b&&a.deleteDatabase&&a.deleteDatabase(c)}return dc}bc.isSupported=mc;function nc(){0!=oc&&(pc[this[sa]||(this[sa]=++ta)]=this);this.kb=this.kb;this.Ya=this.Ya}var oc=0,pc={};nc.prototype.kb=!1;nc.prototype.K=function(){if(!this.kb&&(this.kb=!0,this.F(),0!=oc)){var a=this[sa]||(this[sa]=++ta);delete pc[a]}};nc.prototype.Ab=function(a,b){this.kb?a.call(b):(this.Ya||(this.Ya=[]),this.Ya.push(fa(b)?wa(a,b):a))};nc.prototype.F=function(){if(this.Ya)for(;this.Ya.length;)this.Ya.shift()()};function qc(a){a&&"function"==typeof a.K&&a.K()};function rc(a,b){this.type=a;this.currentTarget=this.target=b;this.a=!1;this.Sg=!0}rc.prototype.stopPropagation=function(){this.a=!0};rc.prototype.preventDefault=function(){this.Sg=!1};u("H.util.Event",rc);rc.prototype.stopPropagation=rc.prototype.stopPropagation;rc.prototype.stopPropagation=rc.prototype.stopPropagation;rc.prototype.j=1;rc.prototype.CAPTURING_PHASE=rc.prototype.j;rc.prototype.i=2;rc.prototype.AT_TARGET=rc.prototype.i;rc.prototype.l=3;rc.prototype.BUBBLING_PHASE=rc.prototype.l;rc.prototype.s=0;rc.prototype.eventPhase=rc.prototype.s;function sc(a,b,c){sc.v.constructor.call(this,a,c);this.data=b}w(sc,rc);u("H.util.DataEvent",sc);function tc(a,b,c){tc.v.constructor.call(this,a,c);this.message=b}w(tc,rc);u("H.util.ErrorEvent",tc);function uc(a,b,c){this.g=c;this.c=a;this.f=b;this.b=0;this.a=null}uc.prototype.get=function(){var a;0<this.b?(this.b--,a=this.a,this.a=a.next,a.next=null):a=this.c();return a};function vc(a,b){a.f(b);a.b<a.g&&(a.b++,b.next=a.a,a.a=b)};function wc(){this.b=this.a=null}var yc=new uc(function(){return new xc},function(a){a.reset()},100);wc.prototype.add=function(a,b){var c=yc.get();c.set(a,b);this.b?this.b.next=c:this.a=c;this.b=c};wc.prototype.remove=function(){var a=null;this.a&&(a=this.a,this.a=this.a.next,this.a||(this.b=null),a.next=null);return a};function xc(){this.next=this.b=this.a=null}xc.prototype.set=function(a,b){this.a=a;this.b=b;this.next=null};xc.prototype.reset=function(){this.next=this.b=this.a=null};var zc;a:{var Ac=ea.navigator;if(Ac){var Bc=Ac.userAgent;if(Bc){zc=Bc;break a}}zc=""};function Cc(){return-1!=zc.indexOf("Edge")||-1!=zc.indexOf("Trident")||-1!=zc.indexOf("MSIE")};function Dc(){return-1!=zc.indexOf("Edge")};function Ec(a){ea.setTimeout(function(){throw a;},0)}var Fc;
function Gc(){var a=ea.MessageChannel;"undefined"===typeof a&&"undefined"!==typeof window&&window.postMessage&&window.addEventListener&&-1==zc.indexOf("Presto")&&(a=function(){var a=document.createElement("IFRAME");a.style.display="none";a.src="";document.documentElement.appendChild(a);var b=a.contentWindow,a=b.document;a.open();a.write("");a.close();var c="callImmediate"+Math.random(),d="file:"==b.location.protocol?"*":b.location.protocol+"//"+b.location.host,a=wa(function(a){if(("*"==d||a.origin==
d)&&a.data==c)this.port1.onmessage()},this);b.addEventListener("message",a,!1);this.port1={};this.port2={postMessage:function(){b.postMessage(c,d)}}});if("undefined"!==typeof a&&!Cc()){var b=new a,c={},d=c;b.port1.onmessage=function(){if(fa(c.next)){c=c.next;var a=c.Uf;c.Uf=null;a()}};return function(a){d.next={Uf:a};d=d.next;b.port2.postMessage(0)}}return"undefined"!==typeof document&&"onreadystatechange"in document.createElement("SCRIPT")?function(a){var b=document.createElement("SCRIPT");b.onreadystatechange=
function(){b.onreadystatechange=null;b.parentNode.removeChild(b);b=null;a();a=null};document.documentElement.appendChild(b)}:function(a){ea.setTimeout(a,0)}};function Hc(a,b){Ic||Jc();Kc||(Ic(),Kc=!0);Lc.add(a,b)}var Ic;function Jc(){if(ea.Promise&&ea.Promise.resolve){var a=ea.Promise.resolve();Ic=function(){a.then(Mc)}}else Ic=function(){var a=Mc;!q(ea.setImmediate)||ea.Window&&ea.Window.prototype&&ea.Window.prototype.setImmediate==ea.setImmediate?(Fc||(Fc=Gc()),Fc(a)):ea.setImmediate(a)}}var Kc=!1,Lc=new wc;function Mc(){for(var a=null;a=Lc.remove();){try{a.a.call(a.b)}catch(b){Ec(b)}vc(yc,a)}Kc=!1};function Nc(a,b){this.J=Oc;this.i=void 0;this.c=this.a=this.b=null;this.f=this.g=!1;if(a==Pc)Qc(this,Rc,b);else try{var c=this;a.call(b,function(a){Qc(c,Rc,a)},function(a){Qc(c,Sc,a)})}catch(d){Qc(this,Sc,d)}}var Oc=0,Rc=2,Sc=3;function Tc(){this.next=this.c=this.b=this.f=this.a=null;this.g=!1}Tc.prototype.reset=function(){this.c=this.b=this.f=this.a=null;this.g=!1};var Uc=new uc(function(){return new Tc},function(a){a.reset()},100);function Vc(a,b,c){var d=Uc.get();d.f=a;d.b=b;d.c=c;return d}
function Pc(){}function Wc(a){return new Nc(function(b,c){c(a)})}function Xc(){var a,b,c=new Nc(function(c,e){a=c;b=e});return new Yc(c,a,b)}Nc.prototype.then=function(a,b,c){return Zc(this,q(a)?a:null,q(b)?b:null,c)};Nc.prototype.then=Nc.prototype.then;Nc.prototype.$goog_Thenable=!0;Nc.prototype.cancel=function(a){this.J==Oc&&Hc(function(){var b=new $c(a);ad(this,b)},this)};
function ad(a,b){if(a.J==Oc)if(a.b){var c=a.b;if(c.a){for(var d=0,e=null,f=null,g=c.a;g&&(g.g||(d++,g.a==a&&(e=g),!(e&&1<d)));g=g.next)e||(f=g);e&&(c.J==Oc&&1==d?ad(c,b):(f?(d=f,d.next==c.c&&(c.c=d),d.next=d.next.next):bd(c),cd(c,e,Sc,b)))}a.b=null}else Qc(a,Sc,b)}function dd(a,b){a.a||a.J!=Rc&&a.J!=Sc||ed(a);a.c?a.c.next=b:a.a=b;a.c=b}
function Zc(a,b,c,d){var e=Vc(null,null,null);e.a=new Nc(function(a,g){e.f=b?function(c){try{var e=b.call(d,c);a(e)}catch(l){g(l)}}:a;e.b=c?function(b){try{var e=c.call(d,b);!fa(e)&&b instanceof $c?g(b):a(e)}catch(l){g(l)}}:g});e.a.b=a;dd(a,e);return e.a}Nc.prototype.l=function(a){this.J=Oc;Qc(this,Rc,a)};Nc.prototype.j=function(a){this.J=Oc;Qc(this,Sc,a)};
function Qc(a,b,c){if(a.J==Oc){if(a==c)b=Sc,c=new TypeError("Promise cannot resolve to itself");else{var d;if(c)try{d=!!c.$goog_Thenable}catch(e){d=!1}else d=!1;if(d){a.J=1;b=c;c=a.l;d=a.j;b instanceof Nc?dd(b,Vc(c||ja,d||null,a)):b.then(c,d,a);return}if(ra(c))try{var f=c.then;if(q(f)){fd(a,c,f);return}}catch(g){b=Sc,c=g}}a.i=c;a.J=b;a.b=null;ed(a);b!=Sc||c instanceof $c||gd(a,c)}}
function fd(a,b,c){function d(b){f||(f=!0,a.j(b))}function e(b){f||(f=!0,a.l(b))}a.J=1;var f=!1;try{c.call(b,e,d)}catch(g){d(g)}}function ed(a){a.g||(a.g=!0,Hc(a.s,a))}function bd(a){var b=null;a.a&&(b=a.a,a.a=b.next,b.next=null);a.a||(a.c=null);return b}Nc.prototype.s=function(){for(var a=null;a=bd(this);)cd(this,a,this.J,this.i);this.g=!1};
function cd(a,b,c,d){if(c==Sc&&b.b&&!b.g)for(;a&&a.f;a=a.b)a.f=!1;if(b.a)b.a.b=null,hd(b,c,d);else try{b.g?b.f.call(b.c):hd(b,c,d)}catch(e){id.call(null,e)}vc(Uc,b)}function hd(a,b,c){b==Rc?a.f.call(a.c,c):a.b&&a.b.call(a.c,c)}function gd(a,b){a.f=!0;Hc(function(){a.f&&id.call(null,b)})}var id=Ec;function $c(a){Ba.call(this,a)}w($c,Ba);$c.prototype.name="cancel";function Yc(a,b,c){this.nf=a;this.resolve=b;this.reject=c};function jd(a,b,c){this.type=a;this.data=b;this.Yd=Xc();this.resolve=A(this.resolve,this);this.reject=A(this.reject,this);this.b=kd;c!==B&&(this.b=c);this.xd().add(this)}var kd=1,ld={si:0,NORMAL:kd,ri:2};jd.prototype.then=function(a,b,c){return this.Yd.nf.then(a,b,c)};
Aa(jd.prototype,{resolve:function(a){this.state=3;this.Yd.resolve(a)},reject:function(a){this.state=5;this.Yd.reject(a)},state:0,cancel:function(a){this.Yd.nf.cancel();3>this.state&&(1>this.state?(this.state=4,this.xd().remove(this)):a&&(this.ne(),this.xd().remove(this),this.state=4))},ne:ka,Ce:ka,yh:function(a){this.state=this.Ce(a)?1:5}});function md(a){this.cc={};for(var b in ld)this.cc[ld[b]]=[];this.Zd=a;this.Zd.addEventListener("allocatable",A(this.Yf,this))}u("H.util.JobManager",md);var nd=Object.keys(ld).map(function(a){return ld[a]}).sort().reverse();
Aa(md.prototype,{add:function(a){C(a,jd,this.add,0);this.cc[a.b].push(a);this.Yf()},contains:function(a){return-1<this.cc[a.b].indexOf(a)},remove:function(a){var b=a.b;a=this.cc[b].indexOf(a);return-1<a?(this.cc[b].splice(a,1),!0):!1},Yf:function(){nd.forEach(function(a){this.cc[a]=this.cc[a].filter(function(a){var c,d;if((c=this.Zd.qe(a))!==z)d=A(this.Zd.we,this.Zd,c,a),a.then(d,d),a.yh(c);else return!0},this)},this)}});function od(a,b,c){var d=[];1<arguments.length&&d.push(b);2<arguments.length&&d.push("out of ["+c[0]+"..."+c[1]+"]");this.message=(a?Qa(a):"")+(d.length?" ("+d.join(" ")+")":"");this.stack=Error().stack}u("H.lang.OutOfRangeError",od);od.prototype=Error();od.prototype.name="OutOfRangeError";var pd="closure_listenable_"+(1E6*Math.random()|0);function qd(a){return!(!a||!a[pd])}var rd=0;function sd(a,b,c,d,e){this.listener=a;this.a=null;this.src=b;this.type=c;this.ua=!!d;this.Ad=e;this.key=++rd;this.Ec=this.sd=!1}function td(a){a.Ec=!0;a.listener=null;a.a=null;a.src=null;a.Ad=null};function ud(a){this.src=a;this.a={};this.b=0}ud.prototype.add=function(a,b,c,d,e){var f=a.toString();a=this.a[f];a||(a=this.a[f]=[],this.b++);var g=vd(a,b,d,e);-1<g?(b=a[g],c||(b.sd=!1)):(b=new sd(b,this.src,f,!!d,e),b.sd=c,a.push(b));return b};ud.prototype.remove=function(a,b,c,d){a=a.toString();if(!(a in this.a))return!1;var e=this.a[a];b=vd(e,b,c,d);return-1<b?(td(e[b]),Ea.splice.call(e,b,1),0==e.length&&(delete this.a[a],this.b--),!0):!1};
function xd(a,b){var c=b.type;if(!(c in a.a))return!1;var d=a.a[c],e=Fa(d,b),f;(f=0<=e)&&Ea.splice.call(d,e,1);f&&(td(b),0==a.a[c].length&&(delete a.a[c],a.b--));return f}ud.prototype.Ba=function(a){a=a&&a.toString();var b=0,c;for(c in this.a)if(!a||c==a){for(var d=this.a[c],e=0;e<d.length;e++)++b,td(d[e]);delete this.a[c];this.b--}return b};function vd(a,b,c,d){for(var e=0;e<a.length;++e){var f=a[e];if(!f.Ec&&f.listener==b&&f.ua==!!c&&f.Ad==d)return e}return-1};var yd=-1!=zc.indexOf("Opera")||-1!=zc.indexOf("OPR"),zd=Cc(),Ad=-1!=zc.indexOf("Gecko")&&!(-1!=zc.toLowerCase().indexOf("webkit")&&!Dc())&&!(-1!=zc.indexOf("Trident")||-1!=zc.indexOf("MSIE"))&&!Dc(),Bd=-1!=zc.toLowerCase().indexOf("webkit")&&!Dc();function Cd(){var a=zc;if(Ad)return/rv\:([^\);]+)(\)|;)/.exec(a);if(zd&&Dc())return/Edge\/([\d\.]+)/.exec(a);if(zd)return/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(a);if(Bd)return/WebKit\/(\S+)/.exec(a)}
function Dd(){var a=ea.document;return a?a.documentMode:void 0}var Ed=function(){if(yd&&ea.opera){var a=ea.opera.version;return q(a)?a():a}var a="",b=Cd();b&&(a=b?b[1]:"");return zd&&!Dc()&&(b=Dd(),b>parseFloat(a))?String(b):a}(),Fd={};
function Gd(a){var b;if(!(b=Fd[a])){b=0;for(var c=Ca(String(Ed)).split("."),d=Ca(String(a)).split("."),e=Math.max(c.length,d.length),f=0;0==b&&f<e;f++){var g=c[f]||"",h=d[f]||"",k=/(\d*)(\D*)/g,l=/(\d*)(\D*)/g;do{var n=k.exec(g)||["","",""],m=l.exec(h)||["","",""];if(0==n[0].length&&0==m[0].length)break;b=Da(0==n[1].length?0:parseInt(n[1],10),0==m[1].length?0:parseInt(m[1],10))||Da(0==n[2].length,0==m[2].length)||Da(n[2],m[2])}while(0==b)}b=Fd[a]=0<=b}return b}
var Hd=ea.document,Id=Dd(),Jd=!Hd||!zd||!Id&&Dc()?void 0:Id||("CSS1Compat"==Hd.compatMode?parseInt(Ed,10):5);var Kd;(Kd=!zd)||(Kd=zd&&(Dc()||9<=Jd));var Ld=Kd,Md=zd&&!Gd("9");!Bd||Gd("528");Ad&&Gd("1.9b")||zd&&Gd("8")||yd&&Gd("9.5")||Bd&&Gd("528");Ad&&!Gd("8")||zd&&Gd("9");function Nd(a){Nd[" "](a);return a}Nd[" "]=ja;function Od(a,b){rc.call(this,a?a.type:"");this.currentTarget=this.target=null;this.keyCode=0;this.b=this.state=null;if(a){this.type=a.type;this.target=a.target||a.srcElement;this.currentTarget=b;var c=a.relatedTarget;if(c&&Ad)try{Nd(c.nodeName)}catch(d){}this.keyCode=a.keyCode||0;this.state=a.state;this.b=a;a.defaultPrevented&&this.preventDefault()}}w(Od,rc);
Od.prototype.stopPropagation=function(){Od.v.stopPropagation.call(this);this.b.stopPropagation?this.b.stopPropagation():this.b.cancelBubble=!0};Od.prototype.preventDefault=function(){Od.v.preventDefault.call(this);var a=this.b;if(a.preventDefault)a.preventDefault();else if(a.returnValue=!1,Md)try{if(a.ctrlKey||112<=a.keyCode&&123>=a.keyCode)a.keyCode=-1}catch(b){}};var Pd="closure_lm_"+(1E6*Math.random()|0),Qd={},Rd=0;function Sd(a,b,c,d,e){if(na(b)){for(var f=0;f<b.length;f++)Sd(a,b[f],c,d,e);return null}c=Td(c);return qd(a)?a.Jb.add(String(b),c,!1,d,e):Ud(a,b,c,!1,d,e)}function Ud(a,b,c,d,e,f){if(!b)throw Error("Invalid event type");var g=!!e,h=Vd(a);h||(a[Pd]=h=new ud(a));c=h.add(b,c,d,e,f);if(c.a)return c;d=Wd();c.a=d;d.src=a;d.listener=c;a.addEventListener?a.addEventListener(b.toString(),d,g):a.attachEvent(Xd(b.toString()),d);Rd++;return c}
function Wd(){var a=Yd,b=Ld?function(c){return a.call(b.src,b.listener,c)}:function(c){c=a.call(b.src,b.listener,c);if(!c)return c};return b}function Zd(a,b,c,d,e){if(na(b)){for(var f=0;f<b.length;f++)Zd(a,b[f],c,d,e);return null}c=Td(c);return qd(a)?a.Jb.add(String(b),c,!0,d,e):Ud(a,b,c,!0,d,e)}
function $d(a,b,c,d,e){if(na(b)){for(var f=0;f<b.length;f++)$d(a,b[f],c,d,e);return null}c=Td(c);if(qd(a))return a.Jb.remove(String(b),c,d,e);if(!a)return!1;if(a=Vd(a))if(b=a.a[b.toString()],a=-1,b&&(a=vd(b,c,!!d,e)),c=-1<a?b[a]:null)return ae(c);return!1}
function ae(a){if("number"==typeof a||!a||a.Ec)return!1;var b=a.src;if(qd(b))return xd(b.Jb,a);var c=a.type,d=a.a;b.removeEventListener?b.removeEventListener(c,d,a.ua):b.detachEvent&&b.detachEvent(Xd(c),d);Rd--;(c=Vd(b))?(xd(c,a),0==c.b&&(c.src=null,b[Pd]=null)):td(a);return!0}function Xd(a){return a in Qd?Qd[a]:Qd[a]="on"+a}function be(a,b,c,d){var e=!0;if(a=Vd(a))if(b=a.a[b.toString()])for(b=b.concat(),a=0;a<b.length;a++){var f=b[a];f&&f.ua==c&&!f.Ec&&(f=ce(f,d),e=e&&!1!==f)}return e}
function ce(a,b){var c=a.listener,d=a.Ad||a.src;a.sd&&ae(a);return c.call(d,b)}
function Yd(a,b){if(a.Ec)return!0;if(!Ld){var c=b||ia("window.event"),d=new Od(c,this),e=!0;if(!(0>c.keyCode||void 0!=c.returnValue)){a:{var f=!1;if(0==c.keyCode)try{c.keyCode=-1;break a}catch(g){f=!0}if(f||void 0==c.returnValue)c.returnValue=!0}c=[];for(f=d.currentTarget;f;f=f.parentNode)c.push(f);for(var f=a.type,h=c.length-1;!d.a&&0<=h;h--){d.currentTarget=c[h];var k=be(c[h],f,!0,d),e=e&&k}for(h=0;!d.a&&h<c.length;h++)d.currentTarget=c[h],k=be(c[h],f,!1,d),e=e&&k}return e}return ce(a,new Od(b,
this))}function Vd(a){a=a[Pd];return a instanceof ud?a:null}var de="__closure_events_fn_"+(1E9*Math.random()>>>0);function Td(a){if(q(a))return a;a[de]||(a[de]=function(b){return a.handleEvent(b)});return a[de]};function G(){nc.call(this);this.Jb=new ud(this);this.ii=this;this.He=null}w(G,nc);G.prototype[pd]=!0;p=G.prototype;p.gb=function(){return this.He};p.ha=function(a){this.He=a};p.addEventListener=function(a,b,c,d){Sd(this,a,b,c,d)};p.removeEventListener=function(a,b,c,d){$d(this,a,b,c,d)};
p.dispatchEvent=function(a){var b,c=this.gb();if(c)for(b=[];c;c=c.gb())b.push(c);var c=this.ii,d=a.type||a;if(pa(a))a=new rc(a,c);else if(a instanceof rc)a.target=a.target||c;else{var e=a;a=new rc(d,c);Aa(a,e)}var e=!0,f;if(b)for(var g=b.length-1;!a.a&&0<=g;g--)f=a.currentTarget=b[g],e=f.Xb(d,!0,a)&&e;a.a||(f=a.currentTarget=c,e=f.Xb(d,!0,a)&&e,a.a||(e=f.Xb(d,!1,a)&&e));if(b)for(g=0;!a.a&&g<b.length;g++)f=a.currentTarget=b[g],e=f.Xb(d,!1,a)&&e;return e};
p.F=function(){G.v.F.call(this);this.Jb&&this.Jb.Ba(void 0);this.He=null};p.Xb=function(a,b,c){a=this.Jb.a[String(a)];if(!a)return!0;a=a.concat();for(var d=!0,e=0;e<a.length;++e){var f=a[e];if(f&&!f.Ec&&f.ua==b){var g=f.listener,h=f.Ad||f.src;f.sd&&xd(this.Jb,f);d=!1!==g.call(h,c)&&d}}return d&&0!=c.Sg};u("H.util.EventTarget",G);G.prototype.ha=G.prototype.ha;G.prototype.setParentEventTarget=G.prototype.ha;G.prototype.gb=G.prototype.gb;G.prototype.getParentEventTarget=G.prototype.gb;G.prototype.addEventListener=G.prototype.addEventListener;G.prototype.addEventListener=G.prototype.addEventListener;G.prototype.removeEventListener=G.prototype.removeEventListener;G.prototype.removeEventListener=G.prototype.removeEventListener;G.prototype.dispatchEvent=G.prototype.dispatchEvent;
G.prototype.dispatchEvent=G.prototype.dispatchEvent;G.prototype.K=G.prototype.K;G.prototype.dispose=G.prototype.K;G.prototype.Ab=G.prototype.Ab;G.prototype.addOnDisposeCallback=G.prototype.Ab;G.prototype.ki=G.prototype.Xb;
G.prototype.Xb=function(a,b,c){var d,e,f,g=!0;d=c[c.currentTarget===c.target?"AT_TARGET":b?"CAPTURING_PHASE":(e=!0,"BUBBLING_PHASE")];if(!e||"pointerenter"!==(f=c.type)&&"pointerleave"!==f)c.eventPhase=d,g=G.prototype.ki.apply(this,arguments),e&&this.gb&&null===this.gb()&&delete c.eventPhase;return g};function ee(a){a=a||{};var b=a.callback;this.a=a.label;q(b)&&(this.callback=b);this.g=!!a.disabled;ee.v.constructor.call(this)}w(ee,G);u("H.util.ContextItem",ee);ee.prototype.b=function(){return this.a};ee.prototype.getLabel=ee.prototype.b;ee.prototype.Ua=function(a){this.a!==a&&(this.a=a,this.dispatchEvent("update"));return this};ee.prototype.setLabel=ee.prototype.Ua;ee.prototype.c=function(){return this.g};ee.prototype.isDisabled=ee.prototype.c;
ee.prototype.qa=function(a){a^this.g&&(this.g=a,this.dispatchEvent("update"));return this};ee.prototype.setDisabled=ee.prototype.qa;var fe=new ee;ee.SEPARATOR=fe;function ge(){if(x.document){var a=document.createElement("canvas");a.width=a.height=1;return a.getContext("2d")}return null}var he=/^rgba\(([^,]+),([^,]+),([^,]+),([^)]+)\)$/;
function ie(a){var b=je[a],c=x.RegExp;b||(x.Uint8ClampedArray||(x.Uint8ClampedArray=function(a){return a instanceof Number?Array(a):a.map(function(a){return Jb(ib(a),0,255)})}),"none"===a?b=new Uint8ClampedArray([0,0,0,0]):(ke.fillStyle="black",ke.fillStyle=a,he.test(ke.fillStyle)?b=new Uint8ClampedArray([c.$1,c.$2,c.$3,255*c.$4]):(ke.clearRect(0,0,1,1),ke.fillRect(0,0,1,1),b=ke.getImageData(0,0,1,1).data)),je[a]=b);return b}function le(a){return"none"!==a&&0<ie(a)[3]}var je=Ha(),me=!!x.VBArray;
u("H.util.eval",function(a){return eval(a)});function ne(a){return/^<svg/.test(a)?"data:image/svg+xml;charset=utf-8,"+encodeURIComponent(a):a}u("H.util.provide",function(a){ha(a,void 0)});function oe(){this.tb=0}oe.prototype.next=function(a){if(4294967295===this.tb)throw new od(a,this.tb,[0,4294967295]);return this.tb++};var pe=new oe,qe=A(pe.next,pe);function re(){return!0}function se(){return!1}function ic(){}var te=Ka([]);
function ue(a){return"CANVAS"===a.tagName?[a]:a.getElementsByTagName("CANVAS")}function ve(a,b,c){var d;b=a.ownerDocument===b?a.cloneNode(!0):b.importNode(a,!0);if(c)for(a=ue(a),c=ue(b),d=c.length;d--;)c[d].getContext("2d").drawImage(a[d],0,0);return b}function we(a){a.parentNode.removeChild(a)}var ke=ge(),xe=ge();function ye(a){var b=a.complete,c=0<a.naturalWidth;if(b&&!c&&me)try{xe.drawImage(a,0,0),c=!0}catch(d){}return b&&c}var ze=x.BlobBuilder||x.WebKitBlobBuilder||x.MozBlobBuilder;
function Ae(a){var b;ze?(b=new ze,b.append(a),a=b.getBlob("application/javascript")):a=new Blob([a],{type:"application/javascript"});return a};function Be(){}u("H.map.provider.Invalidations",Be);Be.MARK_INITIAL=Fb;Be.prototype.c=function(a,b){b!==Ce.NONE&&(this.a=a,b&Ce.SPATIAL&&(this.o=a),b&Ce.VISUAL&&(this.A=a),b&Ce.ADD&&(this.l=a),b&Ce.REMOVE&&(this.s=a),b&Ce.Z_ORDER&&(this.u=a))};Be.prototype.update=Be.prototype.c;Be.prototype.C=function(){return this.a};Be.prototype.getMark=Be.prototype.C;Be.prototype.a=Fb;Be.prototype.B=function(a){return this.a>a};Be.prototype.isAny=Be.prototype.B;Be.prototype.A=Fb;
Be.prototype.b=function(a){return this.A>a};Be.prototype.isVisual=Be.prototype.b;Be.prototype.o=Fb;Be.prototype.g=function(a){return this.o>a};Be.prototype.isSpatial=Be.prototype.g;Be.prototype.l=Fb;Be.prototype.j=function(a){return this.l>a};Be.prototype.isAdd=Be.prototype.j;Be.prototype.s=Fb;Be.prototype.f=function(a){return this.s>a};Be.prototype.isRemove=Be.prototype.f;Be.prototype.u=Fb;Be.prototype.i=function(a){return this.u>a};Be.prototype.isZOrder=Be.prototype.i;
var Ce={NONE:0,VISUAL:1,SPATIAL:2,ADD:4,REMOVE:8,Z_ORDER:16};Be.Flag=Ce;function De(a,b,c){De.v.constructor.call(this,a);this.oldValue=c;this.newValue=b}w(De,rc);u("H.util.ChangeEvent",De);function I(a){var b;Pa(this,I);I.v.constructor.call(this);this.Lb=Ee.next();a&&(b="min",Wa(a[b])&&(this.Da=a[b]),b="max",Wa(a[b])&&(this.Ka=a[b]),b="visibility",b in a&&(this.W=!!a[b]),b="zIndex",b in a&&(this.N=+a[b]||0),b="provider",b in a&&(this.i=a[b],this.va(Ce.ADD)),b="data",b in a&&this.f(a[b]))}w(I,G);u("H.map.Object",I);var Ee=new oe,Fe={ANY:0,OVERLAY:1,SPATIAL:2,MARKER:3,DOM_MARKER:4,GROUP:5};I.Type=Fe;I.prototype.vb={mh:"visibilitychange",nh:"zindexchange"};I.prototype.sa=function(){return this.Lb};
I.prototype.getId=I.prototype.sa;I.prototype.Da=-1/0;I.prototype.Ka=1/0;I.prototype.Id=function(){return this.Ka};I.prototype.getMax=I.prototype.Id;I.prototype.Jd=function(){return this.Da};I.prototype.getMin=I.prototype.Jd;I.prototype.W=!0;I.prototype.setVisibility=function(a){var b=this.W;(a=!!a)^b&&(this.W=a,this.invalidate(Ce.VISUAL),this.dispatchEvent(new De(this.vb.mh,a,b)));return this};I.prototype.setVisibility=I.prototype.setVisibility;
I.prototype.getVisibility=function(a){for(var b=this,c;(c=b.W)&&a&&(b=b.za););return c};I.prototype.getVisibility=I.prototype.getVisibility;I.prototype.N=B;I.prototype.$d=function(){return this.N};I.prototype.getZIndex=I.prototype.$d;I.prototype.ab=function(a){var b=this.N;a!==b&&(this.M(),this.N=a,this.invalidate(Ce.Z_ORDER),this.dispatchEvent(new De(this.vb.nh,a,b)));return this};I.prototype.setZIndex=I.prototype.ab;I.prototype.da=B;
function Ge(a){var b=a.da,c,d,e;b||(c=(d=a.N)!==B,(b=a.za)?(b=Ge(b).slice(),b[0]|=c):b=[c|0],b.push(d||0,(e=a.Wg)!==B?e:a.Lb),a.da=b);return b}I.prototype.M=function(){this.da=B};function He(a,b,c){if(!c||a[0]|b[0])for(var d=a.length,e=b.length,f=gb(d,e),g,h=1,k=1+c;h<f;h+=k)if(g=a[h]-b[h])return g;return c?0:d-e}function Ie(a,b){return a.Ca(b)}I.compareZOrder=Ie;I.prototype.Ca=function(a){return this.Ic-a.Ic||He(Ge(this),Ge(a),!1)};I.prototype.compareZOrder=I.prototype.Ca;p=I.prototype;
p.previousSibling=z;p.nextSibling=z;p.Wg=B;p.za=z;p.Ch=function(){return this.za};I.prototype.getParentGroup=I.prototype.Ch;I.prototype.he=function(){for(var a=this,b;b=a.za;)a=b;return a};I.prototype.getRootGroup=I.prototype.he;I.prototype.contains=function(a){return this===a};I.prototype.contains=I.prototype.contains;I.prototype.ha=function(a){if(this.za)throw new ac(this.ha,"Not allowed for a child of a group");I.v.ha.call(this,a)};I.prototype.setParentEventTarget=I.prototype.ha;
I.prototype.i=z;I.prototype.Sa=function(){return this.i};I.prototype.getProvider=I.prototype.Sa;I.prototype.G=function(a,b){var c=this.i,d,e;if(d=c!==a){if(b&&(c&&!C(c,J)||a&&!C(a,J)))throw new ac(b,"Only LocalObjectProvider allows an object transfers");e=this.type!==Fe.GROUP;c&&(this.invalidate(Ce.REMOVE),e&&c.a(this));if(this.i=a)e&&a.U(this),this.Ob=z,this.invalidate(Ce.ADD)}return d};I.prototype.l=function(){return this.Ob||(this.Ob=new Be)};I.prototype.getInvalidations=I.prototype.l;
I.prototype.va=function(a){var b=this.Sa(),c;(c=!!b)&&b.invalidateObject(this,a);return c};I.prototype.invalidate=I.prototype.va;I.prototype.F=function(){this.za&&this.za.a(this);I.v.F.call(this)};I.prototype.getData=function(){return this.$};I.prototype.getData=I.prototype.getData;I.prototype.f=function(a){this.$=a;return this};I.prototype.setData=I.prototype.f;function F(a,b,c,d){Je(this,Qb(a,F,0),Rb(b,F,1),Qb(c,F,2),Rb(d,F,3))}w(F,Wb);u("H.geo.Rect",F);F.prototype.md="POLYGON";F.prototype.Gb=function(a){var b=this.ka,c=this.fa,d=this.ja,e=this.ga;a.push("(",c," ",b,",",e," ",b,",",e," ",d,",",c," ",d,",",c," ",b,")");return a};F.prototype.ma=function(a){return this===a||!!a&&this.ka===a.ka&&this.fa===a.fa&&this.ja===a.ja&&this.ga===a.ga};F.prototype.equals=F.prototype.ma;F.prototype.clone=function(){return new F(this.ka,this.fa,this.ja,this.ga)};
F.prototype.clone=F.prototype.clone;function Je(a,b,c,d,e){a.fa=c;a.ga=e;b<d&&(c=b,b=d,d=c);a.ka=b;a.ja=d;a.i=a.f=a.j=null;return a}F.prototype.pb=function(){this.i||(this.i=new Xb(this.ka,this.fa));return this.i};F.prototype.getTopLeft=F.prototype.pb;F.prototype.nb=function(){this.f||(this.f=new Xb(this.ja,this.ga));return this.f};F.prototype.getBottomRight=F.prototype.nb;F.prototype.B=function(){return this.ka};F.prototype.getTop=F.prototype.B;F.prototype.A=function(){return this.ja};
F.prototype.getBottom=F.prototype.A;F.prototype.u=function(){return this.fa};F.prototype.getLeft=F.prototype.u;F.prototype.C=function(){return this.ga};F.prototype.getRight=F.prototype.C;F.prototype.Ra=function(){this.j||(this.j=new Xb(this.ja+(this.ka-this.ja)/2,Ke(this.fa,this.Wa())));return this.j};F.prototype.getCenter=F.prototype.Ra;F.prototype.Wa=function(){return Le(this.fa,this.ga)};F.prototype.getWidth=F.prototype.Wa;F.prototype.c=function(){return this.ka-this.ja};
F.prototype.getHeight=F.prototype.c;F.prototype.g=function(){return this.fa>this.ga};F.prototype.isCDB=F.prototype.g;F.prototype.ad=function(){return!this.Wa()&&!this.c()};F.prototype.isEmpty=F.prototype.ad;F.prototype.R=function(){return new F(this.ka,this.fa,this.ja,this.ga)};F.prototype.l=function(a,b,c){var d=this.Ra();c||(a=Qb(a,this.l,0),b=Rb(b,this.l,1));b=this.b(a,b,c);a=b.Ra();return a.lat===d.lat&&a.lng===d.lng&&this.c()===b.c()&&this.Wa()===b.Wa()};F.prototype.containsLatLng=F.prototype.l;
F.prototype.Sc=function(a,b){b||Yb(a,this.Sc,0);return this.l(a.lat,a.lng,b)};F.prototype.containsPoint=F.prototype.Sc;F.prototype.s=function(a,b){var c=this.Ra(),d,e;if(!b&&!C(a,F))throw new D(this.s,0,a);e=this.sb(a,b);d=e.Ra();return d.lat===c.lat&&d.lng===c.lng&&this.c()===e.c()&&this.Wa()===e.Wa()};F.prototype.containsRect=F.prototype.s;
F.prototype.b=function(a,b,c,d){if(!c){if(E(a=Qb(a)))throw new D(this.b,0,a);if(E(b=Rb(b)))throw new D(this.b,1,b);}return Me(this.ka,this.fa,this.ja,this.ga,a,b,a,b,d)};F.prototype.mergeLatLng=F.prototype.b;F.prototype.Xe=function(a,b,c){b||Yb(a,this.Xe,0);return this.b(a.lat,a.lng,b,c)};F.prototype.mergePoint=F.prototype.Xe;F.prototype.sb=function(a,b,c){if(!b&&!C(a,F))throw new D(this.sb,0,a);return Me(this.ka,this.fa,this.ja,this.ga,a.ka,a.fa,a.ja,a.ga,c)};F.prototype.mergeRect=F.prototype.sb;
F.prototype.a=function(a,b,c,d,e,f){e||(a=Qb(a,this.a,0),b=Rb(b,this.a,1),c=Qb(c,this.a,2),d=Rb(d,this.a,3));return Me(this.ka,this.fa,this.ja,this.ga,a,b,c,d,f)};F.prototype.mergeTopLeftBottomRight=F.prototype.a;F.prototype.tc=function(a,b){if(!b&&!C(a,F))throw new D(this.tc,0,a);var c=this.fa<=this.ga,d=a.fa<=a.ga,e=this.fa<a.ga,f=a.fa<this.ga;return this.ja<=a.ka&&a.ja<=this.ka&&(!c&&(!d||e||f)||!d&&(e||f)||e&&f)};F.prototype.intersects=F.prototype.tc;
function Le(a,b){var c=b-a;return c+(0>c?360:0)}function Ke(a,b){var c=a+b/2;return c-(180<c?360:0)}function Me(a,b,c,d,e,f,g,h,k){var l,n,m;c=gb(c,g);a=hb(a,e);e=Le(b,d);l=Ke(b,e);g=Le(f,h);m=Ke(f,g)-l;m+=0>m-1E-6?360:0;180>m-1E-6?(l=b,n=h):(m=360-m,l=f,n=d);m=m+e/2+g/2;360<=m+5E-7?(l=-180,n=180):m-5E-7<e?(l=b,n=d):m-5E-7<g&&(l=f,n=h);return k?Je(k,a,l,c,n):new F(a,l,c,n)}F.merge=Me;function Ne(a,b,c){c||(Yb(a,Ne,0),Yb(b,Ne,1));return new F(a.lat,a.lng,b.lat,b.lng)}F.fromPoints=Ne;
function Oe(a,b){if(!oa(a))throw new D(Oe,0,a);var c=1,d=a.length,e,f=null;if(0<d)for(e=a[0],f=Ne(e,e,b);c<d;c++)e=a[c],f.b(e.lat,e.lng,b,f);return f}F.coverPoints=Oe;function Pe(a,b){if(!(b||a&&null!=a.length))throw new D(Pe,0,a);var c=3,d=a.length,e;if(0<d)for(e=new F(a[0],a[1],a[0],a[1]);c<d;c+=3)e.b(a[c],a[c+1],b,e);return e}F.coverLatLngAlts=Pe;
function Qe(a,b){if(b&&(!a||null==a.length))throw new D(Qe,0,a);var c=1,d=a.length,e;if(0<d)for(e=new F(a[0].ka,a[0].fa,a[0].ja,a[0].ga);c<d;c++)e.sb(a[c],b,e);return e}F.coverRects=Qe;
F.prototype.o=function(a,b){Yb(a,this.o,0);var c=this.fa,d=this.ka,e=this.ga,f=this.ja,g=this.Ra().lng,h=a.lat-f-(d-f)/2,k=a.lng-g,k=180<k||-180>k?-(g+a.lng):k,c=c+(0>k?2*k:0),c=-180>c?360+c:c,e=e+(0<k?2*k:0),e=180<e?e-360:e,d=0<h?d+2*h:d;90<=d&&(d=90);f=0>h?f+2*h:f;-90>=f&&(f=-90);return b?Je(b,d,c,f,e):new F(d,c,f,e)};F.prototype.resizeToCenter=F.prototype.o;function L(a,b){a&&Re(a,L,0);this.a=null;this.Z=a||[];this.l=b;this.b=Se(this,0,this.Z.length)}u("H.geo.Strip",L);function Se(a,b,c){a=a.Z;var d=0;b=hb(b,0);c=gb(c,a.length);c-=2;for(b+=1;b<c;)d+=Te(a[b],a[b+=3]);return d}L.prototype.s=function(a,b,c){Ue(this,a,b,c,this.s)};L.prototype.pushLatLngAlt=L.prototype.s;function Ue(a,b,c,d,e){var f=a.Z.length;b=Qb(b,e);c=Rb(c,e);a.Z.push(Qb(b,e),Rb(c,e),d===B?0:Sb(d,e));f&&(a.b+=Te(a.Z[f-2],c));a.a=null}
L.prototype.g=function(a,b,c){c&&Re(c,this.g,2);var d;b&&(this.b-=Se(this,a-3,a+b+3));d=c?this.Z.splice.apply(this.Z,[a,b].concat(c)):this.Z.splice(a,b);c&&(this.b+=Se(this,a-3,a+c.length+3));b&&!c&&(this.b+=Se(this,a-3,a-3));this.a=null;return d};L.prototype.spliceLatLngAlts=L.prototype.g;L.prototype.A=function(a,b,c,d){this.g(a,0,[b,c,d])};L.prototype.insertLatLngAlt=L.prototype.A;L.prototype.u=function(a){this.g(a,3)};L.prototype.removeLatLngAlt=L.prototype.u;
L.prototype.c=function(a){Ue(this,a.lat,a.lng,a.alt,this.c)};L.prototype.pushPoint=L.prototype.c;L.prototype.G=function(a,b){this.A(3*a,b.lat,b.lng,b.alt)};L.prototype.insertPoint=L.prototype.G;L.prototype.D=function(a){this.u(3*a)};L.prototype.removePoint=L.prototype.D;L.prototype.f=function(a,b){var c=this.Z,d=3*a,e=c[d],f=c[d+1],c=c[d+2];b&&(b.lat=e,b.lng=f,b.alt=c,void 0!==c&&this.l&&(b.ctx=this.l));return b||new Xb(e,f,c,null!=c?this.l:void 0)};L.prototype.extractPoint=L.prototype.f;
L.prototype.o=function(a,b,c){var d=this.Z;b=b||0;for(c=c||d.length;b<c;b+=3)a(d[b],d[b+1],d[2],b/3)};L.prototype.eachLatLngAlt=L.prototype.o;L.prototype.i=function(a){var b=this.b;a&&(a=this.Z,b+=Te(a[a.length-2],a[1]));return b};L.prototype.getDBCs=L.prototype.i;L.prototype.j=function(){return this.Z.length/3};L.prototype.getPointCount=L.prototype.j;L.prototype.C=function(){return this.Z};L.prototype.getLatLngAltArray=L.prototype.C;
L.prototype.R=function(){var a;if(!(a=this.a)){a=this.Z;var b=a.length,c=3,d,e,f,g,h,k=null,l=Me;if(3<=b)for(d=e=a[0],f=g=a[1],k=new F(d,f,e,g);c<b;c+=3){d=a[c-3];f=a[c-2];e=a[c];g=a[c+1];if(f>g&&180<g-f||f<g&&-180>f-g||g<f&&180>lb(g-f))h=f,f=g,g=h;d<e&&(h=d,d=e,e=h);l(k.ka,k.fa,k.ja,k.ga,d,f,e,g,k)}a=this.a=k}return a};L.prototype.getBounds=L.prototype.R;L.prototype.B=function(){return null!==this.a};L.prototype.hasBounds=L.prototype.B;
function Re(a,b,c){for(var d=a.length,e=!(d%3),f;e&&d;)e=!(E(a[--d]=Sb((f=a[d])===B?0:f))||E(a[--d]=Rb(a[d]))||E(a[--d]=Qb(a[d])));if(!e&&b)throw new D(b,c,a);}function Te(a,b){return 0>a/b&&180<lb(b-a)}L.isDBC=Te;function Ve(a){var b=new L,c=0,d=a.length;if(d%2)throw new D(Ve,0,a);for(;c<d;)Ue(b,a[c++],a[c++],0,Ve);return b}L.fromLatLngArray=Ve;function We(a){var b,c,d,e;if(a){b=Xe;for(e=C(a,We);b--;)if(c=Ye[b],a.hasOwnProperty(c))if(d=a[c],e)this[c]=d;else{if((d=Ze[b](d))===$e)throw new D(We,0,c+": "+a[c]);d!==this[c]&&d!==B&&(this[c]=d)}b=e?a.b:this.lineWidth&&le(this.strokeColor);b||(this.b=b);b=e?a.c:le(this.fillColor);b||(this.c=b);b=e?a.a:"none"!==this.strokeColor&&this.lineWidth;b||(this.a=b)}Ka(this)}u("H.map.SpatialStyle",We);We.prototype.c=!0;We.prototype.b=!0;We.prototype.a=!0;var Ye=[];
We.prototype[Ye[0]="strokeColor"]="rgba(0,85,170,.6)";We.prototype[Ye[1]="fillColor"]="rgba(0,85,170,.4)";We.prototype[Ye[2]="lineWidth"]=2;We.prototype[Ye[3]="lineCap"]="round";We.prototype[Ye[4]="lineJoin"]="miter";We.prototype[Ye[5]="miterLimit"]=10;We.prototype[Ye[6]="lineDash"]=te;We.prototype[Ye[7]="lineDashOffset"]=0;var Xe=Ye.length;We.prototype.ma=function(a){var b,c;b=this===a;if(!b&&a){for(b=0;b<Xe&&(c=Ye[b],this[c]===a[c]);b++);b=b===Xe}return b};We.prototype.equals=We.prototype.ma;
We.prototype.f=function(a){var b;a?(b={},Aa(b,this,a)):b=this;return new We(b)};We.prototype.getCopy=We.prototype.f;var $e=Ka({}),Ze=[function(a){return a?Ia(a):$e},function(a){return a?Ia(a):$e},function(a){return 0<=a&&100>=a?+a:$e},function(a){return"butt"===(a=Ia(a))||"square"===a||"round"===a?a:$e},function(a){return"round"===a||"bevel"===a||"miter"===a?a:$e},function(a){return 0<a&&100>=a?+a:$e},function(a){return a&&a.every&&a.every(Xa)?a:$e},function(a){return E(+a)?$e:+a}];
We.MAX_LINE_WIDTH=100;var af=new We;We.DEFAULT_STYLE=af;function bf(a){var b,c,d;if(a){b=C(a,bf);for(c in a)c in this&&(d=a[c],d!==this[c]&&("fillColor"===c||0<(d=+d))&&(this[c]=d));a=b?a.bd:!!(le(this.fillColor)&&this.width&&this.width);a||(this.bd=a)}Ka(this)}u("H.map.ArrowStyle",bf);bf.prototype.bd=!0;Aa(bf.prototype,{fillColor:"rgba(255,255,255,.75)",width:1.2,length:1.6,frequency:5});bf.prototype.ma=function(a){var b=this===a;!b&&a&&(b=a.width===this.width&&a.fillColor===this.fillColor&&a.length===this.length&&a.frequency===this.frequency);return b};
bf.prototype.equals=bf.prototype.ma;function cf(a,b){var c;cf.v.constructor.call(this,b);b&&this.ba(b.style);a&&(this.B=!0);b&&(c=b.arrows)&&this.$b(c)}w(cf,I);u("H.map.Spatial",cf);cf.prototype.type=Fe.SPATIAL;cf.prototype.Ic=0;cf.prototype.style=af;cf.prototype.Na=function(){return this.style};cf.prototype.getStyle=cf.prototype.Na;
cf.prototype.ba=function(a){var b=this.style,c=!0;a?this.style=C(a,We)?a:new We(a):this.style?delete this.style:c=!1;c&&(this.dispatchEvent(new De("stylechange",this.style,b)),this.invalidate(Ce.VISUAL));return this};cf.prototype.setStyle=cf.prototype.ba;cf.prototype.xc=function(){return this.A};cf.prototype.getArrows=cf.prototype.xc;cf.prototype.$b=function(a){var b=this.A,c=!1;!a&&b?(delete this.A,c=!0):!a||b&&b.ma(a)||(this.A=new bf(a),c=!0);c&&"none"!==this.style.strokeColor&&this.va(1);return this};
cf.prototype.setArrows=cf.prototype.$b;function df(a,b){var c=!1,d;b!==a.o&&(b===a.S?c=a.style.c:(c=a.style,c=c.b||c.c&&a.B||(d=a.A||!1)&&c.a&&d.bd));return c&&a.getVisibility(!0)}cf.prototype.S=Ka([]);cf.prototype.o=Ka([]);cf.prototype.B=!1;cf.prototype.ce=function(){return this.B};cf.prototype.isClosed=cf.prototype.ce;cf.prototype.getGeometry=cf.prototype.Yb;cf.prototype.xa=function(){return z};cf.prototype.getLabels=cf.prototype.xa;cf.prototype.na=function(){return-1};
cf.prototype.getHybridIdx=cf.prototype.na;function ef(a,b,c){if(!this.ee&&!this.fe)throw Error("Illegal constructor call "+Qa(ef));ef.v.constructor.call(this,a,c);this.b(b)}w(ef,cf);u("H.map.GeoShape",ef);ef.prototype.c=z;ef.prototype.g=function(){return this.c};ef.prototype.getStrip=ef.prototype.g;function ff(a,b,c){var d=a!==z&&C(a,L);c=c||ff;if(!d||a.j()<(b||2))throw new D(c,0,a);}
ef.prototype.b=function(a){var b;if(a!==z&&!C(a,L))throw new D(ef.prototype.b,0,a);b=this.c;this.c=a;b!==z&&(this.dispatchEvent(new De("stripchange",a,b)),this.va(Ce.SPATIAL));return this};ef.prototype.setStrip=ef.prototype.b;ef.prototype.getBounds=ef.prototype.R;function gf(a,b,c,d){var e=[],f=b.length,g,h;for(g=0;g<f;g++)h=b[g],h.length&&e.push(hf(a,h,c,d));return e}
function hf(a,b,c,d){var e,f=[],g=b.length,h=0;a.eb=0;for(e=e||0;h<g;)f.push(jf(a,b[h++],b[h++],e,d));c&&f.push(jf(a,b[0],b[1],e,d));return f}function jf(a,b,c,d,e){var f=a.eb;f&&180<lb(f-c)&&(c+=0>f?-360:360);a.eb=c;return e.f(b,c+d)}function kf(a,b,c){for(var d=b,e,f=a.length+b,g,h;d--;){b=a[d];g=b.length;for(e=Array(g);g--;)h=b[g],e[g]=new M(h.x+c,h.y);a[--f]=e}}var lf=new L([0,0,0,0,0,0,0,0,0]);function mf(a,b){mf.v.constructor.call(this);if(!C(a,nf))throw new D(mf,0,a);if(Ua(b)){for(var c=0;c<b.length;c++)if(!C(b[c],nf))throw new D(mf,0,b);this.a=b}else if(b===B)this.a=[];else throw new D(mf,0,b);this.b=a}w(mf,Wb);mf.prototype.i=function(){return this.b};u("H.geo.Polygon.prototype.getExteriorLineString",mf.prototype.i);mf.prototype.f=function(a){if(!C(a,nf))throw new D(this.f,0,a);this.b=a};u("H.geo.Polygon.prototype.setExteriorLineString",mf.prototype.f);mf.prototype.l=function(){return this.a};
u("H.geo.Polygon.prototype.getInteriorLineStrings",mf.prototype.l);mf.prototype.g=function(a,b,c){a=[a];b!==B&&a.push(b);c&&(a=a.concat(c));return this.a.splice.apply(this.a,a)};u("H.geo.Polygon.prototype.spliceInteriorLineStrings",mf.prototype.g);mf.prototype.j=function(a){this.g(a,1)};u("H.geo.Polygon.prototype.removeInteriorLineStringAt",mf.prototype.j);mf.prototype.c=function(a){if(!C(a,nf))throw new D(this.c,0,a);this.a.push(a)};
u("H.geo.Polygon.prototype.pushInteriorLineString",mf.prototype.c);mf.prototype.R=function(){return this.b.R()};u("H.geo.Polygon.prototype.getBounds",mf.prototype.R);mf.prototype.b=z;mf.prototype.a=[];mf.prototype.md="POLYGON";mf.prototype.Gb=function(a){var b=this.a,c=b.length,d;if(this.b.g()){a.push("(");this.b.Gb(a);for(d=0;d<c;d++)b[d].g()&&(a.push(","),b[d].Gb(a));a.push(")")}else a.push("EMPTY");return a};function of(a){Pa(this,of);of.v.constructor.call(this);pf(this,a,this.constructor,0);this.Qa=a}w(of,Wb);of.prototype.splice=function(a,b,c){a=[a];b!==B&&a.push(b);c&&(pf(this,c,this.splice,2),a=a.concat(c));this.a=z;return this.Qa.splice.apply(this.Qa,a)};u("H.geo.AbstractMultiGeometry.prototype.splice",of.prototype.splice);of.prototype.b=function(a){var b=this.Qa.length;if(!(0<=a&&a<b))throw new od(this.b,a,[0,b-1]);this.a=z;return this.Qa.splice(a,1)[0]};
u("H.geo.AbstractMultiGeometry.prototype.removeAt",of.prototype.b);of.prototype.remove=function(a){a=this.Qa.indexOf(a);var b;0<=a&&(b=this.Qa.splice(a,1)[0],this.a=z);return b||z};u("H.geo.AbstractMultiGeometry.prototype.remove",of.prototype.remove);of.prototype.f=function(){return this.Qa};u("H.geo.AbstractMultiGeometry.prototype.getGeometries",of.prototype.f);of.prototype.push=function(a){pf(this,[a],this.push,0);this.a&&(this.a=this.a.sb(a.R()));this.Qa.push(a)};
u("H.geo.AbstractMultiGeometry.prototype.push",of.prototype.push);of.prototype.R=function(){var a;if(!(a=this.a)){a=z;var b,c;if(this.Qa.length)for(a=this.Qa[0].R(),c=1;c<this.Qa.length;c++)if(b=this.Qa[c].R())a=a?a.sb(b):b}return this.a=a};u("H.geo.AbstractMultiGeometry.prototype.getBounds",of.prototype.R);of.prototype.a=z;function pf(a,b,c,d){for(var e=Ua(b),f=e&&b.length;e&&f--;)e=C(b[f],a.c);if(!e)throw new D(c,d);}
of.prototype.ma=function(a){var b=this===a,c,d;if(!b&&(b=C(a,this.constructor)))for(c=this.Qa,a=a.Qa,b=(d=c.length)===a.length;b&&d--;)b=c[d].ma(a[d]);return b};u("H.geo.AbstractMultiGeometry.prototype.equals",of.prototype.ma);of.prototype.Gb=function(a){var b=this.Qa,c=b.length,d,e,f=!1;if(c){a.push("(");for(d=0;d<c;d++)(e=0<d&&f)&&a.push(","),b[d].Gb(a),"EMPTY"===a[a.length-1]?a.splice(-1-e,1+e):f=!0;f?a.push(")"):a.splice(-1,1,"EMPTY")}else a.push("EMPTY");return a};
of.prototype.toString=function(){return this.Gb(["MULTI",this.c.prototype.md," "]).join("")};function qf(a,b){ff(a,rf,qf);qf.v.constructor.call(this,!0,a,b)}w(qf,ef);u("H.map.Polygon",qf);var rf=3;qf.prototype.ee=!0;qf.prototype.R=function(){var a,b,c,d;if(!(a=this.C)){if(b=this.g())if(a=b.R())(c=b.i(!0))&&(d=b.j())&&(a=a.sb(Oe([b.f(0),b.f(d-1)],!0),!0)),360===a.Wa()&&1===c%2&&(a=a.b(this.u?90:-90,0));this.C=a||z}return a};qf.prototype.getBounds=qf.prototype.R;
qf.prototype.Yb=function(a){var b,c,d,e=a.C(),f,g,h,k;d=sf(this);d=gf(this,d,!0,e);f=this.R();g=this.g().i(!0);h=this.u;k=a.u();if(360===f.Wa()&&1==g%2){var l;d[0][1].x>d[0][d[0].length-1].x&&(d[0]=d[0].reverse());b=[];c=d[0].length-1;for(g=0;g<c;g++)l=d[0][g],b[g]=new M(l.x-2*e.w,l.y),b[g+c]=new M(l.x-e.w,l.y),b[g+2*c]=new M(l.x,l.y),b[g+3*c]=new M(l.x+e.w,l.y),b[g+4*c]=new M(l.x+2*e.w,l.y);d[0]=b;e=e.f(h?90:-90,0);e.y=2*k[h?"top":"bottom"];h=e.clone();e.x=d[0][d[0].length-1].x+1;h.x=d[0][0].x-1;
d[0].push(e,h)}h=k.left;e=k.top;g=k.right;k=k.bottom;c=tf(h,e,d[0]);d[1]&&(c^=tf(h,e,d[1]));if(!uf(d,h,e,g,k,!0).length)d=c?this.S:this.o;else if(!a.A().s(f)){a=[];f=[new M(h,e),new M(g,e),new M(g,k),new M(h,k)];for(k=d.length;k--;){e=d[k];h=vf(f);var e=vf(e),n=void 0,m=void 0,r=void 0,t=void 0,v=void 0,y=void 0,K=r=g=void 0;b=g=void 0;g={};c=b=1;l=0;l=~~(1*l);switch(l){case 1:c=b=0;break;case 2:b=0;c=1;break;case 3:b=1,c=0}l=c;var V=t=void 0,r=n=c=void 0;if(e&&h){e.vd=wf(e.x,e.y,null,xf(e));h.vd=
wf(h.x,h.y,null,xf(h));for(n=e;n.next;n=n.next)if(!n.Xa)for(m=h;m.next;m=m.next)!m.Xa&&(t=yf(n.next),V=yf(m.next),r=zf(n,t,m,V,g))&&(r=g.ph,K=g.Tf,v=g.ji,y=g.li,r=wf(v,y,null,null,null,null,1,0,0,r),Af(r,n,t),t=wf(v,y,null,null,null,null,1,0,0,K),Af(t,m,V),r.Ze=t,t.Ze=r);g=Bf(e,h);b&&(g=1-g);for(n=e;n;n=n.next)n.Xa&&(n.Be=g,g=1-g);g=Bf(h,e);l&&(g=1-g);for(m=h;m.next;m=m.next)m.Xa&&(m.Be=g,g=1-g);Cf(e);for(Cf(h);(g=Df(e))!=e;){for(n=null;!g.ge;g=g.Ze){for(b=g.Be;;){n=wf(g.x,g.y,n);g.ge=1;g=b?g.next:
g.ib;if(!g)break;if(g.Xa){g.ge=1;break}}if(!g)break}n.$e=c;c=n}h=c}else h=void 0;if(h)for(e=Ef(h),a.push(e);h.$e;)h=h.$e,e=Ef(h),a.push(e)}d=a;d.length||(d=this.o)}return d};qf.prototype.getGeometry=qf.prototype.Yb;function tf(a,b,c){var d,e,f,g,h,k,l,n;e=g=c[0].x;f=h=c[0].y;d=1;for(n=c.length;d<n;d++)k=c[d].x,l=c[d].y,k>g?g=k:k<e&&(e=k),l>h?h=l:l<f&&(f=l);return e<=a&&a<=g&&f<=b&&b<=h?1===Bf({x:a,y:b},c.concat(c[0])):!1}
function Ef(a){var b=[],c,d=a,e,f;do{e=ib(100*(d.Wh?d.Wh:d.x))/100;f=ib(100*(d.Xh?d.Xh:d.y))/100;if(!c||.01<nb(ob(c.x-e,2)+ob(c.y-f,2)))c=new M(e,f),b.push(c);d=d.next}while(d&&d!==a);return b}qf.prototype.C=z;qf.prototype.b=function(a){ff(a,rf,this.b);this.C=z;return qf.v.b.call(this,a)};qf.prototype.setStrip=qf.prototype.b;qf.prototype.u=!0;qf.prototype.I=function(a){this.u!==a&&(this.u=a,this.C=z,this.va(Ce.SPATIAL));return this};qf.prototype.setNorthPoleCovering=qf.prototype.I;
qf.prototype.Vd=function(){return this.u};qf.prototype.getNorthPoleCovering=qf.prototype.Vd;
function sf(a){var b,c,d;b=[[]];c=a.g().Z;d=[];var e=c.length,f,g,h,k=!1;for(f=0;f<e;f+=3)g=c[f],h=c[f+1],k||180!=lb(h)||(d.push(g),d.push(h),d.push(g),d.push(-h),k=!0),d.push(g),d.push(h);c=d;a=a.R();d=a.Wa();360>d&&-180==a.fa&&(a=new F(a.ka,180,a.ja,a.ga));360>d&&180==a.ga&&(a=new F(a.ka,a.fa,a.ja,-180));if(a.g()){h=c.length;var l;d=-1;for(e=0;e<h-2;e+=2)if(Vb(c[e+1],c[e+3])){d=e+2;break}-1===d&&Vb(c[h-1],c[1])&&(d=h);-1!==d&&(f=c[d-2],e=c[d-1],g=c[d%h],l=c[(d+1)%h],180!==lb(f)&&180!==lb(g)&&(k=
lb(g-f),h=lb(l-e),h+=180<h?-360:0,l=lb(180-l),l+=180<l?-360:0,h&&l&&(k/=lb(h)/lb(l),f=g+(g>f?-k:k),e=0<e?180:-180,c.splice(d,0,f,e,f,-e))))}b[0]=Ff([].concat(c),a.fa);360>a.Wa()&&a.Sc(new Xb(a.ka,180))&&(c=Ff([].concat(c),a.ga),b.push(c));return b}qf.prototype.Pb=function(){var a=qf.prototype.Pb,b=x.console;!eb&&b&&b.warn&&(a=Qa(a)+" is deprecated and will be removed soon. ",b.warn(a));return sf(this)};qf.prototype.clip=qf.prototype.Pb;
function Ff(a,b){for(var c=[],d=Number.POSITIVE_INFINITY,e=-1,f,g=a.length,c=0;c<g;c+=2)f=lb(a[c+1]-b),f+=180<f?360-f:f,f<d&&(d=f,e=c);return 0<c?(c=a.splice(e,a.length-e),c.concat(a)):a};function Gf(a,b,c){Gf.v.constructor.call(this,lf,c);this.ub(a);this.Pa(b);c&&"precision"in c&&this.Oa(c.precision)}w(Gf,qf);u("H.map.Circle",Gf);Gf.prototype.ub=function(a){(a=Zb(a)).ma(this.j)||(this.j=a,Hf(this))};Gf.prototype.setCenter=Gf.prototype.ub;Gf.prototype.Ra=function(){return this.j};Gf.prototype.getCenter=Gf.prototype.Ra;Gf.prototype.Pa=function(a){if(E(a=Jb(a,0,6371000.79*xb/2)))throw new D(this.Pa,0,a);this.Ja!==a&&(this.Ja=a,Hf(this))};Gf.prototype.setRadius=Gf.prototype.Pa;
Gf.prototype.Xd=function(){return this.Ja};Gf.prototype.getRadius=Gf.prototype.Xd;Gf.prototype.a=60;Gf.prototype.Oa=function(a){if(!Wa(a))throw new D(this.Oa,0,a);this.a!==(a=Jb(ib(a),4,360))&&(this.a=a,Hf(this))};Gf.prototype.setPrecision=Gf.prototype.Oa;Gf.prototype.Wd=function(){return this.a};Gf.prototype.getPrecision=Gf.prototype.Wd;Gf.prototype.I=function(){return this};Gf.prototype.setNorthPoleCovering=Gf.prototype.I;Gf.prototype.b=function(){return this};Gf.prototype.setStrip=Gf.prototype.b;
Gf.prototype.g=function(){this.c||Gf.v.b.call(this,If(this));return this.c};Gf.prototype.getStrip=Gf.prototype.g;function Hf(a){a.c!==z&&Gf.v.b.call(a,If(a))}function If(a){var b=a.j,c=b.lat,d=a.Ja,e=0,f=new L;a.u=0<c;if(90===lb(c))for(c=b.Bf(0,d,!0).lat;360>e;e+=120)f.s(c,e-180,B);else for(a=a.a,a=360/a;360>e;e+=a)f.c(b.Bf(e,d,!0));return f};function nf(a,b){nf.v.constructor.call(this);a&&Jf(a,nf,0);this.a=null;this.Z=a||[];this.f=b;this.b=Kf(this,0,this.Z.length)}w(nf,Wb);function Kf(a,b,c){a=a.Z;var d=0;b=hb(b,0);c=gb(c,a.length);c-=2;for(b+=1;b<c;)d+=Lf(a[b],a[b+=3]);return d}nf.prototype.l=function(a,b,c){Mf(this,a,b,c,this.l)};u("H.geo.LineString.prototype.pushLatLngAlt",nf.prototype.l);function Mf(a,b,c,d,e){var f=a.Z.length;b=Qb(b,e);c=Rb(c,e);a.Z.push(Qb(b,e),Rb(c,e),d===B?0:Sb(d,e));f&&(a.b+=Lf(a.Z[f-2],c));a.a=null}
nf.prototype.c=function(a,b,c){c&&Jf(c,this.c,2);var d;void 0===b&&(b=this.Z.length);b&&(this.b-=Kf(this,a-3,a+b+3));d=c?this.Z.splice.apply(this.Z,[a,b].concat(c)):this.Z.splice(a,b);c&&(this.b+=Kf(this,a-3,a+c.length+3));b&&!c&&(this.b+=Kf(this,a-3,a-3));this.a=null;return d};u("H.geo.LineString.prototype.spliceLatLngAlts",nf.prototype.c);nf.prototype.i=function(a,b,c,d){this.c(a,0,[b,c,d])};u("H.geo.LineString.prototype.insertLatLngAlt",nf.prototype.i);
nf.prototype.s=function(a){this.c(a,3)};u("H.geo.LineString.prototype.removeLatLngAlt",nf.prototype.s);nf.prototype.j=function(a){Mf(this,a.lat,a.lng,a.alt,this.j)};u("H.geo.LineString.prototype.pushPoint",nf.prototype.j);nf.prototype.G=function(a,b){this.i(3*a,b.lat,b.lng,b.alt)};u("H.geo.LineString.prototype.insertPoint",nf.prototype.G);nf.prototype.D=function(a){this.s(3*a)};u("H.geo.LineString.prototype.removePoint",nf.prototype.D);
nf.prototype.A=function(a,b){var c=this.Z,d=3*a,e=c[d],f=c[d+1],c=c[d+2];b&&(b.lat=e,b.lng=f,b.alt=c,void 0!==c&&this.f&&(b.ctx=this.f));return b||new Xb(e,f,c,null!=c?this.f:void 0)};u("H.geo.LineString.prototype.extractPoint",nf.prototype.A);nf.prototype.o=function(a,b,c){var d=this.Z;b=b||0;for(c=c||d.length;b<c;b+=3)a(d[b],d[b+1],d[2],b/3)};u("H.geo.LineString.prototype.eachLatLngAlt",nf.prototype.o);var Lf=Vb;u("H.geo.LineString.isDBC",Lf);
nf.prototype.u=function(a){var b=this.b;a&&(a=this.Z,b+=Lf(a[a.length-2],a[1]));return b};u("H.geo.LineString.prototype.getDBCs",nf.prototype.u);nf.prototype.g=function(){return this.Z.length/3};u("H.geo.LineString.prototype.getPointCount",nf.prototype.g);nf.prototype.C=function(){return this.Z};u("H.geo.LineString.prototype.getLatLngAltArray",nf.prototype.C);
nf.prototype.R=function(){var a;if(!(a=this.a)){a=this.Z;var b=a.length,c=3,d,e,f,g,h,k=null,l=Me;if(3<=b)for(d=e=a[0],f=g=a[1],k=new F(d,f,e,g);c<b;c+=3){d=a[c-3];f=a[c-2];e=a[c];g=a[c+1];if(f>g&&180<g-f||f<g&&-180>f-g||g<f&&180>lb(g-f))h=f,f=g,g=h;d<e&&(h=d,d=e,e=h);l(k.ka,k.fa,k.ja,k.ga,d,f,e,g,k)}a=this.a=k}return a};u("H.geo.LineString.prototype.getBounds",nf.prototype.R);nf.prototype.B=function(){return null!==this.a};u("H.geo.LineString.prototype.hasBounds",nf.prototype.B);
function Jf(a,b,c){for(var d=a.length,e=!(d%3),f;e&&d;)e=!(E(a[--d]=Sb((f=a[d])===B?0:f))||E(a[--d]=Rb(a[d]))||E(a[--d]=Qb(a[d])));if(!e&&b)throw new D(b,c,a);}function Nf(a){var b=new nf,c=0,d=a.length;if(d%2)throw new D(Nf,0,a);for(;c<d;)Mf(b,a[c++],a[c++],0,Nf);return b}u("H.geo.LineString.fromLatLngArray",Nf);nf.prototype.ma=function(a){var b=this===a,c,d;if(!b&&(b=C(a,nf)))for(c=this.Z,a=a.Z,b=(d=c.length)===a.length;b&&d--;)b=c[d]==a[d];return b};
u("H.geo.LineString.prototype.equals",nf.prototype.ma);nf.prototype.md="LINESTRING";nf.prototype.Gb=function(a){var b=this.Z,c=b.length,d;if(c){a.push("(");for(d=0;d<c;d+=3)d&&a.push(","),a.push(b[d+1]," ",b[d]);a.push(")")}else a.push("EMPTY");return a};function Of(a,b,c,d,e){this.j=a||10;this.a=this.b=this.l=null;this.c=d||0;this.f=e||0;this.g=b||1;this.i=c||1;this.a=this.l=new Pf(null,0,this.c-this.g,this.f-this.i,this.c+this.g,this.f+this.i);this.b=null}function Qf(a,b){for(var c,d,e,f,g,h,k,l=0,n,m,r=4,t;r--;){t=r+4;g=[];c=+!(r%3);h=b[r];for(n=(d=a[r]).length;n--;){e=d[n];if(f=e.Y)for(m=f.length;m--;)((k=f[m][r])>h)-c&&(h=k);for(m=4;m--;)if(f=e[m])c?f[t]<h&&g.push(f):f[t]>h&&g.push(f)}l+=g.length;b[r]=h;a[r]=g}l&&(b=Qf(a,b));return b}
Of.prototype.remove=function(a){var b,c=a.a,d=c.Y;if(d&&(b=d.indexOf(a),-1!==b&&(d.splice(b,1),!d.length))){delete c.Y;for(var e=this.a;(d=c.a)&&!(c.Y||c[0]||c[1]||c[2]||c[3]);)c===e&&(e=d),delete c.a,delete d[c.b],c=d;this.a=e;Rf(this)}(b=0<=b)&&Sf(this,a,!1);return b};function Sf(a,b,c){var d,e;if(d=a.b)for(e=4;e--;)if(e%3?b[e]>=d[e]:b[e]<=d[e])if(c)d[e]=b[e];else{a.b=null;break}}
function Tf(a,b,c,d,e,f,g){var h=b[8],k=b[9];if(g&&(e<h||e<b[5]&&c>=h)&&(f<k||f<b[6]&&d>=k)){var l=Tf,h=(d>=k?2:0)|c>=h;b=b[h]||(b[h]=new Pf(b,h));c=l(a,b,c,d,e,f,g-1)}else c=new Uf(b,c,d,e,f),(b.Y||(b.Y=[])).push(c),Sf(a,c,!0),Rf(a,b);return c}function Rf(a,b){var c=a.a,d;if(b){if(d=b,d!==c)for(c=d;d=d.a;)if(d.Y||3>!d[0]+!d[1]+!d[2]+!d[3])c=d}else for(;!c.Y&&2< !c[0]+!c[1]+!c[2]+!c[3];)if(d=c[0]||c[1]||c[2]||c[3])c=d;else break;a.a=c}
Of.prototype.Xa=function(a,b,c,d){var e=[];Vf(this,this.a,e,a,b,c,d);return e};function Vf(a,b,c,d,e,f,g){var h,k,l=b.Y;k=b[7];var n=b[8],m=b[5],r=b[4],t=b[9],v=b[6],y;if(l)if(h=l.length,d>k||f<m||e>r||g<v)for(;h--;)k=l[h],m=k[3],r=k[0],v=k[1],y=k[2],m>f||v<d||r>g||y<e||c.push(k);else for(;h--;)c.push(l[h]);f>=n&&(e<=t&&b[1]&&Vf(a,b[1],c,d,e,f,g),g>=t&&b[3]&&Vf(a,b[3],c,d,e,f,g));d<=n&&(e<=t&&b[0]&&Vf(a,b[0],c,d,e,f,g),g>=t&&b[2]&&Vf(a,b[2],c,d,e,f,g))}
function Pf(a,b,c,d,e,f){a?(this.a=a,this.b=b,b&1?(c=a[8],e=a[5]):(c=a[7],e=a[8]),b&2?(d=a[9],f=a[6]):(d=a[4],f=a[9])):this.b=this.a=null;this[7]=c;this[5]=e;this[8]=(c+e)/2;this[4]=d;this[6]=f;this[9]=(d+f)/2}function Uf(a,b,c,d,e){this.id=++Wf;this.a=a;this[0]=c;this[1]=d;this[2]=e;this[3]=b}var Wf=0;function Xf(a){this.i=new Of(+a||10,180,90,0,0);this.g=[];this.b=this.f=this.a=null}Xf.prototype.c=0;
Xf.prototype.R=function(){var a,b,c;if(!this.a){c=[];var d;if(d=!this.f){a=this.i;var e;!(e=a.b)&&(d=a.a,d.Y||d[0]||d[1]||d[2]||d[3])&&(e=[d],e=Qf([e,e,e,e],[d[6],d[7],d[4],d[5]]),a.b=e);d=a=e}d&&(this.f=new F(-a[0],a[3],-a[2],a[1]));(b=this.f)&&c.push(b);var f,g,h,k;if(!this.b&&(k=(g=this.g).length)){a=90;d=360;e=-90;for(f=0;k--;)h=g[k],a=gb(a,h[0]),d=gb(d,h[3]),e=hb(e,h[2]),f=hb(f,h[1]);this.b=new F(-a,d,-e,f-360)}(b=this.b)&&c.push(b);if(b=c[0])c[1]&&(b=b.sb(c[1],!0)),this.a=b}return this.a};
function Yf(a,b,c,d,e,f){f?(f=new Uf(null,e,-b,c+360,-d),a.g.push(f),a.b&&a.b.a(b,c,d,e,!0,a.b)):(f=a.i,f=Tf(f,f.l,c,-b,e,-d,f.j),a.f&&a.f.a(b,c,d,e,!0,a.f));++a.c;a.a=null;return f}function Zf(a,b){var c=b.lng,d=b.lat;return Yf(a,d,c,d,c,!1)}function $f(a,b){var c=b.pb(),d=b.nb(),e=b.g();return e?Yf(a,c.lat,d.lng,d.lat,c.lng,e):Yf(a,c.lat,c.lng,d.lat,d.lng,e)}
Xf.prototype.remove=function(a){var b,c=!1;if(a.a)c=this.i.remove(a),this.f=null;else if(a=(b=this.g).indexOf(a),c=0<=a)b.splice(a,1),this.b=null;c&&(--this.c,this.a=null);return c};function ag(a,b,c,d,e){a=a.g;var f=a.length,g,h=[],k,l;if(f)for(k=c+360,l=e+360;f--;)g=a[f],bg(g,b,c,d,e)?h.push(g):bg(g,b,k,d,l)&&h.push(g);return h}function bg(a,b,c,d,e){var f=a[0],g=a[1],h=a[2];return!(a[3]>e||g<c||f>d||h<b)}
function cg(a,b){var c,d,e,f;if(d=b.length){c=a.length;for(e={};c--;)e[a[c].id]=1;for(;d--;)(f=b[d]).id in e||a.push(f)}}function dg(a,b){var c=a.i,d=b.pb(),e=b.nb(),f=-d.lat,d=d.lng,g=-e.lat,e=e.lng,h;b.g()?(h=c.Xa(-180,f,e,g),cg(h,c.Xa(d,f,180,g)),cg(h,ag(a,f,e,g,d+360))):(h=c.Xa(d,f,e,g),cg(h,ag(a,f,d,g,e)));return h};function eg(a,b){ff(a,gg,eg);eg.v.constructor.call(this,!1,a,b)}w(eg,ef);u("H.map.Polyline",eg);var gg=2;eg.prototype.fe=!0;eg.prototype.R=function(){return this.a.R()};eg.prototype.getBounds=eg.prototype.R;eg.prototype.b=function(a){var b,c,d,e=this.a=new Xf;ff(a,gg,this.b);a.o(function(a,g,h,k){if(0<k){var l,n,m;c<g?(h=c,n=g):(h=g,n=c);b<a?(l=a,m=b):(l=b,m=a);d=Yf(e,l,h,m,n,180<n-h);d.ie=k-1}b=a;c=g});return eg.v.b.call(this,a)};eg.prototype.setStrip=eg.prototype.b;
eg.prototype.j=function(a){return hg(this,a)};eg.prototype.clip=eg.prototype.j;eg.prototype.Yb=function(a){var b=hg(this,a.A()),c=a.C(),d,b=gf(this,b,!1,c);if(d=b.length){var c=c.w,e=b;a.x||kf(e,d,-c);a.x===(1<<a.z)-1&&kf(e,d,c);a=a.u();b=uf(b,a.left,a.top,a.right,a.bottom,!1);b.length||(b=this.o)}else b=this.o;return b};eg.prototype.getGeometry=eg.prototype.Yb;function ig(a,b){return a.ie-b.ie}
function hg(a,b){var c,d,e=a.c.Z,f,g,h,k=-2,l,n=[];c=dg(a.a,b).sort(ig);f=c.length;for(g=0;g<f;g++)d=c[g],h=d.ie,d=3*h,k+1!==h&&(l=e[d],k=e[d+1],n.push(l=[l,k])),k=h,d+=3,h=e[d],d=e[d+1],l.push(h,d);if(a.c.i()){e=[];for(g=0;g<n.length;g++)if(l=n[g],f=l.length){d=[];for(c=0;c<f;c+=2)0==c||0<c&&!Vb(l[c+1],l[c-1])?d.push(l[c],l[c+1]):(d.push(l[c],l[c+1]),e.push(d),d=[],l[c-1]+=0>l[c-1]?360:-360,d.push(l[c-2],l[c-1],l[c],l[c+1]));e.push(d)}n=e}return n};function jg(a){var b=""+qe(),c;a=a||{};this.min=a.min||0;this.max=a.max||22;if(c=a.uri){if(/_/.test(c))throw new D(jg,0,"uri "+c);}else c=b;this.uri=c||b;this.uid=b;a.getCopyrights&&Sa(a.getCopyrights,"Function",jg)&&(this.getCopyrights=a.getCopyrights);jg.v.constructor.call(this)}w(jg,G);u("H.map.provider.Provider",jg);jg.prototype.G={la:"update"};function kg(a,b){a.dispatchEvent(new rc(a.G.la,b))}jg.prototype.F=function(){G.prototype.F.call(this)};jg.prototype.Ea=function(){return null};
jg.prototype.getCopyrights=jg.prototype.Ea;jg.prototype.u=se;jg.prototype.providesSpatials=jg.prototype.u;jg.prototype.ba=se;jg.prototype.providesOverlays=jg.prototype.ba;jg.prototype.l=se;jg.prototype.providesMarkers=jg.prototype.l;jg.prototype.i=se;jg.prototype.providesDomMarkers=jg.prototype.i;function lg(a){var b;Pa(this,lg);lg.v.constructor.call(this,a);if(a&&"tileSize"in a){b=mb(+a.tileSize)/wb;if(isNaN(b)||b%1||0>b||30<b)throw new D(lg,0,"tileSize: "+a.tileSize);this.tileSize=+a.tileSize}}w(lg,jg);u("H.map.provider.TileProvider",lg);function mg(a,b){return Gb(a)-8-ib(Gb(b))}lg.getZoomLevelOffset=mg;lg.prototype.B=function(a,b,c){return this.uri.concat("_",a,"_",b,"_",c)};lg.prototype.getTileKey=lg.prototype.B;lg.prototype.Pa=256;lg.prototype.tileSize=lg.prototype.Pa;function ng(){}u("H.util.ICache",ng);ng.prototype.add=function(){};ng.prototype.add=ng.prototype.add;ng.prototype.get=function(){};ng.prototype.get=ng.prototype.get;ng.prototype.g=function(){};ng.prototype.drop=ng.prototype.g;ng.prototype.forEach=function(){};ng.prototype.forEach=ng.prototype.forEach;ng.prototype.Ba=function(){};ng.prototype.removeAll=ng.prototype.Ba;ng.prototype.c=function(){};ng.prototype.registerOnDrop=ng.prototype.c;function og(a,b,c){b&&this.c(b);if(c&&!q(c))throw new D(og,2,c);this.a=0;this.filter=c;this.Y={};this.f=this.b=null;this.i(a)}u("H.util.Cache",og);og.prototype.add=function(a,b,c){var d,e;c=+c;if(!Wa(c)||0>c)throw new D(this.add,2,c);a=String(a);d=this.Y[a];e=!0;this.filter&&(e=this.filter(a,b,c));d?e?(this.a+=c-d.size,d.size=c,d.data=b,pg(this,d)):qg(this,d,!0):e&&(this.Y[a]=rg(this,{id:a,data:b,size:c,tb:null,Rb:null},this.b));sg(this);return e};og.prototype.add=og.prototype.add;
og.prototype.c=function(a){if(!q(a))throw new D(this.c,0,a);this.j=a};og.prototype.registerOnDrop=og.prototype.c;og.prototype.get=function(a,b){var c=b?this.Y[a]:pg(this,this.Y[a]);return c&&c.data};og.prototype.get=og.prototype.get;og.prototype.g=function(a){var b;(b=this.Y[a])&&qg(this,b,!0)};og.prototype.drop=og.prototype.g;og.prototype.forEach=function(a,b,c){var d,e;for(e in this.Y)d=this.Y[e],(c?c(e,d.data,d.size):1)&&a.call(b,e,d.data,d.size)};og.prototype.forEach=og.prototype.forEach;
og.prototype.Ba=function(a){var b,c;for(c in this.Y)b=this.Y[c],(a?a(c,b.data,b.size):1)&&qg(this,this.Y[c],!0)};og.prototype.removeAll=og.prototype.Ba;og.prototype.i=function(a){if(!(0<+a))throw new D(og.prototype.i,0,a);this.l=+a;sg(this);return this};og.prototype.setMaxSize=og.prototype.i;og.prototype.o=function(){return this.l};og.prototype.getMaxSize=og.prototype.o;og.prototype.s=function(){return this.a};og.prototype.getCurrentSize=og.prototype.s;
function pg(a,b){b&&(a.b=rg(a,b,a.b));return b}function sg(a){for(;a.a>a.l&&a.f;)qg(a,a.f,!0)}function rg(a,b,c){if(c!==b){(b.tb||b.Rb)&&qg(a,b);if(b.tb=c)b.Rb=c.Rb,c.Rb=b;b.Rb||(a.b=b);b.tb||(a.f=b);a.a+=b.size}return b}function qg(a,b,c){var d=b.Rb,e=b.tb;if(d||e||b==a.b&&b==a.f)d?d.tb=e:a.b=e,e?e.Rb=d:a.f=d,a.a-=b.size,c&&(a.j&&a.j(b.id,b.data,b.size),delete a.Y[b.id]);b.tb=b.Rb=null};function tg(a,b,c,d){this.key="";this.x=a;this.y=b;this.z=c;this.data=d;this.valid=!0}u("H.map.provider.Tile",tg);function N(a){Pa(this,N);N.v.constructor.call(this,a);this.a={};this.pendingCallbacks={};this.na=new ug;this.o=A(this.o,this);this.g=vg}w(N,lg);u("H.map.provider.RemoteTileProvider",N);N.prototype.A=function(){return 1};N.prototype.getEntryWeight=N.prototype.A;var vg=new og(65536);N.prototype.xa=function(){return this.g};N.prototype.getCache=N.prototype.xa;N.prototype.P=ba(0);N.prototype.o=function(a){var b=this.uri;return!a.indexOf(b)&&"_"===a.charAt(b.length)};N.prototype.cacheFilter=N.prototype.o;
N.prototype.Ka=function(a,b){b.valid=!1};N.prototype.j=function(a){var b,c=this.getCache();a?c.Ba(this.o):c.forEach(this.Ka,this,this.o);for(b in this.a)this.a[b].cancel();for(b in this.pendingCallbacks)this.pendingCallbacks[b]["delete"]();this.a={};this.pendingCallbacks={};kg(this)};N.prototype.reload=N.prototype.j;N.prototype.Pc=function(){return!1};N.prototype.canStore=N.prototype.Pc;N.prototype.MAX_STORE_TIME=Infinity;N.prototype.C=function(){return this.na};N.prototype.getStorage=N.prototype.C;
N.prototype.Ca=function(a,b){b(a)};function wg(a,b,c,d,e,f){var g=a.C();d=~~d;return a.requestInternal(b,c,d,function(h,k){g.cd(a.B(b,c,d),k&&{raw:k.bi,timestamp:x.Date.now()},e,f)},f,0)}N.prototype.requestInternal=N.prototype.c;
N.prototype.s=function(a,b,c,d){var e=this,f,g,h,k=this.getCache(),l,n=this.a,m=this.C();if(E(a=+a))throw new D(this.s,0,a);if(E(b=+b))throw new D(this.s,0,b);if(E(c=+c))throw new D(this.s,0,c);c=~~c;f=this.getTileKey(a,b,c);(g=k.get(f))&&g.valid||d||this.a[f]?kg(e,g):(n[f]=xg,h=function(d){var h;d&&(h=x.Date.now()-d.timestamp);d&&h<e.MAX_STORE_TIME?e.Ca(d.raw,function(h){delete e.a[f];g=e.createTileInternal(a,b,c,h,{});g.key=f;k.add(f,g,e.A(d));kg(e,g)}):(h&&m.remove(f),g=void 0,e.a[f]=e.requestInternal(a,
b,c,function(d,h){g=e.createTileInternal(a,b,c,d,h);g.key=f;k.add(f,g,e.A(d));delete e.a[f];kg(e,g)},function(){delete e.a[f];e.pendingCallbacks[f]&&(e.pendingCallbacks[f]["delete"](),delete e.pendingCallbacks[f])}),g&&(delete e.a[f],e.pendingCallbacks[f]&&(e.pendingCallbacks[f]["delete"](),delete e.pendingCallbacks[f])))},(l=m.get(f,h,function(){l=e.na.get(f,h)}))&&n[f]===xg&&(n[f]=l));return g};N.prototype.requestTile=N.prototype.s;var xg={cancel:function(){}};
N.prototype.createTileInternal=function(a,b,c,d){return new tg(a,b,c,d)};N.prototype.M=function(a){var b=this.a[a],c=this.pendingCallbacks[a];b&&(b.cancel(),delete this.a[a],delete this.pendingCallbacks[a]);c&&(c["delete"](),delete this.pendingCallbacks[a])};N.prototype.cancelTileByKey=N.prototype.M;N.prototype.S=function(a,b,c){this.cancelTileByKey(this.getTileKey(a,b,c))};N.prototype.cancelTile=N.prototype.S;
N.prototype.F=function(){var a;N.v.F.call(this);this.getCache().Ba(this.o);for(a in this.a)this.a[a].cancel(),delete this.a[a];for(a in this.pendingCallbacks)this.pendingCallbacks[a]["delete"](),delete this.pendingCallbacks[a]};function ug(){}N.NullStorage=ug;ug.prototype.get=function(a,b){b();return xg};ug.prototype.get=ug.prototype.get;ug.prototype.cd=function(a,b,c){c&&c()};ug.prototype.put=ug.prototype.cd;ug.prototype.clear=function(a){a&&a()};ug.prototype.clear=ug.prototype.clear;
ug.prototype.remove=function(a,b){b&&b()};ug.prototype.remove=ug.prototype.remove;function yg(a){if(!a||!q(a.requestData))throw new D(yg,0,"options.requestData");yg.v.constructor.call(this,a);this.da=a.requestData;this.$=!!a.providesDomMarkers}w(yg,N);u("H.map.provider.MarkerTileProvider",yg);yg.prototype.A=function(a){return a?a.length+1:1};yg.prototype.getEntryWeight=yg.prototype.A;
yg.prototype.c=function(a,b,c,d,e){var f=this;return this.da(a,b,c,function(e){for(var h=[],k,l,n=e.length;n--;)l=e[n],l.ei=f.getTileKey(a,b,c),l.ha(f),k=l.ob(),(C(l,zg)||k.getState()===k.Nc.READY)&&h.push(e[n]);d(h)},e)};yg.prototype.requestInternal=yg.prototype.c;yg.prototype.D=function(a,b){var c;b!==Ce.NONE&&((c=this.g.get(a.ei))&&(c.valid=!1),kg(this,c))};yg.prototype.invalidateObject=yg.prototype.D;yg.prototype.i=function(){return this.$};yg.prototype.providesDomMarkers=yg.prototype.i;
yg.prototype.l=re;yg.prototype.providesMarkers=yg.prototype.l;function M(a,b){this.x=+a;this.y=+b}u("H.math.Point",M);M.prototype.set=M;M.prototype.set=M.prototype.set;M.prototype.clone=function(a){a?(a.x=this.x,a.y=this.y):a=new M(this.x,this.y);return a};M.prototype.clone=M.prototype.clone;M.prototype.add=function(a){this.x+=a.x;this.y+=a.y;return this};M.prototype.add=M.prototype.add;M.prototype.b=function(a){this.x-=a.x;this.y-=a.y;return this};M.prototype.sub=M.prototype.b;M.prototype.scale=function(a,b){this.x*=a;this.y*=void 0===b?a:b;return this};
M.prototype.scale=M.prototype.scale;M.prototype.round=function(){this.x=ib(this.x);this.y=ib(this.y);return this};M.prototype.round=M.prototype.round;M.prototype.floor=function(){this.x=jb(this.x);this.y=jb(this.y);return this};M.prototype.floor=M.prototype.floor;M.prototype.ceil=function(){this.x=kb(this.x);this.y=kb(this.y);return this};M.prototype.ceil=M.prototype.ceil;M.prototype.ma=function(a){return!(!a||this.x!==a.x||this.y!==a.y)};M.prototype.equals=M.prototype.ma;
M.prototype.a=function(a,b){var c=b.x-a.x,d=b.y-a.y,e,f=a;if(c||d)e=((this.x-a.x)*c+(this.y-a.y)*d)/(c*c+d*d),0>=e?f=a:1<=e?f=b:f=new M(a.x+e*c,a.y+e*d);return f};M.prototype.getNearest=M.prototype.a;M.prototype.distance=function(a){return nb(ob(this.x-a.x,2)+ob(this.y-a.y,2))};M.prototype.distance=M.prototype.distance;function Ag(a){if(!a)throw new D(Ag,0,a);return C(a,M)?a:new M(a.x,a.y)}M.fromIPoint=Ag;function Bg(){}Bg.prototype.vc=function(){};u("H.geo.IProjection.prototype.latLngToPoint",Bg.prototype.vc);Bg.prototype.wa=function(){};u("H.geo.IProjection.prototype.xyToGeo",Bg.prototype.wa);Bg.prototype.Cc=function(){};u("H.geo.IProjection.prototype.pointToGeo",Bg.prototype.Cc);Bg.prototype.mb=function(){};u("H.geo.IProjection.prototype.geoToPoint",Bg.prototype.mb);var Cg={};u("H.geo.mercator",Cg);Cg.a=function(a){return gb(1,hb(0,.5-mb(tb(zb+yb*a/180))/xb/2))};Cg.b=function(a){return a/360+.5};Cg.vc=function(a,b,c){c?(c.x=Cg.b(b),c.y=Cg.a(a)):c=new M(Cg.b(b),Cg.a(a));return c};Cg.latLngToPoint=Cg.vc;Cg.mb=function(a,b){return Cg.vc(a.lat,a.lng,b)};Cg.geoToPoint=Cg.mb;Cg.f=function(a){return 0>=a?90:1<=a?-90:Db*(2*ub(pb(xb*(1-2*a)))-yb)};Cg.c=function(a){return 360*(1===a?1:Hb(a,1))-180};
Cg.wa=function(a,b,c){c?(c.lat=Cg.f(b),c.lng=Cg.c(a)):c=new Xb(Cg.f(b),Cg.c(a));return c};Cg.xyToGeo=Cg.wa;Cg.Cc=function(a,b){return Cg.wa(a.x,a.y,b)};Cg.pointToGeo=Cg.Cc;function Dg(a,b){this.projection=a||Cg;this.g=0;this.c=this.exp=mb(b||256)/wb;Eg(this);this.y=this.x=0}u("H.geo.PixelProjection",Dg);Dg.prototype.Ha=function(a){if(E(a))throw new D(this.Ha,0,a);var b=this.x/this.w,c=this.y/this.h;this.g=a;this.c=this.exp+a;Eg(this);this.x=b*this.w;this.y=c*this.h};Dg.prototype.rescale=Dg.prototype.Ha;function Eg(a){30<a.c&&(a.c=30);a.w=ob(2,a.c);a.h=ob(2,a.c)}Dg.prototype.dg=function(){return this.g||0};Dg.prototype.getZoomScale=Dg.prototype.dg;
Dg.prototype.geoToPixel=function(a,b){var c=this.projection.vc(a.lat,a.lng,b);c.x=c.x*this.w-this.x;c.y=c.y*this.h-this.y;return c};Dg.prototype.geoToPixel=Dg.prototype.geoToPixel;Dg.prototype.a=function(a,b){return this.projection.wa((a.x+this.x)/this.w,(a.y+this.y)/this.h,b)};Dg.prototype.pixelToGeo=Dg.prototype.a;Dg.prototype.wa=function(a,b,c){return this.projection.wa((a+this.x)/this.w,(b+this.y)/this.h,c)};Dg.prototype.xyToGeo=Dg.prototype.wa;
Dg.prototype.f=function(a,b,c){a=this.projection.vc(a,b,c);a.x=a.x*this.w-this.x;a.y=a.y*this.h-this.y;return a};Dg.prototype.latLngToPixel=Dg.prototype.f;Dg.prototype.b=function(a){return new M(a.x*this.w-this.x,a.y*this.h-this.y)};Dg.prototype.pointToPixel=Dg.prototype.b;function Fg(a){Fg.v.constructor.call(this);a=a||{};this.min=0;this.max=22;this.th=!!a.dark;a.min&&this.u(a.min);a.max&&this.A(a.max);this.pixelProjection=new Dg(a.projection,a.minWorldSize)}w(Fg,G);u("H.map.layer.Layer",Fg);Fg.prototype.a={la:"update",Of:"minchange",Nf:"maxchange"};Fg.prototype.G=function(a){return this.min<=a&&a<=this.max};Fg.prototype.isValid=Fg.prototype.G;
Fg.prototype.u=function(a){var b=this.min;if(a!==b){if(E(a))throw new D(Fg.prototype.u,0,"min is NaN");if(a<=this.max)this.min=a,this.dispatchEvent(new De(this.a.Of,a,b));else throw new D(Fg.prototype.u,0,"min > max");}return this};Fg.prototype.setMin=Fg.prototype.u;Fg.prototype.A=function(a){var b=this.max;if(a!==b){if(E(a))throw new D(Fg.prototype.A,0,"max is NaN");if(a>=this.min)this.max=a,this.dispatchEvent(new De(this.a.Nf,a,b));else throw new D(Fg.prototype.A,0,"max < min");}return this};
Fg.prototype.setMax=Fg.prototype.A;Fg.prototype.o=function(){this.dispatchEvent(this.a.la)};Fg.prototype.F=function(){Fg.v.F.call(this)};Fg.prototype.Ea=function(){return null};Fg.prototype.getCopyrights=Fg.prototype.Ea;function Gg(a,b){var c=b||{};if(!a)throw new D(Hg,0,a);this.o=A(this.o,this);this.b=a;a.addEventListener(jg.prototype.G.la,this.o,!1,this);this.tileSize=a.tileSize;this.B={};Fg.call(this,{min:a.min,max:a.max,minWorldSize:this.tileSize,projection:c.Hi,dark:c.dark})}w(Gg,Fg);u("H.map.layer.BaseTileLayer",Gg);Gg.prototype.Sa=function(){return this.b};Gg.prototype.getProvider=Gg.prototype.Sa;
Gg.prototype.g=function(a,b){var c,d=this.pixelProjection,e;if(!C(a,F))throw new D(this.g,0,a);E(b)||(c=d.dg(),d.Ha(b));e=Ig(d.geoToPixel(a.pb()),d.geoToPixel(a.nb()));!E(c)&&d.Ha(c);return e};Gg.prototype.geoRectToRect=Gg.prototype.g;Gg.prototype.f=function(a,b){if(!C(a,Jg))throw new D(this.f,0,a);if(E(b=+b))throw new D(this.f,1,b);var c=ob(2,jb(b)),d=this.tileSize,e,f;e=jb(a.left/d);e===c&&--e;f=jb(a.right/d);f===c&&--f;return new Jg(e,Jb(jb(a.top/d),0,c-1),f,Jb(jb(a.bottom/d),0,c-1))};
Gg.prototype.getTileBounds=Gg.prototype.f;Gg.prototype.C=function(a,b,c,d){return this.b.requestTile(a,b,c,d)};Gg.prototype.l=function(a,b,c){this.b.cancelTile(a,b,c)};Gg.prototype.cancelTile=Gg.prototype.l;Gg.prototype.Ea=function(a,b){return this.b.getCopyrights?this.b.getCopyrights(a,b):null};Gg.prototype.getCopyrights=Gg.prototype.Ea;
function Kg(a,b,c,d,e){d=jb(d);var f=ob(2,d),g=b.left,h=b.top,k=b.right;c=k+(c?f+(k===b.left?0:1):1);var l=b.bottom,n=[],m,r;e&&(m=g+(1+k-g)/2+e.x/a.tileSize-.5,r=h+(1+l-h)/2+e.y/a.tileSize-.5);for(;g<c;){for(h=b.top;h<=l;)a=g%f,n.push([a,h,d,e?lb(m-g)+lb(r-h):0]),h++;g++}return n}function Lg(a,b,c){var d;c=jb(c);a.pixelProjection.Ha(c);b=a.g(b);d=a.f(b,c);return Kg(a,d,b.left>b.right,c)}
Gg.prototype.i=function(a,b,c,d,e,f){if(!C(a,Jg))throw new D(this.i,0,a);if(E(c=+c))throw new D(this.i,1,c);var g,h=[],k,l=this.b;f=null!=f?f:"__default__";var n=l.requestTile;d||(g={});b=Kg(this,a,b,c,e);if(a=b.length)for(d||b.sort(Mg),c=a;c--;)e=b[c],d||(g[l.B.apply(l,e)]=!0),e[3]=+d,(k=n.apply(l,e))&&h.push(k);if(!d){d=g;var m;g=this.B[f]||{};for(m in g)g.hasOwnProperty(m)&&g[m]&&!d[m]&&this.b.cancelTileByKey(m);this.B[f]=d}return{total:a,tiles:h}};Gg.prototype.getProviderTiles=Gg.prototype.i;
function Mg(a,b){return b[3]-a[3]};function Ng(a,b){this.opacity=1;Ng.v.constructor.call(this,a,b)}w(Ng,Gg);u("H.map.layer.MarkerTileLayer",Ng);var Og={markers:[],total:0,requested:0};function Pg(a,b,c,d,e){var f;f=jb(c);a.pixelProjection.Ha(f);b=a.g(b);f=a.f(b,f);c=a.i(f,f.left>f.right,~~c,d,e);a=c.tiles;c=c.total;d=a.length;e=[];var g;for(g=0;g<d;g++)for(f=a[g],b=f.data.length;b--;)e.push(f.data[b]);return{markers:e,total:a.length,requested:c}}
Ng.prototype.s=function(a,b,c,d){return this.b.providesDomMarkers()?Og:Pg(this,a,b,c,d)};Ng.prototype.requestMarkers=Ng.prototype.s;Ng.prototype.j=function(a,b,c,d){return this.b.providesDomMarkers()?Pg(this,a,b,c,d):Og};Ng.prototype.requestDomMarkers=Ng.prototype.j;function Qg(a,b){Qg.v.constructor.call(this,lf,b);this.j(a)}w(Qg,qf);u("H.map.Rect",Qg);Qg.prototype.j=function(a){if(!C(a,F))throw new D(this.j,0,a);a.ma(this.C)||(this.C=this.a=a,this.c!==z&&Qg.v.b.call(this,Rg(this)))};Qg.prototype.setBounds=Qg.prototype.j;Qg.prototype.R=function(){return this.a};Qg.prototype.getBounds=Qg.prototype.R;Qg.prototype.I=function(){return this};Qg.prototype.setNorthPoleCovering=Qg.prototype.I;Qg.prototype.b=function(){return this};Qg.prototype.setStrip=Qg.prototype.b;
Qg.prototype.g=function(){return this.c||Qg.v.b.call(this,Rg(this)).c};Qg.prototype.getStrip=Qg.prototype.g;function Rg(a){var b=a.a,c,d,e,f;a=[c=b.ka,d=b.fa,B,c,f=b.ga,B,e=b.ja,f,B,e,d,B];180<=b.Wa()&&(a.splice(9,0,e,d=b.Ra().lng,B),a.splice(3,0,c,d,B));return new L(a)};function Sg(a,b,c){if(!a||!b||!c)throw new D(Sg,null,"Must specify name, version and revision parameter");this.name=a;this.version=b;this.revision=c}u("H.util.BuildInfo",Sg);Sg.prototype.toString=function(){return this.name+";"+this.version+";"+this.revision};var Tg={};function Ug(a,b,c){if(!a)throw new D(Ug,1,"Must specify a name parameter");return Tg[a]||(Tg[a]=new Sg(a,b,c))}Sg.get=Ug;function Vg(){Vg.v.constructor.call(this);this.a=Wg(this);this.f=Ha();this.c=A(this.c,this);this.a.addEventListener("message",this.c)}w(Vg,G);Vg.prototype.F=function(){this.a.terminate()};Vg.prototype.i=function(a){var b=a.type,c=!!this.f[b],d=a.data,e=Xg++,f=d&&d.fi?d.fi:B,g=!0;c?(this.b[e]=a,Yg(this,b,e,d&&d.message,f)):(a.reject(new D(this.i,0,"processor_not_found")),g=!1);return g};
Vg.prototype.c=function(a){a=a.data;var b=this.b[a.taskId],c=a.taskId,d=a.data,e=this;if(2===a.type)(new Zg($g,d)).then(function(a){e.a.postMessage(["3",c,[a]],[a])},function(){e.a.postMessage(["3",c,[null,"ERROR"]])});else{if(b){switch(a.type){case 1:b.resolve(d);break;case 0:b.reject(d)}delete this.b[c]}this.dispatchEvent(new rc(this.g.IDLE))}};Vg.prototype.b={};var Xg=0;function ah(a,b,c){var d=Xg++,e;a.b[d]=e=Xc();Yg(a,b,d,c);return e.nf}
function Yg(a,b,c,d,e){d===B||oa(d)||(d=[d]);try{a.a.postMessage([b,c,d],e)}catch(f){a=a.b[c],a.reject(f.message)}}Vg.prototype.g={IDLE:"idle",ERROR:"error"};Vg.prototype.l=function(a,b){var c=this.j||(this.j=new rc(this.g.ERROR));c.data=b;delete this.f[a];this.dispatchEvent(c)};Vg.prototype.importScripts=function(a){ah(this,"0",a)};
function Wg(a){var b=x.H.__bootstrap__,c,b=q(b)?(""+b).replace(/^[^{]+{((.|[\r\n])+?)}\s*$/,"$1"):""+b;if(x.Worker&&x.URL)try{c=new x.Worker(x.URL.createObjectURL(Ae(b)))}catch(d){}c||(a=new bh(a),function(){eval("var self = arguments[0];"+b)}(a),c=new ch(a));return c}function ch(a){G.call(this);this.a=a}w(ch,G);ch.prototype.postMessage=function(a){x.setTimeout(A(this.b,this,a),0)};ch.prototype.b=function(a){var b=new rc("message");b.data=a;this.a.dispatchEvent(b)};
ch.prototype.terminate=function(){this.a.K();this.K()};function bh(a){G.call(this);this.a=a;this.addEventListener=A(this.addEventListener,this);this.removeEventListener=A(this.removeEventListener,this);this.postMessage=A(this.postMessage,this);this.eval=A(eval,this)}w(bh,G);bh.prototype.postMessage=function(a){var b=this.b||(this.b=new rc("message"));b.data=a;x.setTimeout(A(this.a.c,this.a,b),0)};function dh(){var a=eh;a||(a=eh=this,G.call(a),this.b());return a}var eh;w(dh,G);dh.prototype.F=function(){dh.v.F.call(this);this.b()};
Aa(dh.prototype,{b:function(){var a=this.Cf,b;if(a)for(b=a.length;b--;)a[b].K();this.Cf=[];this.Bd=Ha();this.Qg=Ha()},qe:function(a){var b,c,d;a=a.type;if(d=this.Qg[a])b=this.Cf,c=b[0],c||(c=b[0]=new Vg,this.Ab(xa(qc,c)),Ra(this.Bd)||c.importScripts(x.Object.keys(this.Bd))),b=c,b.f[a]||(b.f[a]=d,ah(b,"1",[a,q(d)?d+"":d]).then(ic,A(b.l,b,a)));else throw new ac(this.qe,'Unknown type "'+a+'"');return c},we:function(){},jd:function(a,b){var c=this.Qg,d=c[a];if(d){if(b!==d)throw new ac(this.jd,'Type "'+
a+'" is already registered');}else c[a]=b},importScripts:function(a){[].concat(a).forEach(function(a){this.Bd[a]||(this.Bd[a]=!0,this.Cf.forEach(function(c){c.importScripts(a)}))},this)}});function fh(a,b,c){jd.call(this,a,b,c)}w(fh,jd);Aa(fh.prototype,{xd:function(){var a=new md(new dh);return function(){return a}}(),ne:ic,Ce:function(a){return a.i(this)}});function gh(a,b){var c,d=a;if(!C(d,Element)){hh.innerHTML=d;d=hh.firstElementChild;if(!d)throw new D(gh,0,"No element data");hh.removeChild(d);c=!0;hh.innerHTML=""}this.c=0!==ue(d).length;this.i=c?d:ve(d,x.document,this.c);b&&(c="onAttach",c in b&&Sa(d=b[c],"Function",gh,1,c)&&(this.af=d),c="onDetach",c in b&&Sa(d=b[c],"Function",gh,1,c)&&(this.f=d))}u("H.map.DomIcon",gh);var hh=document.createElement("DIV");gh.prototype.af=null;gh.prototype.f=null;gh.prototype.c=!1;function ih(a,b){this.w=+a;this.h=+b}u("H.math.Size",ih);function jh(a,b){var c,d,e,f,g,h,k;f=a;var l=b||[];if(a!==kh.NONE){c=d=l.length;if(-1===this.c.indexOf(f))throw new D(jh,0,a);if(!l)throw new D(jh,1,l);for(;d--;)if(E(l[d]))throw new D(jh,1,l);f===kh.RECT&&3<c&&(l=[l[0],l[1],l[2],l[1],l[2],l[3],l[0],l[3]],f=kh.POLYGON);if(f===kh.CIRCLE&&2<c&&(e=l[2],0<e)){f=l[0];g=l[1];d=gb(2*kb(e),40);h=360/d;for(l=[];d--;)k=h*d*Cb,l.push(f+qb(k)*e,g+sb(k)*e);f=kh.POLYGON}if(f!==kh.POLYGON||!c||l.length%2)throw new D(jh,1,l);this.b=l}}u("H.map.HitArea",jh);
var kh={NONE:0,RECT:1,CIRCLE:2,POLYGON:3};jh.ShapeType=kh;jh.prototype.c=[kh.RECT,kh.CIRCLE,kh.POLYGON];jh.prototype.a=function(a,b,c){return this.b?Nb(a,b,this.b,c,!0):Mb.NONE};jh.prototype.hitTest=jh.prototype.a;function lh(a,b){var c;Pa(this,lh);lh.v.constructor.call(this,b);this.a(a);b&&"icon"in b&&(c=b.icon);this.Ub(c||mh(this))}w(lh,I);u("H.map.AbstractMarker",lh);lh.prototype.Ca=function(a){var b,c,d=this.Ic-a.Ic;d||(d=He(b=Ge(this),c=Ge(a),!0)||a.getPosition().lat-this.getPosition().lat||He(b,c,!1));return d};lh.prototype.getPosition=function(){return this.c};lh.prototype.getPosition=lh.prototype.getPosition;
lh.prototype.a=function(a){var b=this.c,c=!b;if(c||!b.ma(a))Yb(a,c?lh:this.a,0),this.c=Zb(a),c||this.va(Ce.SPATIAL);return this};lh.prototype.setPosition=lh.prototype.a;lh.prototype.ob=function(){return this.icon};lh.prototype.getIcon=lh.prototype.ob;lh.prototype.Ub=function(a){var b=this.icon,c=!b;if(b!==a){if(!C(a,this.gg))throw D.apply(b=new D,c?[this.constructor,1,"icon"]:[this.a,0,a]),b;this.icon=a;c||this.va(Ce.VISUAL)}return this};lh.prototype.setIcon=lh.prototype.Ub;
function mh(a){var b=a.g;b||(b=a.constructor.prototype.g=a.b(nh));return b}
var nh={svg:'<svg xmlns="http://www.w3.org/2000/svg" width="28px" height="36px"><path d="M 19 31 C 19 32.7 16.3 34 13 34 C 9.7 34 7 32.7 7 31 C 7 29.3 9.7 28 13 28 C 16.3 28 19 29.3 19 31 Z" fill="#000" fill-opacity=".2"/><path d="M 13 0 C 9.5 0 6.3 1.3 3.8 3.8 C 1.4 7.8 0 9.4 0 12.8 C 0 16.3 1.4 19.5 3.8 21.9 L 13 31 L 22.2 21.9 C 24.6 19.5 25.9 16.3 25.9 12.8 C 25.9 9.4 24.6 6.1 22.1 3.8 C 19.7 1.3 16.5 0 13 0 Z" fill="#fff"/><path d="M 13 2.2 C 6 2.2 2.3 7.2 2.1 12.8 C 2.1 16.1 3.1 18.4 5.2 20.5 L 13 28.2 L 20.8 20.5 C 22.9 18.4 23.8 16.2 23.8 12.8 C 23.6 7.07 20 2.2 13 2.2 Z" fill="#18d"/></svg>',size:new ih(28,
36),anchor:new M(14,32),hitArea:new jh(3,[0,16,0,7,8,0,18,0,26,7,26,16,18,34,8,34])};function zg(a,b){zg.v.constructor.call(this,a,b)}w(zg,lh);u("H.map.DomMarker",zg);zg.prototype.type=Fe.DOM_MARKER;zg.prototype.Ic=2;zg.prototype.b=function(a){var b=new gh(a.svg,a);a=a.anchor;b.i.style.margin=-a.y+"px 0 0 -"+a.x+"px";return b};zg.prototype.gg=gh;function oh(a,b){var c=b||{};"status"in c&&(this.status=+c.status);"statusText"in c&&(this.statusText=c.statusText);this.ok=200<=this.status&&300>this.status;this.b=!1;a?"string"===typeof a&&(this.a=a):this.a=""}u("H.net.Response",oh);oh.prototype.type="default";oh.prototype.type=oh.prototype.type;oh.prototype.status=200;oh.prototype.status=oh.prototype.status;oh.prototype.statusText="OK";oh.prototype.statusText=oh.prototype.statusText;
oh.b=function(a){if(a.b)return Wc(new TypeError("Already read"));a.b=!0};oh.error=function(){oh.a||(oh.a=new oh(null,{status:0,statusText:""}),oh.a.type="error");return oh.a};oh.error=oh.error;oh.prototype.text=function(){var a=oh.b(this);a||(a=this.a?new Nc(Pc,this.a):Wc("Unsupported response body"));return a};oh.prototype.json=function(){return this.text().then(x.JSON.parse)};x.Response&&x.Response.error&&(oh=x.Response);function ph(a,b,c){function d(){var a=A(l.b,l),b=+k.timeout||0;qh?(rh(l,"timeout",a),e.timeout=b):b&&(l.f=setTimeout(function(){e.abort();l.b({type:"timeout"})},b));rh(l,"error",a);rh(l,"load",a);e.send(k.data)}var e,f,g,h=c&&c.headers||{},k={},l=this;if(!q(b))throw new D(ph,1,"function required");a+="";Aa(h,sh.headers,h);Aa(k,sh,c||{});k.headers=h;this.c=b;this.a=e=new XMLHttpRequest;b=k.method;try{e.open(b,a,!0);for(f in h)h.hasOwnProperty(f)&&(g=h[f])&&e.setRequestHeader(f,g);e.withCredentials=
!!k.withCredentials;d()}catch(n){if(th)this.b({type:"cors"});else{this.a=e=new XDomainRequest;try{e.open(b,a),e.onprogress=function(){},d()}catch(m){this.b({type:"cors"})}}}}u("H.net.Xhr",ph);var sh={method:"GET",headers:{},data:null},th="withCredentials"in new XMLHttpRequest,qh="timeout"in new XMLHttpRequest;function rh(a,b,c){th?a.a.addEventListener(b,c):a.a["on"+b]=c}function uh(a,b,c){th?a.a.removeEventListener(b,c):a.a["on"+b]=null}
ph.prototype.g=function(){this.a&&(this.a.abort(),this.a&&this.b({type:"abort"}))};ph.prototype.abort=ph.prototype.g;
ph.prototype.b=function(a){var b=a.type;a=this.a;var c,d;this.f&&clearTimeout(this.f);"load"===b?a instanceof XMLHttpRequest&&200!==a.status&&(c="network"):c=4===a.readyState&&0===a.status&&"error"==b?"cors":"error"!=b?b:"network";b=this.b;uh(this,"timeout",b);uh(this,"error",b);uh(this,"load",b);0===a.status||c&&"network"!==c?d=oh.error():d=new oh(a.responseText,a);c=this.c;delete this.b;delete this.c;delete this.a;c(d)};function vh(){var a=vh.a;a||(a=this,vh.a=a,G.call(a),this.a());return a}w(vh,G);vh.prototype.F=function(){vh.v.F.call(this);this.a()};
Aa(vh.prototype,{a:function(){this.Sh=10;this.Th=6;this.Fc=Ha();this.pf=Ha();this.sf=0},qe:function(a){a=a.type;var b=this.Fc[a]||0,c;return this.sf<this.Sh&&b<this.Th?(c=this.gi(),this.sf++,this.Fc[a]=b+1,this.pf[c]=a,c):z},we:function(a){var b=this.pf[a];if(b===B||!this.Fc[b])throw new ac(this.we,"Unknown requestId");this.sf--;this.Fc[b]--;this.Fc[b]||delete this.Fc[b];delete this.pf[a];this.dispatchEvent("allocatable")},Hh:-1,gi:function(){return++this.Hh}});function Zg(a,b,c,d){var e=wh;if(!this.a[a])throw new D(Zg,0,"Mime type is not supported");this.g=a;this.f=d&&d.crossOrigin;e.href=b;jd.call(this,e.protocol+"//"+e.hostname,b,c)}w(Zg,jd);Zg.prototype.Ce=function(){this.c=this.a[this.g].call(this);return!0};Zg.prototype.ne=function(){this.c.abort();this.c=null};
Zg.prototype.a={"application/json":function(){var a=this;return new ph(this.data,function(b){200===b.status?a.resolve(b.json()):a.reject(b)},{headers:{Accept:"application/json"}})},"text/plain":function(){var a=this;return new ph(this.data,function(b){200===b.status?a.resolve(b.text()):a.reject(b)})},image:function(){var a=x.document.createElement("img"),b=this.f,c=this;a.onload=A(this.resolve,this,a);a.onerror=function(){c.reject(oh.error())};a.src=this.data;b!==B&&(a.crossOrigin=b);return{abort:function(){a.onerror=
a.onload=null;me&&ye(a)||a.removeAttribute("src")}}}};(function(){var a;try{a=new XMLHttpRequest,a.open("get","/",!0)}catch(b){a={}}"response"in a&&(Zg.prototype.a.arraybuffer=function(){var a=new XMLHttpRequest,b=this;a.open("GET",this.data);a.responseType="arraybuffer";a.onerror=a.ontimeout=function(){b.reject(oh.error())};a.onload=function(){b.resolve(a.response)};a.send();return a})})();Zg.prototype.xd=function(){var a=new md(new vh);return function(){return a}}();var $g="arraybuffer",wh=x.document.createElement("a");function xh(a){var b=yh[a];if(!b)if(a in zh)b=yh[a]=a;else{var b=Ah.length,c="",d=a.substr(0,1).toUpperCase()+a.substr(1),e="",f=!1;Bh&&(e=Bh+d,f=e in zh);for(;b--&&!f;)c=Ah[b],e=c+d,f=e in zh;f&&(Bh=c);if(b=f?e:null)yh[a]=b;else throw Error("Could not find any variant of CSS property ["+a+"]");}return b}u("H.dom.cssPrefixer.prefix",xh);var Ah=["O","Ms","ms","Moz","Webkit"],yh={},Bh="",zh=document.createElement("span").style;function Ch(a,b,c,d,e){b&&(this.c=b);c!==B&&(this.se=!!c);this.se&&d&&(this.b=new ih(d.w,d.h));e&&(this.f={crossOrigin:"anonymous"});switch(Dh[Ta(a)]){case 2:this.bc=a;Eh(this,1);break;case 1:if(ye(a)){this.bc=a;Fh(this);Eh(this,1);break}a=a.src;case 0:if(a){a=ne(a);this.a=new Zg("image",a,B,this.f);this.a.then(A(this.i,this),A(this.g,this));break}default:throw Eh(this,-1),new D(Ch,0,"No image data");}}p=Ch.prototype;p.J=0;p.getState=function(){return this.J};
function Eh(a,b){a.J=b;delete a.a;a.c&&a.c(b,a)}p.se=!0;function Fh(a){if(a.se){var b=a.bc,c=Gh(a),d,e=c&&c.w||+b.width,f=c&&c.h||+b.height;C(b,x.HTMLCanvasElement)?c=b:(c=b.ownerDocument.createElement("CANVAS"),c.width=e,c.height=f,d=c.getContext("2d"),d.drawImage(b,0,0,e,f));a.bc=c}}p.bc=z;p.getData=function(){return this.bc};var Dh={String:0,HTMLImageElement:1,HTMLCanvasElement:2};Ch.prototype.b=z;
function Gh(a){var b=a.b,c,d,e,f;if(!b){c=a.bc;b=c.naturalWidth||c.width;if(0===b&&me&&1===Dh[Ta(c)]){d=!0;if(e=c.parentNode)f=c.nextSibling;document.body.appendChild(c)}a.b=b=new ih(c.naturalWidth||c.width,c.naturalHeight||c.height);d&&(e?e.insertBefore(c,f):document.body.removeChild(c))}return b}Ch.prototype.i=function(a){this.bc=a;Fh(this);Eh(this,1)};Ch.prototype.g=function(){Eh(this,-1)};Ch.prototype.cancel=function(){this.a&&this.a.cancel(!0)};function O(a,b){var c,d,e,f;this.uid=Hh.next();O.v.constructor.call(this);if(b){c="size";if(c in b){d=b[c];if(!d||isNaN(d.w)||isNaN(d.h))throw new D(O,1,c);this.b=new ih(d.w,d.h)}c="anchor";if(c in b){d=b[c];if(!d||isNaN(d.x)||isNaN(d.y))throw new D(O,1,c);this.a=new M(d.x,d.y)}c="hitArea";c in b&&(d=b[c],C(d,jh,O,1),this.g=b[c]);c="asCanvas";c in b&&(e=b[c]);c="crossOrigin";c in b&&(f=b[c])}c=new Ch(a,A(this.i,this),e,this.b,f);d=this.J=c.getState();0!==d?this.i(d,c):this.f=c}w(O,G);
u("H.map.Icon",O);var Hh=new oe;O.prototype.Nc={ERROR:-1,LOADING:0,READY:1};O.prototype.State=O.prototype.Nc;O.prototype.getState=function(){return this.J};O.prototype.getState=O.prototype.getState;O.prototype.i=function(a,b){this.c=b.getData();if(1===a){var c=this.b;c||(c=this.b=1===b.J?Gh(b):z);this.a||(this.a=new M(c.w/2|0,c.h))}this.f&&(this.J=a,delete this.f,this.dispatchEvent("statechange"))};O.prototype.c=z;O.prototype.Kb=function(){return this.c};O.prototype.getBitmap=O.prototype.Kb;
O.prototype.b=z;O.prototype.s=function(){return this.b};O.prototype.getSize=O.prototype.s;O.prototype.a=z;O.prototype.j=function(){return this.a};O.prototype.getAnchor=O.prototype.j;O.prototype.g=z;O.prototype.l=function(){return this.g};O.prototype.getHitArea=O.prototype.l;O.prototype.F=function(){O.v.F.call(this);this.c?(this.c.removeAttribute("src"),delete this.c):(this.f.cancel(),delete this.f)};var Ih=Zd;u("H.util.events.listenOnce",Ih);u("H.util.events.dispatchEvent",function(a,b){return a.dispatchEvent(b)});u("H.util.events.fireListeners",function(a,b,c,d){return qd(a)?a.Xb(b,c,d):be(a,b,c,d)});var Jh=Sd;u("H.util.events.listen",Jh);var Kh=$d;u("H.util.events.unlisten",Kh);
var Lh=ce,ce=function(a,b){var c,d,e,f=!0;c=b[b.currentTarget===b.target?"AT_TARGET":a.ua?"CAPTURING_PHASE":(d=!0,"BUBBLING_PHASE")];if(!d||"pointerenter"!==(e=b.type)&&"pointerleave"!==e)b.eventPhase=c,f=Lh(a,b),d&&a.src&&a.src.gb&&null===a.src.gb()&&delete b.eventPhase;return f};function Mh(a,b){Mh.v.constructor.call(this,a,b)}w(Mh,lh);u("H.map.Marker",Mh);p=Mh.prototype;p.type=Fe.MARKER;p.Ic=1;p.va=function(a){var b;if(a!==Ce.VISUAL||1===this.Pg||1===this.icon.getState())b=Mh.v.va.call(this,a);return b||!1};p.Pg=0;p.gg=O;p.Ie=!1;p.yg=function(){this.va(Ce.VISUAL)};
p.Ub=function(a){var b=this.icon;this.Ie&&(b.removeEventListener("statechange",this.yg,!1,this),delete this.Ie);b&&(this.Pg=b.getState());Mh.v.Ub.call(this,a);0===a.getState()&&(this.Ie=!0,Ih(a,"statechange",this.yg,!1,this));return this};Mh.prototype.setIcon=Mh.prototype.Ub;Mh.prototype.b=function(a){return new O(a.svg,a)};function Nh(a,b,c,d){Nh.v.constructor.call(this,a,b,c);this.modifiers=d}w(Nh,De);u("H.map.ChangeEvent",Nh);Nh.prototype.b=1;Nh.prototype.FOV=Nh.prototype.b;Nh.prototype.PITCH=2;Nh.prototype.PITCH=Nh.prototype.PITCH;Nh.prototype.POSITION=4;Nh.prototype.POSITION=Nh.prototype.POSITION;Nh.prototype.c=8;Nh.prototype.ROLL=Nh.prototype.c;Nh.prototype.f=16;Nh.prototype.SIZE=Nh.prototype.f;Nh.prototype.g=32;Nh.prototype.YAW=Nh.prototype.g;Nh.prototype.ZOOM=64;Nh.prototype.ZOOM=Nh.prototype.ZOOM;function Oh(){}u("H.util.ICapturable",Oh);Oh.prototype.ua=function(){};Oh.prototype.capture=Oh.prototype.ua;u("H.util.Disposable",nc);nc.prototype.Ab=nc.prototype.Ab;nc.prototype.addOnDisposeCallback=nc.prototype.Ab;u("H.util.dispose",qc);function Ph(a,b){var c=a.b,d=c.ownerDocument;Ph.v.constructor.call(this);this.a=a;this.b=c=c.appendChild(Qh(d,"DIV","position:absolute;bottom:4.55em;left:0.5em;z-index:1;height:0px;direction:ltr"));this.ue=Qh(d,"DIV","position:absolute;top:0px;pointer-events:none;",Rh);this.o=c.appendChild(this.ue).firstChild.firstChild.style;c=c.appendChild(Qh(d,"DIV","-webkit-touch-callout: none;-webkit-user-select:none;-khtml-user-select: none;-moz-user-select: none;-ms-user-select: none;user-select:none;whiteSpace:nowrap;position:relative;top:2.73em;padding-left:1px"));
this.i=c.appendChild(Qh(d,"SPAN"));this.i.setAttribute("unselectable","on");this.l=c.appendChild(Qh(d,"A","color:inherit","Terms of use"));this.l.target="_blank";this.u=c=c.appendChild(Qh(d,"SPAN","color:inherit"," | "));this.C=c.appendChild(function(){var a=Qh(d,"A","color:inherit","Report image");a.target="_blank";return a}());this.s=La(Sh);this.g(b);this.f=A(this.f,this);this.c=A(this.c,this);this.a.addEventListener(this.a.A.Mf,this.f);this.a.ea.addEventListener("add",this.c);this.a.ea.addEventListener("remove",
this.c);this.a.ea.addEventListener("set",this.c);this.c()}var Th;w(Ph,nc);u("H.map.Imprint",Ph);var Sh={font:"11px Arial,sans-serif",href:"https://legal.here.com/{LN}/terms/serviceterms/{CN}",invert:!1,reportHref:"https://wego.here.com/",locale:"en-US"};
Ph.prototype.g=function(a){var b,c;a||(this.s=La(Sh));c=this.s;for(b in c)a&&b in a&&(c[b]=a[b]);a=c.invert;this.o.fill=a?"#FFF":"rgba(0,0,0, 0.7)";this.b.style.color=a?"#FFF":"#333";this.jg=a;a=c.locale;Uh[a]||(a="en-US",c.locale=a);this.l.innerHTML=Uh[a];a=a.split("-");this.l.href=c.href.replace("{LN}",a[0]).replace("{CN}",a[1].toLowerCase());this.b.style.font=c.font};Ph.prototype.setOptions=Ph.prototype.g;
function Qh(a,b,c,d){a=a.createElement(b);c&&(a.style.cssText=c);d&&(a.innerHTML=d);return a}Ph.prototype.A=function(){return this.b};Ph.prototype.getElement=Ph.prototype.A;Ph.prototype.f=function(){var a=Sh.reportHref,b=this.a,c=this.C,d=this.u,e;b.g().type!==Vh?d.style.display="none":(b=b.c.wb(),e=b.position,d.style.display="inline",c.href=a+[e.lat,e.lng,22,b.yaw,90+b.pitch].join()+",panorama.day,report");this.i.innerHTML=this.j+" "+this.Ea()+" | "};
Ph.prototype.c=function(){this.f();setTimeout(this.f,5E3)};
var Rh='<svg version="1.1" xmlns="http://www.w3.org/2000/svg" width="3.64em" height="2.72em" viewBox="7 10 33 18" style="position: relative; left: 2px;"><g><path id="triangle_22_" d="M14.1,28l-3.6,3.6L7,28L14.1,28z"/><path id="here_21_" d="M19.4,19.9c-0.7-0.9-0.7-1.4-0.2-1.8c0.6-0.6,1.1-0.3,1.8,0.3L19.4,19.9z M27,10.3c0.6-0.6,1.1-0.3,1.8,0.3l-1.5,1.5C26.5,11.2,26.6,10.7,27,10.3z M31.6,11.8c-0.7,1-1.9,2.7-3.2,1.4l3.2-3.2c-0.3-0.3-0.5-0.6-0.7-0.7c-1.7-1.7-3.7-1.7-5.2-0.2c-1,1-1.3,2.2-1,3.3l-1-1.1c-0.3,0.2-1.5,1.2-0.6,2.9l-1.1-1l-1.5,1.5l2.1,2.1C21,15.5,19.3,15.6,18,17c-1.5,1.5-1.4,3.2-0.3,4.7l-0.2-0.2c-1.5-1.5-3-0.9-3.8-0.2c-0.6,0.6-1,1.4-0.8,2l-3.1-3.1L8,21.8l6.2,6.2h3.3l-2.2-2.2c-1.2-1.2-1.2-1.8-0.6-2.4c0.5-0.5,1.2-0.2,2.3,0.9l2.2,2.2l1.7-1.7l-2.1-2.1c1.5,1.1,3.3,1.2,4.9-0.4c0,0,0,0,0,0l0,0c1-0.9,1.3-1.8,1.3-1.8l-1.3-0.8c-0.7,1-1.9,2.7-3.1,1.5l3.2-3.2l2,2l1.7-1.7l-2.5-2.5c-1.2-1.2-0.5-2.3,0-2.7c0.2,0.5,0.6,0.9,1,1.4c1.6,1.6,3.7,1.9,5.5,0.1c0,0,0,0,0,0l0,0c1-0.9,1.3-1.8,1.3-1.8L31.6,11.8z"/></g></svg>',Wh=
"1987&ndash;"+hb(2015,(new Date).getFullYear())+" HERE";Ph.prototype.Ea=function(){var a=this.a,b=a.getZoom(),c=a.ba(),a=a.ea,d=a.Y.length,e={},f=0,g,h,k,l=[Wh];if(c)for(;f<d;f++)if(h=a.get(f).getCopyrights(c,b))for(g=0;g<h.length;g++)e[k=h[g].label]||(l.push(k),e[k]=1);return l.join(", ")};Ph.prototype.getCopyrights=Ph.prototype.Ea;Ph.prototype.Na=function(){return this.b.style};Ph.prototype.getStyle=Ph.prototype.Na;Ph.prototype.j=String.fromCharCode(169);
Ph.prototype.F=function(){this.a.removeEventListener(this.a.A.Mf,this.f);this.a.ea.removeEventListener("add",this.c);this.a.ea.removeEventListener("remove",this.c);this.a.ea.removeEventListener("set",this.c);this.b.parentNode&&we(this.b)};
Ph.prototype.ua=function(a,b,c,d){var e=a.getContext("2d"),f=window.getComputedStyle(this.i),g=Va(f.getPropertyValue("font-size")),h;h=this.ue.childNodes[0];var k=this.b.ownerDocument,l=this.a.b,n=+a.height,m=ib(this.b.offsetLeft*b),r=ib(n-(l.offsetHeight-this.b.offsetTop)*b),l=h.getBoundingClientRect?h.getBoundingClientRect():{},t=l.width*b,v=l.height*b,y=ic;q(d)&&(y=function(){d("capture_error")});h=this.j+" "+function(a){a=Qh(k,"div",null,a);return a.textContent||a.innerText||""}(this.Ea());e.font=
g*b+"px "+f.getPropertyValue("font-family");e.fillStyle=f.getPropertyValue("color");e.textBaseline="top";e.fillText(h,m,r+ib(l.height*b));Xh(this,e.font,function(b){(new Zg("image",b)).then(function(b){e.drawImage(b,m,r,t,v);c(a)},y)},y)};Ph.prototype.capture=Ph.prototype.ua;
function Xh(a,b,c,d){Yh(A(function(a){a?this.jg?c("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACgAAAAeCAYAAABe3VzdAAADNklEQVRYR82XW6hVVRSGv7+rmJfSMKSnSkMEfY7EogcJC7tilGRopBAiSaI+SBARQSCIIqgFISih2YW0oAgLCsKXojA0RB+81VugZEFZv/yHuWTt7d7Hfc4+6+h4OWefNfcc3xlj/v+YS1zjoab5bE8DZgGngB8keSg5GwO0PQ54F3i2BnQIWCLpx14hGwG0fT3wOfBwB5DzwOOSDvQC2RTgM8Ae4D/gaeA3YDdwN5AWvyxp+6gD2r4OmAq8AbwInAMmA/OAT4CbgBWStvYClzUjWkHbrwHLgF8LVHJ8DDxah7P9JHCil7M40oA/A7OBC8ANtSqlrQOVs30/8CWQat8r6cxg1RwRQNvPA88Bk4D7gJzBV4A5teSp5MlS4VuA/ZIeu1Kr+wa0/QTwIRDlRhT5eTswBvi2CKOd42AULilndNAYCcA7gK+BmbVMiyXtsh3Qt4FFBTgW8w6wXtLfV4LrSyS2FwAvAWOBX+JtwF0laUDmS/oun23fDNwJnJb0Ty9g1ZphVdB2qrK2LdFfBbb685/AIxXkUKDqa4cMaDs2kjalRe8Fola57J3qRQSJviGHA3gMuAdYI2lDUfDOArQLWAd8VTuTOW9vjUoFy6TIGYpS9wKfAjuK5wVuSfn91iKcvZJeHy5ci0hsZwzNk5Qh3xIFbLyks7aPAtPLgv+L4VZwDwLvA6uKz6XdfcVAi22PBz4q4+lVSRurXW2vKYKIZfwEHCmmXC35HngAyITYD0ys2t8XWflyBfhmvKm24QCk7aVFCPVc7WMszzKucknI+NoHPCUppt13VICZm2nNwjoksByY0SXL72Vi3FieZ97mgrpyqF432H9xScW2O0H+W6oSE/4D2FYuA9kzlUzVTwO3Ad9IOtx3ydo2aLGZLpABm5KW2Z4AfAbMLfsEcpGkKLqRuMwHu0CukrSpCCrvGlF6hBEVL5MUw24kOhp1B8gc+FTqgxpkFLuzSbjk6jpJOkC2tDPeKCkVbDRkO67fDTTC2VK7vgfyBUlfNEpV2zyAK4HNXRLmZfshScdHC6g9T+WDGU2XpkdZdNXhWs6g7dXAhmsJ7jKR2M77bG4kV7Wt9TZfBLgYEC7PSpcIAAAAAElFTkSuQmCC"):c("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACgAAAAeCAYAAABe3VzdAAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAAOxAAADsQBlSsOGwAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAAAIMSURBVFiFzdZPiE1RGADwXzPTTPIMQoodVpbKgpoUG5qExUi8DSVJQv4slJJsbNjYWFhNETWLUUosRDRLUVLCYhIiojFojHkW997uvefNGIuZc99Xp/fOO6/Or++c75xDi0d7hDlWYQNqeB9hvv+OGq6jUWjPsKZKVBbtuKOMy9p3bKqOlsROCWYc27AWr9PfJnCgKlgbluNqivmGDmzBrxR3sCocnMEw7sqXdEAzboeK9uLTFPVbed8VcesxglFJtqNEHbcxlIL68ChADuCSpEgauBULt11SDI3C5yJJdrLCCNsQumMBl+J5AKinY4slBfNTfsRcxJwYsK0YxD3J0r1RPut6Cv/twgp0xoDBBc3LNhr0RwJktNifAn7gsnLmsuxVinyVTn4i7dcLoH4sU96Tp2Pi2uSVehN75Gdev+QO7pIXztmZnLwTvf+AzU+/v5Rn50+A24gP2IW5M4mbJ7+ejgVjJ/EpHXuCa8p77nGK68FX5eWfsTgfTJoh92qu1vAaa+CtPJuDZuEh3CHZUyHyxSSYrL3DWKE/gStm8aybDDkmKYperJM/BrJMnsJuHMLq2YJNh/wsX7JuPAyQfTFg0yGPFMZreCCv4n2xgTQjxyXP+CxquK8iXBYhMlzOtliQBVg4RVuCG/iSto/YHAuWxWFTHyXDWBkbNFkc1cK4LI5rYVwW57QY7i/pZeJv8QQJRQAAAABJRU5ErkJggg=="):
(a=this.ue.cloneNode(!0),a.firstChild.setAttribute("style","font:"+b),c(ne(a.innerHTML)))},a),d)}Ph.prototype.jg=!1;function Yh(a,b){var c="data:image/svg+xml;charset=utf-8,"+encodeURIComponent(Rh),d=Th;d!==B?a(d):(new Zg("image",c)).then(function(b){ke.drawImage(b,0,0);try{ke.getImageData(0,0,1,1),d=!1}catch(c){d=18===c.code}finally{Th=d,a(d)}},b)}
var Uh={"de-DE":"Nutzungsbedingungen","en-US":"Terms of use","en-GB":"Terms of use","es-ES":"Condiciones de uso","fi-FI":"Palveluehdot","fr-FR":"Conditions d'utilisation","it-IT":"Condizioni di utilizzo","nl-NL":"Dienstvoorwaarden","pl-PL":"Warunki \u015bwiadczenia us\u0142ugi","pt-BR":"Termos de servi\u00e7o","pt-PT":"Termos do servi\u00e7o","ru-RU":"\u0423\u0441\u043b\u043e\u0432\u0438\u044f \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u043d\u0438\u044f","tr-TR":"Servis Ko\u015fullar\u0131",
"zh-CN":"\u4f7f\u7528\u6761\u6b3e"};function Zh(a,b){if(E(this.x=+a))throw new D(Zh,0,a);if(E(this.y=+b))throw new D(Zh,1,b);}Zh.prototype.add=function(a){return new Zh(this.x+a.x,this.y+a.y)};Zh.prototype.a=function(a){if(!C(a,Zh))throw new D(this.a,0,a);a=this.b(a);return a.x+a.y};Zh.prototype.b=function(a){if(!C(a,Zh))throw new D(this.b,0,a);return new Zh(this.x*a.x,this.y*a.y)};Zh.prototype.Ha=function(a){return new Zh(this.x*a,this.y*a)};function $h(a){return nb(a.a(a))};function ai(a){a=a||{};this.j=a.minSpeed||3;this.l=a.vectorTolerance||3;this.i=a.maxSpeed||300;this.o=a.timeTolerance||50;this.b=[];this.f=this.g=!1;this.c=this.a=null}function bi(a,b){var c,d,e,f;b?(a.bifocal&&b.bifocal?(c=ci(a),d=ci(b)):b.bifocal?(c=di(a),e=di(b).distance(c),f=di(b,!0).distance(c),d=e>f?di(b,!0):di(b)):a.bifocal&&!b.bifocal?(d=di(b),e=di(a).distance(d),f=di(a,!0).distance(d),c=e>f?di(a,!0):di(a)):(c=a,d=b),e=c.x-d.x,c=c.y-d.y,c=new Zh(e,c)):c=new Zh(0,0);return c}
function ei(a){var b;if(!a||E(a.bx)||E(a.by))return 0;b=a.bx-a.x;a=a.by-a.y;return nb(b*b+a*a)}function ci(a){var b,c;!a||E(a.bx)||E(a.by)||(b=a.x-a.bx,c=a.y-a.by,b=new M(a.x-b/2,a.y-c/2));return b}function di(a,b){return b?new M(a.bx,a.by):new M(a.x,a.y)}p=ai.prototype;p.start=function(a,b){if(E(a))throw new D(this.start,0,a);this.g&&this.clear();this.s=a;this.g=!0;this.f=!!b};
p.Xg=function(a,b,c,d,e){var f=E(a)?0:E(b)?1:null!=c&&E(c)?2:null!=d&&E(d)?3:null!=e&&E(e)?4:B;if(0<=f)throw new D(this.Xg,f,arguments[f]);this.g&&(e=e||(new Date).getTime(),this.c=this.a,this.a={x:a,y:b,bx:null!=c?c:NaN,by:null!=d?d:NaN,ts:e,bifocal:null!=c&&null!=d},this.f&&this.b.push(this.a))};p.clear=function(){this.b=[];this.f=this.g=!1;this.a=this.c=null};p.Cd=function(a){if(E(a))throw new D(this.Cd,0,a);return!!(this.s&a)};p.hb=function(){return this.g};p.De=ba(1);
function fi(a){var b=a.b.length,c=0,d=new Zh(0,0);if(a.f)for(;--b&&c<a.l;)d=d.add(bi(a.b[b],a.b[b-1])),c++;else d=bi(a.a,a.c);a=d;b=$h(a);return 0!==b?new Zh(a.x/b,a.y/b):a}function gi(a){var b;b=b||Date.now();var c=a.b.length,d=a.b[c-1],e=0,f=0;if(a.f){for(;--c&&e<a.l;)f+=$h(bi(a.b[c],a.b[c-1])),e++;c=f/e}else d=a.a,c=$h(bi(a.a,a.c));c>=a.j&&b-d.ts<=a.o?c=c>a.i?a.i:c:c=0;return c}
p.ag=function(a){var b;b=this.a;var c;if(E(a))throw new D(this.ag,0,a);b&&this.c&&(b=ei(this.c),0!==b&&(c=ei(this.a),a=mb(ob(2,a)*(c/b))/wb));return a};function hi(a,b,c){this.b=a;this.Hc=b;this.Ib=!(!c||!c.Ib);this.ownerDocument=b.b.ownerDocument;this.g={}}w(hi,nc);
hi.prototype.ia=function(a,b,c,d,e,f){var g,h,k=this.b,l,n,m,r=this.Ib,t;this.j=g=this.g;this.g=h={};if(d>=k.min&&d<=k.max&&(l=this.Zf(a,d,e,f),n=l.markers,a=n.length))for(n.sort(Ie),d=this.Hc,ii(d,k.opacity),k=0;k<a;k++)if(e=n[k],f=c.geoToPixel(e.getPosition()))m=c.w,f.x-=ib(f.x/m)*m,f.add(b),r||f.round(),(m=g[t=e.sa()])?delete g[t]:m={marker:e},h[t]=m,this.ng(m,e,e.ob(),d,f.x,f.y);return!l||l.requested&&l.requested===l.total||!l.requested&&n.length===l.total};function ji(a,b,c){ji.v.constructor.apply(this,arguments);this.f=0;this.i=ki(b).Fa;this.a=[];this.c=A(this.c,this)}w(ji,hi);ji.prototype.Zf=function(){return this.b.j.apply(this.b,arguments)};ji.prototype.ia=function(){var a;this.c();this.l=0;a=ji.v.ia.apply(this,arguments);var b=this.Hc,c=this.j,d;for(d in c)li(this,b,c[d]);return 0===this.a.length&&a};ji.prototype.c=function(){for(var a=this.a.length,b,c,d;a--;)d=this.a[a],b=d.od,c=d.od.ob(),c.af(d,c,b);this.a.length=0};
ji.prototype.ng=function(a,b,c,d,e,f){var g=b.l(),h;a.detail&&(g.b(a.Fh)?li(this,d,a):h=a.detail);h||(a.detail=h=ve(c.i,this.ownerDocument,c.c),this.f++,q(c.af)&&this.a.push(h));a.Fh=g.a;h.style.zIndex=this.l++;h.od=b;d.Vb(h,e,f,0,0)};var mi,ni="pointer-events",oi;if(me){var pi;me&&$b!==z&&($b=(pi=/(MSIE\s+|rv\:)([^\);]+)(\)|;)/.exec(navigator.userAgent))?+pi[2]:z);oi=$b;9===oi?ni="display":10===oi&&(ni="visibility")}mi=ni;
ji.prototype.Ma=function(a,b,c){var d=this.i,e,f,g,h,k,l,n,m,r;if(this.f){a/=d;b/=d;d=this.ownerDocument;e=d.documentElement;f=this.Hc.a;g=f.getBoundingClientRect();a+=g.left;for(b+=g.top;(l=n=d.elementFromPoint(a,b))&&l!==f&&l!==e&&n!==m;){for(;(r=l.parentNode)&&(!q(r.contains)||!r.contains(f));)l=r;if(r===f&&(l!==n||"svg"!==l.nodeName)&&((h||(h=[])).push(l.od),c))break;k||(k=[]);m=l.style;k.push({Wf:m.getPropertyValue(mi),Dh:m.getPropertyPriority(mi),style:m});m.setProperty(mi,"visibility"===mi?
"hidden":"none","important");m=n}if(k)for(b=k.length;b--;)a=k[b],a.style.removeProperty(mi),pa(a.Wf)&&a.style.setProperty(mi,a.Wf,a.Dh)}return h||te};function li(a,b,c){b.clear(b=c.detail);delete b.od;a.f--;c=(a=c.marker).ob();c.f&&c.f(b,c,a)}ji.prototype.F=function(){this.a.length=0;var a=this.Hc,b=this.g,c;for(c in b)li(this,a,b[c]);this.Hc.K();ji.v.F.call(this)};function qi(a,b,c){if(!a)throw new D(qi,0,a);if(!b)throw new D(qi,1,b);this.b=a;this.l=b;this.c={};this.f=c&&c.Ib;this.g=ri++}var ri=0;
qi.prototype.ia=function(a,b,c,d,e,f){var g=ib(d),h=this.b,k=g+(c.exp-h.pixelProjection.exp),l=h.max;d=h.tileSize;var n=h.opacity,m,r=this.l,t=r.yd();m=ki(r).width;var v=c.w,y=c.x,K=c.y,V={};if(g<h.min||g>l)return!0;e=h.c(a,k,e,f,this.g);a=e.total;e=e.tiles;f=e.length;this.i=c;this.s=b;this.a=k;t!==n&&ii(r,n);c=d=d*v/(ob(2,k)*d);this.f||(d%1&&(d=jb(d),v=c/d,y=y/v,K=K/v,v=ob(2,k)*d),y=jb(y),K=jb(K));this.j=c;k=-d;g=m+d;for(h=0;h<f;h++){m=e[h];if(l=m.data){c=b.x-(y-m.x*d);n=b.y-(K-m.y*d);r.Vb(l,c,n,
d,d);for(t=c;(t-=v)>k;)r.Vb(l,t,n,d,d);for(t=c;(t+=v)<g;)r.Vb(l,t,n,d,d)}V[this.a+"_"+m.x+"_"+m.y]=m}this.c=V;return f===a};qi.prototype.Ma=function(a,b,c){if(this.a!==B){var d=this.j,e=d/this.b.tileSize,f=this.i,g=this.s,h,k;a=f.x+(a-g.x);b=f.y+(b-g.y);h=jb(f.w/d);var l=f=jb(a/d),g=jb(b/d);lb(l)>=h&&(l%=h);0>l&&(l=h+l);(h=this.c[this.a+"_"+l+"_"+g])&&h.Ma&&(k=h.Ma((a-d*f)/e,(b-d*g)/e,c))}return k||te};var si,ti=function(){function a(){}for(var b,c,d,e=Ma("o ms moz webkit "),f=5;f--&&!b;)b=e[f],b=(c=x[b+(b?"R":"r")+"equestAnimationFrame"])&&!E(c.call(window,a))&&(d=x[b+(b?"C":"c")+"ancelAnimationFrame"]);si=b?function(a){return c.call(x,a)}:function(a){return x.setTimeout(a,25)};return b?function(a){return d.call(x,a)}:function(a){return x.clearTimeout(a)}}(),ui=x.performance&&x.performance.now?function(){return x.performance.now()}:function(){return x.Date.now()};function Jg(a,b,c,d){this.left=+a;this.top=+b;this.right=+c;this.bottom=+d}u("H.math.Rect",Jg);Jg.prototype.set=Jg;Jg.prototype.set=Jg.prototype.set;Jg.prototype.pb=function(){return this.i||(this.i=new M(this.left,this.top))};Jg.prototype.getTopLeft=Jg.prototype.pb;Jg.prototype.nb=function(){return this.f||(this.f=new M(this.right,this.bottom))};Jg.prototype.getBottomRight=Jg.prototype.nb;Jg.prototype.a=function(a,b){return this.left<=a&&this.right>=a&&this.top<=b&&this.bottom>=b};
Jg.prototype.containsXY=Jg.prototype.a;function Ig(a,b){return new Jg(a.x,a.y,b.x,b.y)}Jg.fromPoints=Ig;Jg.prototype.clone=function(){return new Jg(this.left,this.top,this.right,this.bottom)};Jg.prototype.clone=Jg.prototype.clone;function vi(a,b){var c=b||{},d,e;if(!C(a,Element))throw new D(vi,0,a);d=a.ownerDocument.createElement("div");this.b=a;vi.v.constructor.call(this);this.padding=new Jg(0,0,0,0);this.center=new M(0,0);this.margin=0;this.element=d;d.style.zIndex=0;d.style.height=d.style.width="100%";d.style.position="relative"===a.style.position?"absolute":"relative";this.resize();a.appendChild(d);(e=c.padding)!==B&&this.f(e.top,e.right,e.bottom,e.left);this.c((e=c.margin)!==B?e:0);(e=c.fixedCenter)!==B&&(this.g=!!e)}
w(vi,G);u("H.map.ViewPort",vi);vi.prototype.a={la:"update",Mc:"sync"};vi.prototype.g=!0;vi.prototype.c=function(a){if(this.margin!==+a){if(E(this.margin=+a))throw new D(this.c,0,a);wi(this);this.dispatchEvent(this.a.la)}};vi.prototype.setMargin=vi.prototype.c;vi.prototype.f=function(a,b,c,d){var e=this.padding;if(e.top!==a||e.right!==b||e.bottom!==c||e.left!==d){if(E(a+b+c+d))throw new D(this.f);e.top=a;e.right=b;e.bottom=c;e.left=d;wi(this);this.dispatchEvent(this.a.la)}};
vi.prototype.setPadding=vi.prototype.f;function wi(a){var b=a.padding;a.center.set((a.width+b.left-b.right)/2<<0,(a.height+b.top-b.bottom)/2<<0)}vi.prototype.resize=function(){var a=this.b.offsetWidth,b=this.b.offsetHeight;if(this.width!==a||this.height!==b)this.o=new ih(this.width,this.height),this.width=a,this.height=b,wi(this),this.dispatchEvent(this.a.la)};vi.prototype.resize=vi.prototype.resize;
vi.prototype.F=function(){x.clearTimeout(this.i);this.i=null;this.b.removeChild(this.element);this.element=this.b=null;vi.v.F.call(this)};vi.prototype.startInteraction=vi.prototype.s;vi.prototype.interaction=vi.prototype.j;vi.prototype.endInteraction=vi.prototype.l;function xi(a,b,c,d){var e=new Jg(0,0,0,0);xi.v.constructor.call(this);this.Fa=d.pixelRatio;this.Da={1:e.clone(),2:e.clone(),4:e.clone()};this.g=a;if(!a)throw new D(xi,0,a);yi(this);a.addEventListener(a.a.la,this.Ac,!1,this);this.M=A(this.M,this);this.P=A(this.P,this);this.u=A(this.u,this);a.startInteraction=this.M;a.interaction=this.P;a.endInteraction=this.u;this.N=b;if(!b)throw new D(xi,1,b);this.W=A(this.W,this);this.j=A(this.j,this);this.A=A(this.A,this);b.startControl=this.W;b.control=this.j;
b.endControl=this.A;b.addEventListener(b.c.la,this.eb,!1,this);this.Ca=c;if(!c)throw new D(xi,2,c);}w(xi,G);u("H.map.render.RenderEngine",xi);xi.prototype.getBBox=xi.prototype.o;function yi(a){var b=a.g,c=b.width,d=b.height,e=b.padding,f=e.top,g=e.left,h=e.bottom,e=e.right,b=b.margin,k=-(c+g-e)/2<<0,l=-(d+f-h)/2<<0,c=c+k,d=d+l,n=a.Da;a=a.Fa;n[1].set((k-b)*a,(l-b)*a,(c+b)*a,(d+b)*a);n[2].set(k*a,l*a,c*a,d*a);n[4].set((k+g)*a,(l+f)*a,(c-e)*a,(d-h)*a)}xi.prototype.Ac=function(){yi(this)};
xi.prototype.F=function(){var a=this.N,b=this.g;a.removeEventListener(a.c.la,this.eb,!1,this);a.startControl===this.W&&(a.startControl=zi.prototype.C);a.control===this.j&&(a.control=zi.prototype.A);a.endControl===this.A&&(a.endControl=zi.prototype.u);b.removeEventListener(b.a.la,this.Ac,!1,this);b.startInteraction===this.M&&(b.startInteraction=vi.prototype.s);b.interaction===this.P&&(b.interaction=vi.prototype.j);b.endInteraction===this.u&&(b.endInteraction=vi.prototype.l)};
xi.prototype.getCamForBounds=xi.prototype.S;xi.prototype.ua=function(){return null};xi.prototype.setPointer=xi.prototype.Ka;function Ai(a,b){a.style.transition="opacity 1.5s";a.addEventListener("transitionend",function(){b()},!1);a.style.opacity=0}var Bi={ZOOM:1,HEADING:2,TILT:4,INCLINE:8,COORD:16};xi.InteractionModifiers=Bi;xi.prototype.Wd={Rf:"render"};var Ci={P2D:0,PANORAMA:1};xi.EngineType=Ci;function Di(a,b,c,d){Di.v.constructor.call(this);this.b=a;this.Fa=d;this.a=a.appendChild(this.createElement(a.ownerDocument));Ei(this,b,c)}w(Di,nc);function Ei(a,b,c){a.Vg(a.a,a.a.style,a.width=b,a.height=c,a.Fa)}function ki(a){return{width:a.width,height:a.height,Fa:a.Fa}}Di.prototype.c=1;function ii(a,b){a.c!==b&&(a.Ug(b),a.c=b)}Di.prototype.yd=function(){return this.c};Di.prototype.F=function(){this.clear();this.b.removeChild(this.a);Ei(this,0,0);this.a=this.b=null;Di.v.F.call(this)};function Fi(a,b,c,d){Fi.v.constructor.apply(this,arguments);this.f=this.a.getContext("2d")}w(Fi,Di);p=Fi.prototype;p.createElement=function(a){a=a.createElement("CANVAS");var b=a.style;b.position="absolute";b.top=b.left=0;return a};p.Vg=function(a,b,c,d,e){a.width=hb(c,1);a.height=hb(d,1);b.width=ib(c/e)+"px";b.height=ib(d/e)+"px"};p.Ug=function(a){this.f.globalAlpha=a};p.Vb=function(a,b,c,d,e){this.f.drawImage(a,b,c,d,e)};
p.clear=function(a){var b,c;a?this.f.clearRect(b=a.left,c=a.top,a.right-b,a.bottom-c):this.a.width=this.width};p.F=function(){this.a.width=this.a.height=0;Fi.v.F.call(this)};function Gi(){G.call(this);this.reset()}w(Gi,G);Gi.prototype.start=function(a,b){this.a&&this.reset();E(a)||E(b)||(this.atX=a,this.atY=b);this.a=!0};Gi.prototype.g={Hf:"animationupdate"};function Hi(a){Hi.v.constructor.call(this,Gi.prototype.g.Hf);this.offset=a}w(Hi,rc);Gi.prototype.hb=function(){return this.a};Gi.prototype.set=function(a,b,c){!this.a||this.b===a&&this.c===b&&this.f===c||(this.b=a,this.c=b,this.f=c,this.dispatchEvent(new Hi(Ii(this))))};
function Ii(a){return{x:91.401472*a.b,y:91.401472*a.c,z:a.f}}Gi.prototype.reset=function(){this.a=!1;this.atY=this.atX=null;this.f=this.c=this.b=0};function Ji(a){a=Ii(a);return nb(a.x*a.x+a.y*a.y+a.z*a.z)}function Ki(a){var b=Ii(a);a=Ji(a)||1;return{x:b.x/a,y:b.y/a,z:b.z/a}}Gi.prototype.F=function(){this.reset();Gi.v.F.call(this)};function Li(a,b,c){c=c||{};C(a,Mi,Li,0);C(b,Fi,Li,1);this.c=a;this.Ib=!!c.Ib;this.f=b;this.g=c.ai||0;this.a=[];this.b={}}w(Li,nc);
Li.prototype.ia=function(a,b,c,d,e){var f,g,h=this.c,k,l,n,m,r,t,v,y,K,V,ga,la;d-=this.g;this.a.length=0;f=this.b;this.b=g={};if(d>=h.min&&d<=h.max&&(k=h.B(a,d,e),l=k.overlays,a=l.length))for(l.sort(Ie),d=this.f,e=this.Ib,la=h.opacity,h=0;h<a;h++)n=l[h],m=n.R(),r=c.geoToPixel(m.pb()),t=c.geoToPixel(m.nb()),m=c.w,r.x>=t.x&&(r.x-=m),m=-((r.x+t.x)/m>>1)*m,r.x+=m,r.add(b),t.x+=m,t.add(b),e||(r.round(),t.round()),(m=f[v=n.sa()])?delete f[v]:m={Yh:n},g[v]=m,y=r.x,r=r.y,K=t.x,t=t.y,V=K-y,ga=t-r,ii(d,n.yd()*
la),d.Vb(n.Kb(),y,r,V,ga),m.ye?m.ye.set(y,r,K,t):m.ye=new Jg(y,r,K,t),this.a.push(m);return!k||k.requested&&k.requested===k.total||!k.requested&&l.length===k.total};Li.prototype.Ma=function(a,b,c){for(var d=this.a,e=d.length,f,g,h;e--;)if(f=d[e],g=f.ye,g.a(a,b))if(f=f.Yh,h)h.push(f);else if(h=[f],c)break;return h||te};Li.prototype.F=function(){this.a=null;Li.v.F.call(this)};var Ni={zoom:{min:-8,max:22},camera:{alt:{min:0,max:0},pitch:{min:0,max:0},roll:{min:0,max:0},yaw:{min:0,max:0},fov:{min:70,max:70}},interaction:{ZOOM:1,oi:16},capture:!0};u("H.map.render.p2d.capabilities",Ni);function Oi(a,b,c){this.a=[];Oi.v.constructor.apply(this,arguments)}w(Oi,hi);p=Oi.prototype;p.Zf=function(){return this.b.s.apply(this.b,arguments)};p.ia=function(){this.a=[];return Oi.v.ia.apply(this,arguments)};p.ng=function(a,b,c,d,e,f){var g=c.b;b=this.Ib;var h=g.w,g=g.h,k=c.a;e-=b?k.x:ib(k.x);f-=b?k.y:ib(k.y);d.Vb(c.Kb(),e,f,h,g);a.detail?a.detail.set(e,f,e+h,f+g):a.detail=new Jg(e,f,e+h,f+g);this.a.push(a)};
p.Ma=function(a,b,c){for(var d=this.a,e=d.length,f,g,h,k;e--;)if(f=d[e],g=f.detail,g.a(a,b)&&(f=f.marker,!(h=f.ob().g)||h.a(a-g.left,b-g.top,0)))if(k)k.push(f);else if(k=[f],c)break;return k||te};p.F=function(){this.a=null;Oi.v.F.call(this)};u("H.util.animation.ease.LINEAR",function(a){return a});u("H.util.animation.ease.EASE_IN_QUAD",function(a){return a*a});function Pi(a){return-a*(a-2)}u("H.util.animation.ease.EASE_OUT_QUAD",Pi);u("H.util.animation.ease.EASE_IN_OUT_QUINT",function(a){a*=2;return 1>a?ob(a,5)/2:(a-=2,ob(a,5)/2+1)});u("H.util.animation.ease.EASE_OUT_CIRC",function(a){return nb(2*a-a*a)});function Qi(a,b,c,d){if(!q(this.i=a))throw new D(Qi,0,a);if(E(this.g=+b))throw new D(Qi,1,b);if(!q(this.f=c)&&null!=c)throw new D(Qi,2,c);if(!q(this.c=d)&&null!=d)throw new D(Qi,3,d);this.id=Ri.next();this.a=!1}u("H.util.animation.Animation",Qi);var Ri=new oe;Qi.prototype.start=function(){var a=this,b,c=si,d;d=function(){var e=ui(),f=e-a.Fb,g=f/a.g,g=1<g?1:g;a.c&&(g=a.c(g));a.i(g,f,e-b,e);b=e;1<=g?a.stop():a.b=c(d)};a.Fb=ui();b=a.Fb;a.a=!0;a.b=c(d)};Qi.prototype.start=Qi.prototype.start;
Qi.prototype.stop=function(a){ti(this.b);this.a=!1;a||this.f&&this.f(this)};Qi.prototype.stop=Qi.prototype.stop;Qi.prototype.hb=function(){return this.a};Qi.prototype.isRunning=Qi.prototype.hb;function Si(a,b){if(E(this.b=+a))throw new D(Si,0,a);this.a=0;b&&this.f(b)}u("H.util.kinetics.KineticMove",Si);Si.prototype.f=function(a){this.a=a;return this};Si.prototype.setInitialSpeed=Si.prototype.f;Si.prototype.i=function(){return Math.abs(this.a/this.b)};Si.prototype.getDuration=Si.prototype.i;Si.prototype.c=function(a){return this.a+this.b*a};Si.prototype.getCurrentSpeed=Si.prototype.c;Si.prototype.g=function(a){return this.a*a+this.b*a*a/2};Si.prototype.getCurrentPath=Si.prototype.g;function Ti(a,b,c,d){Ti.v.constructor.apply(this,arguments)}w(Ti,Di);p=Ti.prototype;p.createElement=function(a){a=a.createElement("DIV");a.style.position="absolute";return a};p.Vg=function(a,b,c,d){b.width=c+"px";b.height=d+"px"};p.Ug=function(a){this.a.style.opacity=a};p.Vb=function(a,b,c){var d=this.Fa,e=a.style;e[xh("transform")]="matrix(1,0,0,1,"+b/d+","+c/d+")";a.parentNode!==this.a&&(e.position="absolute",this.a.appendChild(a))};p.clear=function(a){a?this.a.removeChild(a):this.a.innerHTML=""};function zi(){zi.v.constructor.call(this);this.a={};this.g={position:new Xb(0,0),pitch:0,yaw:0,roll:0,fov:70};this.b=0}w(zi,G);u("H.map.ViewModel",zi);zi.prototype.c={la:"update",Mc:"sync"};zi.prototype.i=Ma("position pitch yaw roll fov zoom");var Ui=Ma("fov pitch position roll yaw zoom").reduce(function(a,b){a[b]=Nh.prototype[b.toUpperCase()];return a},{});
function Vi(a,b,c,d){var e=d.length,f,g,h;a.f=0;a.s={};for(a.j={};e--;)if(f=d[e],h=c[f],g=b[f],null!=h){if(a.s[f]=g,a.j[f]=h,b[f]=h,Ub(h)&&Ub(g)&&(h.lat!==g.lat||h.lng!==g.lng)||!Ub(h)&&h!==g)a.f|=Ui[f]}else delete b[f];return b}zi.prototype.wb=function(){return Vi(this,{},this.g,this.i)};zi.prototype.getCameraData=zi.prototype.wb;
zi.prototype.Eb=function(a){var b,c=a.animate;if(!a)throw new D(this.Eb,0,a);if((b=a.position)&&!Ub(b))throw new D(this.Eb,0,"position");this.a.zoom=E(a.zoom)?E(this.a.zoom)?this.b:this.a.zoom:a.zoom;b=this.a.zoom;a=Vi(this,{},a,this.i);this.a={animate:c,zoom:b,camera:a};this.dispatchEvent(new Wi(this.a));return this};zi.prototype.setCameraData=zi.prototype.Eb;
function Xi(a,b){var c=b.zoom;Vi(a,a.g,b,a.i);c!==a.b&&(a.f|=Ui.zoom);a.s.zoom=a.b;a.j.zoom=c;a.b=null!=c?c:a.b;a.g.zoom=a.b;a.a={};a.dispatchEvent(new Nh(a.c.Mc,a.j,a.s,a.f))}zi.prototype.l=function(a,b){if(E(a=+a))throw new D(this.l,0,a);this.a={animate:b,zoom:a,camera:this.a.camera||this.g};this.dispatchEvent(new Wi(this.a))};zi.prototype.setZoom=zi.prototype.l;zi.prototype.getZoom=function(){return this.b};zi.prototype.getZoom=zi.prototype.getZoom;
zi.prototype.o=function(){var a=this.a.camera;a.zoom=Wa(this.a.zoom)?this.a.zoom:a.zoom;return a};zi.prototype.getRequestedCameraData=zi.prototype.o;zi.prototype.startControl=zi.prototype.C;zi.prototype.control=zi.prototype.A;zi.prototype.endControl=zi.prototype.u;function Wi(a){Wi.v.constructor.call(this,zi.prototype.c.la);this.requested=a}w(Wi,rc);function P(a,b,c,d){var e;P.v.constructor.call(this,a,b,c,d);this.I=new M(0,0);if(e=d.renderBaseBackground)this.jh=e.lower,this.hh=e.higher;this.gh=!!d.enableSubpixelRendering;this.Xd=this.b=0;this.Pb=this.Id=!1;this.l=new M(.5,.5);this.i=mb(this.Fa)/wb;this.f=new ai;this.c=d=new Gi;this.Lb=A(this.Lb,this);d.addEventListener(d.g.Hf,this.Lb);this.a=new Dg;d=a.element;this.xa=a=d.ownerDocument.createElement("div");a.style.position="absolute";a.style.width=a.style.height="100%";a.style.zIndex=0;d.insertBefore(a,
d.firstChild);this.C=new Fi(this.xa,1,1,this.Fa);Yi(this);c.addEventListener("update",this.xg,!1,this);c.addEventListener(c.a.Jc,this.cf,!1,this);c.addEventListener(c.a.Lc,this.df,!1,this);c.addEventListener(c.a.pd,this.zg,!1,this);this.Ob=A(P.prototype.Ob,this);this.J=Zi;this.ee();this.b=$i(this,this.N.getZoom()+this.i);aj(this);bj(this,b.wb().position,this.b);cj(this);this.Ac()}w(P,xi);u("H.map.render.p2d.RenderEngine",P);P.prototype.type=Ci.P2D;P.prototype.type=P.prototype.type;var Zi=2;
P.prototype.$d=Ni;P.prototype.getState=function(){return this.J};P.prototype.getState=P.prototype.getState;function dj(a,b,c){b=c-b;return lb(b)<a.a.w/2?b:b-a.a.w*c/lb(c)}
P.prototype.eb=function(a){var b=this,c,d,e=a.requested,f=e.animate,e=e.camera.position,g=b.a.geoToPixel(e),h=g.x,k=g.y,l=this.b,n=this.l,m=0,r,t,v;ej(this);this.I.set(0,0);a=fj(this,a);c=a.zoom;v=a.position;if(f){if(d=c-l,r={x:n.x,y:n.y},f=this.a.b(r).x,t=this.a.projection.mb(e),t.x!==this.l.x||t.y!==this.l.y||c!==this.b)h=dj(this,f,h),gj(this,function(a){var e=a-m,f;c!==l&&(g=b.a.b(t),f=b.a.b(r),h=dj(b,f.x,g.x),k=g.y-f.y);m=a;hj(b,h*e,k*e);l+=d*e;ij(b,l);cj(b);jj(b)},this.Ja,function(){bj(b,v,c);
ij(b,c);cj(b,v);jj(b)},this.Oa)}else kj(this),bj(this,v,c),ij(this,c),cj(this,v);jj(this)};P.prototype.Ja=300;P.prototype.fe=function(a){var b=Wa(a);if(!b||b&&0>a)throw new D(this.fe,1,"positive number required");this.Ja=a};P.prototype.setAnimationDuration=P.prototype.fe;P.prototype.ah=function(){return this.Ja};P.prototype.getAnimationDuration=P.prototype.ah;P.prototype.Oa=Pi;P.prototype.he=function(a){if(!q(a))throw new D(this.he,1,"function required");this.Oa=a};P.prototype.setAnimationEase=P.prototype.he;
P.prototype.dh=function(){return this.Oa};P.prototype.getAnimationEase=P.prototype.dh;P.prototype.ee=function(){this.Oa=Pi;this.Ja=300};P.prototype.resetAnimationDefaults=P.prototype.ee;p=P.prototype;p.xg=function(){jj(this)};p.cf=function(a){var b=a.added;a=a.idx;lj(this,a,b);0===a&&(aj(this),mj(this,b,!0));nj(this);jj(this)};
p.df=function(a,b){var c=a.removed,d=a.idx,e;this.xc=ui();(e=this.ba.Ga.splice(d,1)[0])&&e.K&&e.K();(e=this.D.Ga.splice(d,1)[0])&&e.K&&e.K();(e=this.da.Ga.splice(d,1)[0])&&e.K&&e.K();(e=this.B.Ga.splice(d,1)[0])&&e.K&&e.K();this.$=this.Ca.c();0===d&&(mj(this,c,!1),aj(this));nj(this);b||jj(this)};p.zg=function(a){this.df(a,!0);this.cf(a)};
function Yi(a){var b=a.Ca.c(),c=0,d=b.length,e;[a.ba={},a.D={},a.da={},a.B={}].forEach(function(a){a.Vc=[];a.Ga=[]});for(a.$=b;c<d;c++)e=b[c],lj(a,c,e,1),0===c&&mj(a,e,!0);aj(a)}function mj(a,b,c){c=c?b.addEventListener:b.removeEventListener;c.call(b,b.a.Of,a.Bg,!1,a);c.call(b,b.a.Nf,a.Bg,!1,a)}p.Bg=function(){aj(this);jj(this)};
function lj(a,b,c,d){var e,f,g,h,k;c&&(k={Ib:a.gh,ai:a.i},c.requestOverlays&&(e=new Li(c,a.C,k)),c.requestTiles&&(f=new qi(c,a.C,k)),c.requestMarkers&&(g=new Oi(c,a.C,k)),c.requestDomMarkers&&(h=oj(a),h=new ji(c,new Ti(a.xa,h.w,h.h,a.Fa),k)));d=d||0;a.ba.Ga.splice(b,d,e);a.D.Ga.splice(b,d,f);a.da.Ga.splice(b,d,g);a.B.Ga.splice(b,d,h);a.$=a.Ca.c()}
function aj(a){var b;if(0<a.$.length)b=a.$[0].max,a.Vd=a.$[0].min,a.Jd=b;else{b=a.$d.zoom;var c=b.max;a.Vd=b.min;a.Jd=c}b=pj(a,a.b);b!==a.b&&(a.b=b,a.a.Ha(b),cj(a))}function fj(a,b){var c=b.requested,d,e;e=(d=c.camera)&&d.position;d=pj(a,pj(a,c.zoom)+a.i);e=qj({position:new Xb(e.lat,e.lng)});a.b=c.animate?a.b:d;e.zoom=d;return e}function bj(a,b,c){var d=a.a;d.Ha(c);a.l=d.projection.mb(b);d.x=d.w*a.l.x;d.y=d.h*a.l.y}function pj(a,b){var c=a.$d.zoom;return Jb(b,hb(c.min,a.Vd),gb(c.max,a.Jd))}
function qj(a){a.yaw=a.pitch=a.roll=0;a.fov=70;return a}p.Ia=function(a,b){var c=this.g.center,d=this.Fa;return this.a.wa((a-c.x)*d,(b-c.y)*d)};P.prototype.screenToGeo=P.prototype.Ia;P.prototype.Ka=ic;P.prototype.setPointer=P.prototype.Ka;P.prototype.lb=function(a,b){var c=this.Ia(a,b),d=this.N.wb();d.position=c;return d};P.prototype.screenToCameraData=P.prototype.lb;
P.prototype.ab=function(a){var b=this.Fa,c=this.g.center,d=c.x*b,c=c.y*b;a=this.a.geoToPixel(a);var e=this.a.w;return new M(ib((a.x-ib(a.x/e)*e+d)/b),ib((a.y+c)/b))};P.prototype.geoToScreen=P.prototype.ab;P.prototype.o=function(a,b){var c=this.Da[a||4],d=this.a,e=c.left-b,f=d.wa(e,c.top-b),g=c.right+b,c=d.wa(g,c.bottom+b);g-e>=d.w&&(f.lng=-(c.lng=180));return Ne(f,c)};P.prototype.getBBox=P.prototype.o;
P.prototype.Ma=function(a,b,c){var d=[],e=this.Fa;a*=e;b*=e;d=rj(d,this.B.Ga,a,b,c);if(c&&d.length)return d;d=rj(d,this.da.Ga,a,b,c);if(c&&d.length)return d;d=rj(d,this.D.Ga,a,b,c);return c&&d.length?d:rj(d,this.ba.Ga,a,b,c)};P.prototype.getObjectsAt=P.prototype.Ma;function rj(a,b,c,d,e){for(var f=b.length,g;f--&&!((g=b[f])&&g.Ma&&(a=a.concat(g.Ma(c,d,e)),a.length&&e)););return a}P.prototype.vb=z;function oj(a){a=a.Da[2];return{w:a.right-a.left,h:a.bottom-a.top}}
P.prototype.Ac=function(){var a=this.Da,b=ki(this.C),c,d,e;this.g.g||(d=a[2].clone());P.v.Ac.call(this);c=oj(this);this.I.set(0,0);e=c.w;c=c.h;if(b.width!==e||b.height!==c){Ei(this.C,e,c);for(var b=this.B.Ga.length,f;b--;)if(f=this.B.Ga[b])f=f.Hc,Ei(f,e,c);this.vb=new ih(e,c)}d&&(a=a[2],hj(this,d.left-a.left,d.top-a.top),cj(this));jj(this)};P.prototype.na=function(){return Ni};P.prototype.getCapabilities=P.prototype.na;
function sj(a){1E3>ui()-a.xc&&!a.Sb?a.mi=si(a.Ob):(a.Sb&&(nj(a),tj(a)),a.J=Zi)}function nj(a){a.ba.Vc.length=0;a.D.Vc.length=0;a.da.Vc.length=0;a.B.Vc.length=0}
P.prototype.Ob=function(){var a=this.D.Ga,b=this.g.center.clone().scale(this.Fa).round(),c=this.o(1,0),d=this.o(1,256),e=this.b,f=e-this.i,g,h,k=uj,l,n=this.a;g=this.jh;var m=this.hh,r=a[0],a=this.I;this.C.clear();if(r){if(g)for(;g;)h=e-g,r.ia(c,b,n,h,!0,a),--g;if(m&&this.Pb)for(l=1;l<=m&&(h=e+l,n.Ha(h),g=this.o(2,0),n.Ha(e),!r.ia(g,b,n,h,!0,a));l++);}c=this.ce(c,b,e,!1,a,k.Sf,this.D,this.ba);b=this.ce(d,b,f,!1,a,k.Kf,this.da,this.B);this.Sb=c&&b;this.ub&&(Xi(this.N,this.ub),this.ub=null);this.vb&&
(b=this.g,b.dispatchEvent(new Nh(b.a.Mc,b.o,this.vb,Nh.prototype.SIZE)),this.vb=z);e<this.Xd?this.Pb=!0:this.Id&&(this.Pb=!1);this.Xd=e;this.Id=c;sj(this)};P.prototype.ce=function(a,b,c,d,e,f,g){var h=Array.prototype.slice.call(arguments,6),k=h.length,l=h[0].Ga.length,n=k*l,m=uj,r,t,v=!!n,y,K,V;for(y=0;y<n;y++)f===m.Sf?(V=y%k,K=Math.floor(y/k)):f===m.Kf&&(V=Math.floor(y/l),K=y%l),r=h[V].Ga[K],t=h[V].Vc,r&&((r=r.ia(a,b,this.a,c,d,e))&&!t[K]&&(tj(this,this.$[K]),t[K]=!0),t[K]||(v=!1));return v};
function tj(a,b){a.dispatchEvent({type:a.Wd.Rf,target:b||a})}
P.prototype.F=function(){var a=this.Ca,b=this.Ca.c()[0],c=this.g,d,e;ti(this.mi);kj(this,!0);a.removeEventListener("update",this.xg,!1,this);a.removeEventListener(a.a.Jc,this.cf,!1,this);a.removeEventListener(a.a.Lc,this.df,!1,this);a.removeEventListener(a.a.pd,this.zg,!1,this);b&&mj(this,b,!1);this.C.K();[this.ba,this.D,this.da,this.B].forEach(function(a){d=a.Ga;for(e=d.length;e--;)qc(d[e])});c.element&&c.element.removeChild(this.xa);this.xa=null;this.J=3;P.v.F.call(this)};
function jj(a){a.xc=ui();a.J===Zi&&(a.Sb=!1,a.J=1,sj(a))}function vj(a){return qj({position:a.a.projection.Cc(a.l)})}function cj(a,b){var c=vj(a);b&&(c.position=b);a.ub=c;a.ub.zoom=a.b-a.i}function wj(a,b,c){hj(a,b*a.Fa,c*a.Fa);a.I.set(0,0);cj(a);jj(a)}function hj(a,b,c){var d=a.a;a=a.l;d.x=Hb(d.x+b,d.w);d.y=hb(0,gb(d.w,d.y+c));a.x=d.x/d.w;a.y=d.y/d.h}P.prototype.nd=function(a,b,c){a=pj(this,pj(this,a)+this.i);ij(this,a,b,c)};P.prototype.zoomAt=P.prototype.nd;
function ij(a,b,c,d){var e=a.Fa,f=a.g.center;c===+c&&d===+d?(c=(c-f.x)*e,d=(d-f.y)*e,a.I.set(c,d),hj(a,c,d),a.a.Ha(b),hj(a,-c,-d)):(a.I.set(0,0),a.a.Ha(b));a.b=b;cj(a);jj(a)}
P.prototype.S=function(a,b){var c=this.na().zoom.max,d=a.Ra(),e,f,g,h,k;a.ad()||(e=new Dg(this.a.projection),e.Ha(c),f=e.geoToPixel(a.pb()).round(),g=e.geoToPixel(a.nb()).round(),c=e.w,a.g()&&(f.x-=c),b?(h=e.geoToPixel(d),k=2*hb(h.x-f.x,g.x-h.x),h=2*hb(h.y-f.y,g.y-h.y)):(k=g.x-f.x,h=g.y-f.y,d=e.a(f.add(g).scale(.5))),f=this.Da[4],e=f.right-f.left,f=f.bottom-f.top,c=-8+gb(mb(e/k*c)/wb,mb(f/h*c)/wb)-this.i);return{zoom:pj(this,c),position:d}};P.prototype.getCamForBounds=P.prototype.S;
function ej(a){kj(a,!0);a.c.hb()&&a.A(!0);a.f.hb()&&a.u(!0);kj(a,!0)}P.prototype.M=function(a,b){ej(this);xj(this,b);this.f.start(a,!!b)};P.prototype.startInteraction=P.prototype.M;function xj(a,b){if(b){var c={};c.Og=b.power;c.ze=b.ease;c.duration=b.duration;a.s=c}}function $i(a,b){return pj(a,pj(a,b-a.i)+a.i)}
P.prototype.P=function(a,b,c,d,e){var f=!1;this.f.hb()&&(this.f.Xg(a,b,c,d,e),this.f.Cd(Bi.COORD)&&(e=this.f,e=bi(e.a,e.c),0<$h(e)&&(wj(this,-e.x,-e.y),f=!0)),this.f.Cd(Bi.ZOOM)&&a===+a&&b===+b&&c===+c&&d===+d&&(b=ci(this.f.a),a=this.f.ag(this.b),a!==this.b&&(a=$i(this,a),ij(this,a,b.x,b.y),f=!0)),f&&jj(this))};P.prototype.interaction=P.prototype.P;
P.prototype.u=function(a){var b=this,c,d,e,f;this.f.hb()&&!a&&(this.s&&(a=gi(this.f),e=fi(this.f),f=this.s.duration,c=(this.s.Og||1)*a,d=new Si(-(c/f),c),!E(e.x)&&!E(e.y)&&0<c&&b.f.Cd(Bi.COORD)&&gj(this,function(a){c=d.c(a*f);E(c)||wj(b,ib(-e.x*c),ib(-e.y*c))},f,void 0,this.s.ze)),this.s=null,this.f.clear())};P.prototype.endInteraction=P.prototype.u;P.prototype.W=function(a,b,c){ej(this);this.c.start(b,c);xj(this,a)};P.prototype.startControl=P.prototype.W;
P.prototype.j=function(a,b,c,d,e,f,g){if(E(c=+g||+c))throw new D(this.j,2,c);if(E(a))throw new D(this.j,0,a);if(E(b))throw new D(this.j,2,b);this.c.hb()&&this.c.set(a,b,c)};P.prototype.control=P.prototype.j;
P.prototype.A=function(a,b){var c=this,d,e,f,g,h,k,l,n;this.c.hb()&&(kj(this,!0),e=ui(),d=e-this.$b,1<=d&&(f=Ii(this.c),yj(this,f,d)),!this.s||a||b?"function"===typeof b&&(d={camera:vj(this),zoom:this.b-this.i},b(d),d.zoom+=this.i,zj(this,d)):(d=Ji(this.c),k=Ki(this.c),l=this.s.duration,g=(this.s.Og||1)*d,h=new Si(-(g/l),g),!E(k.x)&&!E(k.y)&&0<g&&gj(this,function(a,b,d,f){e&&(d=f-e,e=0);g=h.c(a*l)*d;E(g)||((n=k.z*g)&&ij(c,$i(c,c.b+n),c.c.atX,c.c.atY),wj(c,ib(k.x*g),ib(k.y*g)))},l,void 0,this.s.ze)),
this.c.reset())};P.prototype.endControl=P.prototype.A;function zj(a,b){var c,d,e,f=a.l,g=a.a.projection.mb(b.camera.position),h=a.a.b(g),k=h.y,h=h.x,l=b.zoom,n=a.a.b(f),f=n.y,m=n.x,n=a.b,r=Ji(a.c),t=a.c.atX,v=a.c.atY,y=0,K,h=dj(a,m,h),h=h-m,k=k-f,n=l-n,f=nb(h*h+k*k+n*n);0!==r&&0!==f&&(c=h/f,d=k/f,e=n/f,K=r*r/(2*f),gj(a,function(b,f){var h,k,m;if(1!==b){h=r*f-K*f*f/2;k=h-y;if(m=e*k)m=$i(a,a.b+m),ij(a,$i(a,m),t,v);wj(a,ib(c*k),ib(d*k));y=h}else a.l=g,ij(a,$i(a,l),t,v),cj(a),jj(a)},2*f/r))}
P.prototype.Lb=function(a){var b=this,c=a.offset;this.I.set(0,0);c.x||c.y||c.z?(this.$b=ui(),gj(this,function(a,e,f,g){b.$b=g;yj(b,c,f)},Number.POSITIVE_INFINITY)):kj(this,!0)};function yj(a,b,c){c=c||0;b.z&&ij(a,$i(a,a.b+b.z*c),a.c.atX,a.c.atY);wj(a,b.x*c,b.y*c)}function gj(a,b,c,d,e){a.G&&a.G.hb()&&a.G.stop(!0);a.G=new Qi(b,c,d,e);a.G.start()}function kj(a,b){a.G&&a.G.hb()&&a.G.stop(b)}P.prototype.enter=ic;P.prototype.enter=P.prototype.enter;
P.prototype.Pa=function(a){var b=this.N.wb();this.eb({requested:{camera:b,zoom:b.zoom,animate:!0}});Ai(this.xa,a)};P.prototype.exit=P.prototype.Pa;P.prototype.ua=function(a,b,c,d){var e=this.C.a,f=e.ownerDocument.createElement("canvas"),g=f.getContext("2d"),h=this.Fa;f.width=(c-a)*h;f.height=(d-b)*h;g.drawImage(e,-a*h,-b*h);return f};var uj={Kf:0,Sf:1};function Q(a){var b={};this.I=b.previousSibling=b.nextSibling=b;this.eb=new oe;Q.v.constructor.call(this,a);a&&"objects"in a&&this.o(a.objects)}w(Q,I);u("H.map.Group",Q);Q.prototype.type=Fe.GROUP;Q.prototype.G=function(a,b){var c;this.C=!0;c=Q.v.G.call(this,a,b);this.C=!1;c&&this.forEach(Aj,!0);return c};Q.prototype.setProvider=Q.prototype.G;function Aj(a,b,c){a.G(c.i)}Q.prototype.contains=function(a){var b=this===a;if(!b&&this.b&&C(a,I))for(;!b&&a;)a===this?b=!0:a=a.za;return b};
Q.prototype.contains=Q.prototype.contains;Q.prototype.M=function(){this.da=B;this.forEach(Bj,!0)};Q.prototype.resetZInfo=Q.prototype.M;function Bj(a){a.M()}Q.prototype.C=!1;Q.prototype.va=function(a){var b=Q.v.va.call(this,a);b&&!this.C&&(this.B=a,this.forEach(Cj,!0),delete this.B);return b};Q.prototype.invalidate=Q.prototype.va;function Cj(a,b,c){a.va(c.B)}
Q.prototype.forEach=function(a,b,c){var d,e,f,g;if(this.b)for(d=this.I,e=d.nextSibling,f=0;e!==d;)g=e.nextSibling,a.call(c,e,f++,this),b&&C(e,Q)&&e.forEach(a,b,c),e=g};Q.prototype.forEach=Q.prototype.forEach;Q.prototype.u=function(a){var b=[];this.forEach(Dj,a,b);return b};Q.prototype.getObjects=Q.prototype.u;Q.prototype.R=function(){var a=null;this.b&&this.forEach(function(b){a?b.R?(b=b.R())&&(a=a.sb(b)):a=a.Xe(b.getPosition()):a=b.R?b.R():Oe([b.getPosition()])});return a};
Q.prototype.getBounds=Q.prototype.R;function Dj(a){this.push(a)}Q.prototype.b=0;Q.prototype.ba=function(){return this.b};Q.prototype.getChildCount=Q.prototype.ba;
Q.prototype.U=function(a){var b=this.I,c=b.previousSibling,d;C(a,I,this.U,0);if(a.contains(this))throw new ac(this.U,"The new object contains the parent group");d=a.za;if(d!==this){if(d){d=a.previousSibling;var e=a.nextSibling;d.nextSibling=e;e.previousSibling=d}a.za=this;I.v.ha.call(a,this);c.nextSibling=a;a.previousSibling=c;a.nextSibling=b;b.previousSibling=a;this.b++}b=a.G(this.i,this.U);a.Wg=this.eb.next();a.M();b||a.va(Ce.Z_ORDER);return a};Q.prototype.addObject=Q.prototype.U;
Q.prototype.o=function(a){var b,c;Ua(a,this.o,0);b=a.length;for(c=0;c<b;c++)this.U(a[c])};Q.prototype.addObjects=Q.prototype.o;Q.prototype.a=function(a){if(!a||a.za!==this)throw new ac(this.a,"object not found");var b=a.previousSibling,c=a.nextSibling;b.nextSibling=c;c.previousSibling=b;a.za=null;I.v.ha.call(a,null);delete a.previousSibling;delete a.nextSibling;C(a.i,J)&&a.G(null,this.a);this.b--;return a};Q.prototype.removeObject=Q.prototype.a;
Q.prototype.A=function(a){var b,c;Ua(a,this.A,0);b=a.length;for(c=0;c<b;c++)this.a(a[c])};Q.prototype.removeObjects=Q.prototype.A;Q.prototype.Ba=function(){var a=this.u();this.A(a)};Q.prototype.removeAll=Q.prototype.Ba;function Ej(a){var b;Pa(this,Ej);Ej.v.constructor.call(this,a);this.D=a=[];for(b in Fe)a[Fe[b]]=new Be}w(Ej,jg);u("H.map.provider.ObjectProvider",Ej);Ej.prototype.P=function(a){return this.D[a||Fe.ANY]};Ej.prototype.getInvalidations=Ej.prototype.P;Ej.prototype.g=function(a,b){var c,d;b!==Ce.NONE&&(d=this.D[Fe.ANY],c=d.a+1,d.c(c,b),d=this.D[a.type],d.c(c,b),a.l().c(c,b),kg(this,a))};Ej.prototype.invalidateObject=Ej.prototype.g;Ej.prototype.requestOverlays=Ej.prototype.M;
Ej.prototype.requestSpatials=Ej.prototype.o;Ej.prototype.requestSpatialsByTile=Ej.prototype.c;Ej.prototype.N=!1;Ej.prototype.requestMarkers=Ej.prototype.s;Ej.prototype.requestDomMarkers=Ej.prototype.j;function J(a){a=a||{};J.v.constructor.call(this,a);this.b=a=new Q({provider:this,min:a.min,max:a.max});a.ha(this);this.B=new Xf;this.A=new Xf;this.f=new Xf;this.C=new Xf}w(J,Ej);u("H.map.provider.LocalObjectProvider",J);J.prototype.I=function(){return this.b};J.prototype.getRootGroup=J.prototype.I;J.prototype.g=function(a,b){b&Ce.SPATIAL&&this.U(a);J.v.g.call(this,a,b)};J.prototype.invalidateObject=J.prototype.g;
J.prototype.U=function(a){var b;C(a,I,this.U,0);if(a.i!==this)throw new ac(this.U,"foreign object");this.a(a);C(a,Mh)?(b=a.getPosition(),b=Zf(this.f,b)):C(a,zg)?(b=a.getPosition(),b=Zf(this.C,b)):b=C(a,Fj)?$f(this.B,a.R()):$f(this.A,a.R());b.Gf=a;a.lb=b};J.prototype.a=function(a){var b;if(a)if(a.i!==this){if(C(a,I))throw new ac(this.a,"foreign object");}else if(b=a.lb)(C(a,Mh)?this.f:C(a,zg)?this.C:C(a,Fj)?this.B:this.A).remove(b),delete b.Gf,delete a.lb};J.prototype.removeObject=J.prototype.a;
function Gj(a,b,c,d,e){var f,g,h;if(b.c){a=b!==a.f;e=!e;b=dg(b,c);g=0;c=b.length;for(f=0;f<c;f++){h=b[f].Gf;for(var k=ib(d),l=h,n=void 0;(n=l.Da<=k&&l.Ka>=k)&&(l=l.za););n&&(e||h.getVisibility(!0))&&(a||1===h.ob().getState())&&(b[g++]=h)}b.length=g}else b=te;return b}J.prototype.ba=function(){return 0<this.B.c};J.prototype.providesOverlays=J.prototype.ba;J.prototype.M=function(a,b,c){return Gj(this,this.B,a,b,c).filter(function(a){return a.Kb()})};J.prototype.requestOverlays=J.prototype.M;
J.prototype.u=function(){return 0<this.A.c};J.prototype.providesSpatials=J.prototype.u;J.prototype.o=function(a,b,c){return Gj(this,this.A,a,b,c)};J.prototype.requestSpatials=J.prototype.o;J.prototype.c=function(a,b){return Gj(this,this.A,a.A(),a.zL,b)};J.prototype.requestSpatialsByTile=J.prototype.c;J.prototype.l=function(){return 0<this.f.c};J.prototype.providesMarkers=J.prototype.l;J.prototype.s=function(a,b,c){return Gj(this,this.f,a,b,c)};J.prototype.requestMarkers=J.prototype.s;
J.prototype.i=function(){return 0<this.C.c};J.prototype.providesDomMarkers=J.prototype.i;J.prototype.j=function(a,b,c){return Gj(this,this.C,a,b,c)};J.prototype.requestDomMarkers=J.prototype.j;J.prototype.F=function(){this.b.Ba();J.v.F.call(this)};function Hj(){this.Y=[];Hj.v.constructor.call(this)}w(Hj,G);u("H.util.OList",Hj);function Ij(a,b,c){a=a.Y.length;var d;if(c)d=a;else if(E(d=0>(d=+b)?hb(0,a+d):gb(a,d)))throw new od(Hj,b,[0,a-1]);return d}Hj.prototype.add=function(a,b){var c=Ij(this,b,E(b));this.Y.splice(c,0,a);this.dispatchEvent(new Jj(this,this.a.Jc,c,a,null,null))};Hj.prototype.add=Hj.prototype.add;function Kj(a,b){var c=a.Y.splice(b,1)[0];a.dispatchEvent(new Jj(a,a.a.Lc,b,null,c,null));return c}
Hj.prototype.b=function(a){this.get(a);return Kj(this,a)};Hj.prototype.removeAt=Hj.prototype.b;Hj.prototype.remove=function(a){a=this.indexOf(a);return 0<=a?(Kj(this,a),!0):!1};Hj.prototype.remove=Hj.prototype.remove;Hj.prototype.set=function(a,b){var c=this.get(a);a=Ij(this,a,!1);c=this.Y[a];this.Y[a]=b;this.dispatchEvent(new Jj(this,this.a.pd,a,b,c,null));return c};Hj.prototype.set=Hj.prototype.set;Hj.prototype.indexOf=function(a){return this.Y.indexOf(a)};Hj.prototype.indexOf=Hj.prototype.indexOf;
Hj.prototype.get=function(a){var b=Ij(this,a,!1),c=this.Y;if(b>=c.length)throw new od(this.get,a,[0,c.length-1]);return c[b]};Hj.prototype.get=Hj.prototype.get;Hj.prototype.g=function(){return this.Y.length};Hj.prototype.getLength=Hj.prototype.g;Hj.prototype.c=function(){return[].concat(this.Y)};Hj.prototype.asArray=Hj.prototype.c;Hj.prototype.f=function(){for(var a=this.Y.length;a--;)Kj(this,a)};Hj.prototype.flush=Hj.prototype.f;Hj.prototype.F=function(){this.f();Hj.v.F.call(this)};
Hj.prototype.a={Jc:"add",Lc:"remove",pd:"set",ui:"move"};function Jj(a,b,c,d,e,f){Jj.v.constructor.call(this,b,a);this.idx=c;this.added=d;this.removed=e;this.moved=f}w(Jj,rc);function Lj(a){Lj.v.constructor.call(this);this.dispatchEvent=A(this.dispatchEvent,this);if(a)for(var b=0,c=a.length;b<c;b++)this.add(a[b])}w(Lj,Hj);u("H.map.DataModel",Lj);Lj.prototype.add=function(a,b){C(a,Fg,this.add,0);Lj.v.add.call(this,a,b);a.addEventListener(a.a.la,this.dispatchEvent,!1)};Lj.prototype.add=Lj.prototype.add;
Lj.prototype.set=function(a,b){var c;C(b,Fg,this.set,0);c=Lj.v.set.call(this,a,b);b.addEventListener(b.a.la,this.dispatchEvent,!1);c.removeEventListener(c.a.la,this.dispatchEvent,!1);return c};Lj.prototype.set=Lj.prototype.set;Lj.prototype.b=function(a){var b;(b=Lj.v.b.call(this,a))&&b.removeEventListener(b.a.la,this.dispatchEvent,!1);return b};Lj.prototype.removeAt=Lj.prototype.b;
Lj.prototype.remove=function(a){var b;(b=Lj.v.remove.call(this,a))&&a.removeEventListener(a.a.la,this.dispatchEvent,!1);return b};Lj.prototype.remove=Lj.prototype.remove;Lj.prototype.f=function(){for(var a=this.Y.length;a--;)this.b(a);Lj.v.f.call(this)};Lj.prototype.flush=Lj.prototype.f;function Mj(a,b){var c=this;if(!q(b))throw new D(Nj,1,b);if(!q(a.next||q(a.cycle)))throw new D(Mj,2,'Argument "mode" must implement H.util.AsyncQueue.Mode');this.b=[];this.c=[];this.g=a;this.i=b;this.l=function(){Oj(c)};this.a=null;this.f=function(){c.a||(c.a=x.setTimeout(c.l,1))}}u("H.util.AsyncQueue",Mj);Mj.prototype.push=function(a,b){if(!q(b))throw new D(this.push,1,b);var c=Pj(new Qj,a,this.f,b);this.b.push(c);this.f();return c};Mj.prototype.push=Mj.prototype.push;
function Oj(a){var b,c=a.c,d=0,e=a.g;e.Fb=ui();for(a.a=null;d<c.length;)b=c[d],b.ig?c.splice(d,1):d++;for(;b=e.next(a.b,a.c);)b.cancelled?b.done(null,"cancelled"):(c.push(b),a.i(b,b.data))}function Qj(){Pj(this,null,null,null)}Mj.Task=Qj;function Pj(a,b,c,d){a.data=b;a.cancelled=!1;a.ig=!1;a.b=c;a.c=d;a.a=null;return a}Qj.prototype.done=function(a,b){this.ig=!0;this.b();this.c(this,a,b)};Qj.prototype.done=Qj.prototype.done;Qj.prototype.cancel=function(){this.a&&this.a();this.cancelled=!0};
Qj.prototype.cancel=Qj.prototype.cancel;Qj.prototype.f=function(a){this.a=a;return this};Qj.prototype.setCancelFn=Qj.prototype.f;function Rj(a,b){Rj.v.constructor.call(this,new Sj(a),b)}w(Rj,Mj);u("H.util.SequentialQueue",Rj);function Sj(a){if(isNaN(a)||0>a)throw new D(Rj,1,'Argument "maxTime" must be a positive number');this.a=a;this.Fb=ui()}Sj.prototype.next=function(a){return a.length&&ui()-this.Fb<this.a?a.shift():null};function uf(a,b,c,d,e,f){var g,h,k=a.length,l,n,m,r,t,v,y;if(k)for(g=[];k--;)for(v=a[k],r=v.length,t=0,l=1;l<r;l++){if(y=Tj(v[l-1],v[l],c,b,d,e))n=y[0],m=y[1],t&&t.ma(n)?h.push(m):g.push(h=y),t=m,f&&(l=r,k=0)}else g=a;return g}
function Tj(a,b,c,d,e,f){var g=a.x;a=-a.y;var h=b.x;b=-b.y;var k,l,n;c=-c;f=-f;if(g>h){if(h>e||g<d)return;l=g;n=a;g=h;a=b;h=l;b=n;l=1}else if(g>e||h<d)return;if(a>b){if(b>c||a<f)return;k=1;a=-a;b=-b;n=f;f=-c;c=-n}else if(a>c||b<f)return;if(g<d){if((a+=(d-g)*(b-a)/(h-g))>c)return;g=d}if(a<f){if((g+=(f-a)*(h-g)/(b-a))>e)return;a=f}h>e&&(b=a+(e-g)*(b-a)/(h-g),h=e);b>c&&(h=g+(c-a)*(h-g)/(b-a),b=c);k&&(a=-a,b=-b);return l?[new M(h,-b),new M(g,-a)]:[new M(g,-a),new M(h,-b)]}
function wf(a,b,c,d,e,f,g,h,k,l){a={x:a,y:b,next:c||null,ib:d||null,$e:e||null,Ze:f||null,Xa:g||0,Be:h||0,ge:k||0,alpha:l||0};d&&(a.ib.next=a);c&&(a.next.ib=a);return a}function yf(a){for(;a&&a.Xa;)a=a.next;return a}function xf(a){if(a)for(;a.next;)a=a.next;return a}function Df(a){var b=a;if(b){do b=b.next;while(b!=a&&(!b.Xa||b.Xa&&b.ge))}return b}function Cf(a){var b=xf(a);b.ib.next=a;a.ib=b.ib}
function zf(a,b,c,d,e,f){var g,h,k,l=b.x-a.x,n=b.y-a.y;g=d.x-c.x;var m=d.y-c.y;h=l*m-n*g;if(!h)return 0;g=((c.x-a.x)*m-(c.y-a.y)*g)/h;h=(n*(c.x-a.x)-l*(c.y-a.y))/h;if(0>g||1<g||0>h||1<h)return 0;0===g?k=a:1===g?k=b:0===h?k=c:1===h&&(k=d);if(k&&!f)return k.x+=2.480549651603763E-5,k.y+=7.321997314118067E-5,k.vd&&(k.vd.x=k.x,k.vd.y=k.y),zf(a,b,c,d,e);e.ji=a.x+g*l;e.li=a.y+g*n;e.ph=g;e.Tf=h;return 1}
function Bf(a,b,c){var d,e=0,f={},g,h,k,l,n,m;c=c||a.y;d=wf(-123123123,c);Array.isArray(b)?(k=0,g=b[k],l=function(){return b[++k]}):(n=g=b,l=function(){return n=n.next});for(;m=l();){h=zf(d,a,g,m,f,!0);g=f.Tf;if(0===g||1===g)return Bf(a,b,c+7.321997314118067E-5);h&&e++;g=m}return e%2}function Af(a,b,c){for(b=b.next;b!==c&&b.alpha<=a.alpha;)b=b.next;a.next=b;a.ib=b.ib;a.next.ib=a;a.ib.next=a}
function vf(a){for(var b,c=null,d=0,e=a.length;d<e;d++){b=wf(a[d].x,a[d].y,c);if(b.next=c)c.ib=b;c=b}return c};function Uj(a,b,c,d,e){void 0===d&&(d=0,e=a.length-1);for(var f,g=b*b,h=0,k=d,l=a[d].x,n=a[d].y,m=a[e].x,r=a[e].y,t=d+1,v,y=l!==m?(r-n)/(m-l):null;t<e;)v=a[t++],f=v.x,v=v.y,h<(f=gb(null!==y?ob(lb(v-y*f-(n-y*l)),2)/(ob(y,2)+1):lb(f-l),ob(f-l,2)+ob(v-n,2),ob(f-m,2)+ob(v-r,2)))&&(h=f,k=t-1);h>=g||0<c&&k-d?(d=Uj(a,b,c=(c||0)-1,d,k),d.splice(d.length-1,1),d=d.concat(Uj(a,b,c,k,e))):d=[a[d],a[e]];return d};function Vj(a,b,c,d,e,f,g,h){Vj.v.constructor.call(this,b,c,d,null);this.key=a;this.G=h;this.b=e;1!==f&&(this.Qb=f);this.g={};this.zL=g}w(Vj,tg);u("H.map.provider.SpatialTile",Vj);Vj.prototype.f=Fb;Vj.prototype.D=Fb;Vj.prototype.c=Fb;function Wj(a){return a.G.getInvalidations(Fe.SPATIAL)}
function Xj(a){var b=Wj(a),c=b.a,d=a.f,e=d===c,f,g,h,k,l,n;if(!(e||b.j(d)||b.g(d))){e=a.a;f=a.g;if(b.f(d))for(g=e.length;g--;)h=e[g],h.l().f(d)&&(e.splice(g,1),k=k||Yj(a,h.sa()));if(b.i(d)){for(g=e.length;g--;)if(h=e[g],h.l().i(d)&&(l=1,(h=f[h.sa()])&&h.a)){k=1;break}l&&e.sort(Zj)}if(!k&&b.b(d))for(g=e.length;g--;)if(e[g].l().b(d)){n=1;break}a.D!==d||n||(a.D=c,a.c!==d||k||(a.c=c));a.f=c;e=!0}return e}
Vj.prototype.uc=function(){var a=Wj(this),b=a.a,c=this.c,d=c===b;d||(this.G.N&&!a.b(c)?d=!0:Xj(this)&&(d=this.c===b));return d};Vj.prototype.isCanvasValid=Vj.prototype.uc;Object.defineProperty(Vj.prototype,"valid",{get:function(){return this.uc()},set:ic,configurable:!0});function ak(a,b){this.b=a;this.a=b}function Yj(a,b){var c=a.g,d=c[b];if(d)return delete c[b],d.a}Vj.prototype.a=te;function Zj(a,b){return He(Ge(a),Ge(b),!1)}Vj.prototype.Ya=function(){return this.a};Vj.prototype.getObjects=Vj.prototype.Ya;
var bk={};Vj.prototype.u=function(){var a=this.b+"_"+this.Qb,b=bk[a],c;b||(b=-kb(We.MAX_LINE_WIDTH/2*this.Qb+1),c=this.b-b,b=bk[a]=new Jg(b,b,c,c));return b};Vj.prototype.getPxClipRect=Vj.prototype.u;Vj.prototype.A=function(){var a=this.M,b,c;a||(c=this.C(),a=0,b=this.b,this.z&&(b-=a+=this.u().top),a=this.M=Ne(c.a(new M(a,a)),c.a(new M(b,b))));return a};Vj.prototype.getGeoClipRect=Vj.prototype.A;
Vj.prototype.C=function(){var a=this.N,b;a||(b=this.b,a=this.N=new Dg(B,b),a.Ha(this.z),a.x=this.x*b,a.y=this.y*b);return a};Vj.prototype.getPxProj=Vj.prototype.C;Vj.prototype.Qb=1;Vj.prototype.I=function(){return this.Qb};Vj.prototype.getPixelRatio=Vj.prototype.I;Vj.prototype.j=function(){var a=this.data;this.data=null;this.c=Fb;return a};Vj.prototype.releaseCanvas=Vj.prototype.j;Vj.prototype.s=function(){this.g={};delete this.a;this.f=Fb};Vj.prototype.releaseData=Vj.prototype.s;
Vj.prototype.ia=function(a){var b=a.getContext("2d"),c,d,e,f,g,h,k,l,n=k=0;c=Wj(this);d=this.f;e=this.a;if(!Xj(this)){for(k=e.length;k--;)g=e[k],f=g.l(),(f.f(d)||f.g(d))&&Yj(this,g.sa());this.a=this.G.requestSpatialsByTile(this,!1,!1).sort(Zj);this.f=c.a}if(this.c<this.f){c=this.a;if(d=c.length)for(a.width=a.height=this.b,b.clearRect(0,0,this.b,this.b),e=this.g,f=0;f<d;f++){g=c[f];h=g.sa();if(k=e[h])l=k.b,g.l().b(this.c)&&(k.a=df(g,l)),k=k.a;else{l=g.getGeometry(this);k=df(g,l);this.g[h]=new ak(l,
k);h=l;for(var m=g.B?2:0,r=h.length;r--;)h[r]=Uj(h[r],.6,m)}if(k){b.save();h=g.B?this.kb:this.S;h.call(this,g,l,g.Na(),b);if(l=g.getLabels(this)){g=b;h=l.length;for(var t=r=r=void 0,m=m=void 0;h--;)for(r=l[h],m=r.size,g.font=m+"px "+r.font,g.fillStyle=r.color,g.textAlign="center",g.translate(r.x,r.y),g.rotate(r.angle),m=r.lineHeight||1.375*m,r=r.lines,t=r.length;t--;)g.fillText(r[t],0,t*m)}b.restore()}n|=k}this.data=n?a:null;this.D=this.c=this.f}else this.data&&(n=1);return 0<n};
Vj.prototype.render=Vj.prototype.ia;Vj.prototype.S=function(a,b,c,d){var e;c.b&&(ck(d,c,this.Qb),dk(b,d,!1,!0,!1));c.a&&(e=a.A)&&e.bd&&(ek(d,e),fk(this,d,b,e,c.lineWidth))};
Vj.prototype.kb=function(a,b,c,d){var e=c.c,f=c.b,g,h;if(b===a.S)e&&(ek(d,c),d.fillRect(0,0,this.b,this.b));else if(f&&ck(d,c,this.Qb),c.a&&(g=a.A)&&(h=c.lineWidth,g.bd||(g=null)),a=a.getHybridIdx(this),0>a){if(f||e)ek(d,c),dk(b,d,!0,f,e);g&&(ek(d,g),fk(this,d,b,g,h,0))}else e&&(ek(d,c),dk(b,d,!0,!1,e,0,a)),f&&dk(b,d,!1,f,!1,a),g&&(ek(d,g),fk(this,d,b,g,h,a))};
function dk(a,b,c,d,e,f,g){var h,k,l,n;g===B&&(g=a.length);for(f=f||0;f<g;f++)if(h=a[f],k=h.length){b.beginPath();l=h[0];b.moveTo(l.x,l.y);for(n=1;n<k;n++)l=h[n],b.lineTo(l.x,l.y);c&&(b.closePath(),e&&b.fill());d&&b.stroke()}}function ck(a,b,c){var d;a.strokeStyle=b.strokeColor;a.lineWidth=b.lineWidth*c;a.lineCap=b.lineCap;a.lineJoin=b.lineJoin;a.miterLimit=b.miterLimit;a.setLineDash&&(d=b.lineDash)!==te&&(a.setLineDash(d),a.lineDashOffset=b.lineDashOffset)}
function ek(a,b){a.fillStyle=b.fillColor}
function fk(a,b,c,d,e,f){var g=e*d.width/2;e=e*d.length/2;var h=e/2;d=2*e*d.frequency;var k=nb(ob(e,2)+ob(g,2));a=a.b-k;a=new Jg(k,k,a,a);var l,n,m,r,t,v,y,K,V,ga,la,Ob=xb/2;f=f||0;for(k=c.length;k-- >f;){v=0;l=c[k];if(r=n=l.length){m=l;r=m.length;for(t=0;--r;)t+=m[r].distance(m[r-1]);r=(m=t)>=d}if(r)for(r=gb(jb(m/d),1E3),r=m/(r+1),t=r/2;--n;){for(y=(K=l[n]).distance(V=l[n-1]);t<=v+y;)la=K.x+(V.x-K.x)*(ga=(t-v)/y),ga=K.y+(V.y-K.y)*ga,a.a(la,ga)&&(b.save(),b.translate(la,ga),b.rotate(-ub((V.y-K.y)/
(K.x-V.x))+(K.x<V.x?Ob:-Ob)),b.beginPath(),b.moveTo(-g,-e),b.lineTo(0,e),b.lineTo(g,-e),b.lineTo(0,-h),b.closePath(),b.fill(),b.restore()),t+=r;v+=y}}}var gk=[];
Vj.prototype.Ma=function(a,b,c){for(var d=this.a,e=d.length,f,g,h,k,l=te,n,m,r,t,v,y,K=this.Qb;e--;)if(f=d[e],g=this.g[f.sa()])if(g=g.b,g!==f.o&&f.getVisibility(!0)){h=f.Na();k="none"!==h.fillColor&&f.B;if(g===f.S)k&&(l===te&&(l=[]),l.push(f));else if(h="none"!==h.strokeColor?h.lineWidth*K:0,k||h)for(n=f.getHybridIdx(this),m=0<=n,r=g.length;r--;){t=g[r];v=t.length;gk.length=2*v;for(y=0;y<v;y++)gk[2*y]=t[y].x,gk[2*y+1]=t[y].y;t=m&&r>=n?!1:k;v=m&&r<n?0:h;if((t||v)&&0!==Nb(a,b,gk,v,t)){l===te&&(l=[]);
l.push(f);break}}if(c&&l.length)break}return l};function hk(a,b){var c,d;hk.v.constructor.call(this,b);this.o=a;this.C=c=b.pixelRatio;this.tileSize=d=1<<ib(Gb((b.tileSize||256)*c));this.D=mg(d,c);this.Me=A(this.Me,this);this.bf=A(this.bf,this);this.Ne=A(this.Ne,this);this.Le=A(this.Le,this);this.g=A(this.g,this);this.o.addEventListener(jg.prototype.G.la,this.g,!1,this);this.b=[];this.c=new og(b.tileCacheSize||256,this.Me);this.f=new og(b.dataCacheSize||512,this.bf);this.A=new Rj(20,this.Ne);this.a={};this.j=ui()}w(hk,lg);
u("H.map.provider.SpatialTileProvider",hk);hk.prototype.g=function(a){a.target.type===Fe.SPATIAL&&kg(this,a.target)};hk.prototype.s=function(a,b,c,d){var e=this.getTileKey(a,b,c),f;if(f=this.c.get(e,d)){if(d||f.uc())return f;d||this.c.g(e)}if((f=this.f.get(e,d))&&(d||Xj(f)))return a=this.b.pop()||document.createElement("canvas"),f.ia(a)||this.b.push(a),this.c.add(e,f,1),f;d||((f=this.a[e])?f.count++:(f=this.A.push([e,a,b,c],this.Le),f.count=1,this.a[e]=f))};hk.prototype.requestTile=hk.prototype.s;
hk.prototype.S=function(a,b,c){this.M(this.getTileKey(a,b,c))};hk.prototype.cancelTile=hk.prototype.S;hk.prototype.M=function(a){var b;if(b=this.a[a])b.count--,b.count||(b.cancel(),delete this.a[a])};hk.prototype.cancelTileByKey=hk.prototype.M;p=hk.prototype;p.Ne=function(a,b){var c=b[0],d=b[1],e=b[2],f=b[3],c=this.c.get(c)||new Vj(c,d,e,f,this.tileSize,this.C,f+this.D,this.o),d=c.data||this.b.pop()||document.createElement("canvas");c.ia(d)||this.b.push(d);b.push(c);a.done(c)};
p.Le=function(a,b){var c=a.data[0];b&&this.c.add(c,b,1);delete this.a[c];kg(this)};p.Me=function(a,b){b.data&&this.b.push(b.j());this.f.add(a,b,1)};p.bf=function(a,b){b.s()};p.F=function(){for(var a in this.a)this.a[a].cancel();this.c.Ba();this.f.Ba();this.b.length=0;hk.v.F.call(this)};function Nj(a){var b="getURL";if(!a||!q(a[b]))throw new D(Nj,0,"options."+b);Nj.v.constructor.call(this,a);this.N=this[b]=a[b];b="tileSize";this[b]=a[b]||256;this.I={crossOrigin:a.crossOrigin};this.b=x.URL||x.webkitURL;if(this.I.crossOrigin!==B)a=!!this.I.crossOrigin;else{a=this.N(0,0,0);var b=window.location,c=document.createElement("a");c.href=a;a=c.hostname===b.hostname&&c.port===b.port&&c.protocol===b.protocol}(this.$=a&&!!Zg.prototype.a[$g]&&!!this.b)&&this.g.c(A(this.da,this))}w(Nj,N);
u("H.map.provider.ImageTileProvider",Nj);Nj.prototype.A=function(){return this.tileSize};Nj.prototype.getEntryWeight=Nj.prototype.A;
Nj.prototype.c=function(a,b,c,d,e,f){var g=this,h=this.N(a,b,c),k,l;a=null;h?(l=x.setTimeout(function(){g.$?(k=new Zg($g,h,f),k.then(function(a){var b=new Image;b.onload=A(d,null,b,{bi:a});b.onerror=A(e,null,"bad url");try{b.src=g.b.createObjectURL(g.f(a))}catch(c){}},e)):k=(new Zg("image",h,f,g.I)).then(d,e)},150),a={cancel:function(){k?k.cancel(!0):x.clearTimeout(l)}}):d(null);return a};Nj.prototype.requestInternal=Nj.prototype.c;
Nj.prototype.Ca=function(a,b){var c=new Image;c.onload=function(){b(this)};c.src=this.b.createObjectURL(this.f(a))};Nj.prototype.f=function(a){var b=x.BlobBuilder||x.WebKitBlobBuilder||x.MozBlobBuilder,c=Nj.prototype;c.f=b?function(a){var c=new b;c.append(a);return c.getBlob("application/octet-stream")}:function(a){return new Blob([a],{type:"application/octet-stream"})};return c.f(a)};Nj.prototype.da=function(a,b){var c=b.data;c&&c instanceof HTMLImageElement&&this.b.revokeObjectURL(c.src)};function Hg(a,b){var c=b||{},d=c.opacity;this.opacity=d!==B?d:1;Gg.call(this,a,c)}w(Hg,Gg);u("H.map.layer.TileLayer",Hg);Hg.prototype.c=function(a,b,c,d,e){if(!C(a,F))throw new D(this.c,0,a);if(E(b=+b))throw new D(this.c,1,b);var f;b=jb(b);this.pixelProjection.Ha(b);a=this.g(a);f=this.f(a,b);return this.i(f,a.left>a.right,b,c,d,e)};Hg.prototype.requestTiles=Hg.prototype.c;function Mi(a,b){var c=b||{};c.tileSize=c.tileSize||256;c.pixelRatio=c.pixelRatio||1;this.b=new hk(a,c);this.f=new Hg(this.b,{opacity:1});c.minWorldSize=this.b.tileSize;Mi.v.constructor.call(this,c);this.opacity=this.f.opacity;this.tileSize=this.f.tileSize;this.g=a;this.i=A(this.i,this);this.b.addEventListener(this.b.G.la,this.i);a.addEventListener("update",this.i)}w(Mi,Fg);u("H.map.layer.ObjectLayer",Mi);Mi.prototype.i=function(a){a.currentTarget!==this.b&&a.target.type===Fe.SPATIAL||this.o()};
Mi.prototype.Sa=function(){return this.g};Mi.prototype.getProvider=Mi.prototype.Sa;var ik={markers:te,total:0};Mi.prototype.s=function(a,b,c){var d=this.g,e;return d.providesMarkers()&&(e=d.requestMarkers(a,b,!0,c)).length?{markers:e,total:e.length}:ik};Mi.prototype.requestMarkers=Mi.prototype.s;Mi.prototype.j=function(a,b,c){var d=this.g,e;return d.providesDomMarkers()&&(e=d.requestDomMarkers(a,b,!0,c)).length?{markers:e,total:e.length}:ik};Mi.prototype.requestDomMarkers=Mi.prototype.j;
var jk={tiles:te,total:0};Mi.prototype.c=function(a,b,c,d){var e;this.g.providesSpatials()?(e=this.f.c(a,b,c,d),c||(c=this.b,e=ui(),33<e-c.j&&(Oj(c.A),c.j=e),e=this.f.c(a,b,!0,d))):e=jk;return e};Mi.prototype.requestTiles=Mi.prototype.c;Mi.prototype.C=function(a,b,c,d){return this.f.C(a,b,c,d)};Mi.prototype.requestTile=Mi.prototype.C;Mi.prototype.l=function(a,b,c){this.f.l(a,b,c)};Mi.prototype.cancelTile=Mi.prototype.l;var kk={overlays:te,total:0};
Mi.prototype.B=function(a,b,c){var d=this.g,e=kk;d.providesOverlays&&d.providesOverlays()&&(a=d.requestOverlays(a,b,!0,c),b=a.length)&&(e={overlays:a,total:b});return e};Mi.prototype.requestOverlays=Mi.prototype.B;Mi.prototype.F=function(){this.b.K();this.f.K();this.g.dispose();Mi.v.F.call(this)};function lk(a,b){q(a)&&(this.i=a);Wa(b)&&(this.a=b)}u("H.util.Request",lk);lk.State={PENDING:0,PROCESSING:1,COMPLETE:2,CANCELLED:3,ERROR:4};var mk={Pf:0,le:1,je:2,ni:3,ERROR:4},nk=[0,1,2,3,4];lk.prototype.J=0;lk.prototype.getState=function(){return this.J};lk.prototype.getState=lk.prototype.getState;lk.prototype.L=function(a){if(0>nk.indexOf(a))throw new D(this.L,0,a);if(this.J!==a||1===a&&1<this.a)this.J=a,this.i&&this.i(this)};lk.prototype.a=1;lk.prototype.o=function(){return this.a};
lk.prototype.getTotal=lk.prototype.o;lk.prototype.b=0;lk.prototype.s=function(){return this.b};lk.prototype.getProcessed=lk.prototype.s;lk.prototype.g=0;lk.prototype.j=function(){return this.g};lk.prototype.getFailed=lk.prototype.j;function ok(a,b){a.b<a.a&&(b===B&&(b=mk.je),b===mk.Pf||b===mk.le||a.J!==mk.Pf&&a.J!==mk.le||(a.b++,b!==mk.je&&a.g++,a.L(a.b<a.a?mk.le:mk.je)))}lk.prototype.cancel=function(){if(3!==this.J){for(var a=this.l,b=a.length;b--;)a[b].cancel();this.l=z;this.L(3)}};
lk.prototype.cancel=lk.prototype.cancel;function pk(a,b,c,d,e,f){var g;for(g=[];d<=e;d++)g=g.concat(Lg(a,c,d));a=g.length;lk.call(this,f,a);this.l=c=[];this.f=A(this.f,this);this.c=A(this.c,this);for(this.L(1);a--;)f=g[a],c.push(wg(b,f[0],f[1],f[2],this.f,this.c))}w(pk,lk);pk.prototype.f=function(){ok(this,2)};pk.prototype.c=function(){ok(this,4)};function R(a,b,c){R.v.constructor.call(this);this.$=A(R.prototype.$,this);this.l=qk(c,R);this.c=c=new zi;this.G=!1;c.addEventListener(c.c.Mc,this.lb,!1,this);if(!C(a,Element))throw new D(R,0,a);c=this.b=a.ownerDocument.createElement("div");var d=c.style;d.position="relative";d.height=c.style.width="100%";d.overflow="hidden";d.webkitTapHighlightColor="transparent";"transparent"!==d.webkitTapHighlightColor&&(d.webkitTapHighlightColor="rgba(0,0,0,0)");a.appendChild(c);this.ta=new vi(this.b,this.l);this.ta.addEventListener(this.ta.a.Mc,
this.lb,!1,this);a=this.ea=new Lj(this.l.layers);a.addEventListener(a.a.pd,this.xa,!1,this);a.addEventListener(a.a.Jc,this.xa,!1,this);a.addEventListener(a.a.Lc,this.xa,!1,this);this.C=new J;this.da=new Mi(this.C,this.l);this.pe(this.da);this.i=null;this.ea.add(b,0);this.f=this.N(this.l.engineType||rk.P2D,this.l);b=this.l.center||new Xb(0,0);a=+this.l.zoom||0;c=this.l.bounds;this.D=A(this.D,this);this.S=A(this.S,this);C(c,F)?this.Ka(c):(this.Ca(b),this.na(a));b=this.l.imprint;if(b!==B&&"object"!==
typeof b)throw new D(R,1,"imprint");this.j=null===b?b:new Ph(this,b);b=this.l.autoColor;this.I=b===B||!!b;sk(this)}w(R,G);u("H.Map",R);function qk(a,b){var c;if(a)if(c=a.pixelRatio,c===B)a.pixelRatio=1;else{if(!(0<c))throw new D(b,0,"pixelRatio: "+c);}else a={pixelRatio:1};a.renderBaseBackground||(a.renderBaseBackground={lower:3,higher:2});return a}
R.prototype.F=function(){this.I=!1;this.j&&this.j.K();this.da.K();this.C.K();this.ea.K();this.c.K();this.ta.K();this.f.K();we(this.b);this.b=null;G.prototype.F.call(this)};R.prototype.$b=function(){return this.b};R.prototype.getElement=R.prototype.$b;R.prototype.B=function(){return this.l.pixelRatio};R.prototype.getPixelRatio=R.prototype.B;function sk(a){a.j&&a.I&&a.j.g({invert:a.i.th})}
R.prototype.xa=function(a){var b=a.added,c=a.removed;b&&q(b.Sa)&&b.Sa().ha(this);c&&q(c.Sa)&&c.Sa().ha(null);0===a.idx&&(this.dispatchEvent(new De(this.A.bh,this.i=a.type!==this.ea.a.Lc?b:0<this.ea.Y.length?this.ea.get(0):z,a.type!==this.ea.a.Jc?c:1<this.ea.Y.length?this.ea.get(1):z)),sk(this))};R.prototype.lb=function(a){a.modifiers&&(this.G||(tk(this,"start"),this.G=!0),tk(this,"",a));this.G&&(this.ab&&x.clearTimeout(this.ab),this.ab=x.setTimeout(this.S,333))};
function tk(a,b,c){a.dispatchEvent(c?new Nh(a.A.Lf,c.newValue,c.oldValue,c.modifiers):a.A.Lf+b)}R.prototype.S=function(){tk(this,"end");this.G=!1};R.prototype.Ca=function(a,b){this.c.Eb({animate:!!b,position:a});return this};R.prototype.setCenter=R.prototype.Ca;R.prototype.Ra=function(){var a=this.c.wb();return a?Zb(a.position):z};R.prototype.getCenter=R.prototype.Ra;R.prototype.na=function(a,b){this.c.l(a,!!b);return this};R.prototype.setZoom=R.prototype.na;R.prototype.getZoom=function(){return this.c.getZoom()};
R.prototype.getZoom=R.prototype.getZoom;R.prototype.nd=function(a,b,c){this.f.nd(a,b,c)};R.prototype.zoomAt=R.prototype.nd;R.prototype.Ka=function(a,b){if(!C(a,F))throw new D(this.Ka,0,a);var c=this.f.S(a,!1);c.zoom=jb(c.zoom);c.animate=b;this.c.Eb(c);return this};R.prototype.setViewBounds=R.prototype.Ka;R.prototype.ba=function(){return this.f.o(4,0)};R.prototype.getViewBounds=R.prototype.ba;R.prototype.W=function(a){if(!C(a,F))throw new D(this.W,0,a);return this.f.S(a,!0)};
R.prototype.getCameraDataForBounds=R.prototype.W;R.prototype.Pb=function(){return this.ta};R.prototype.getViewPort=R.prototype.Pb;R.prototype.Ob=function(){return this.c};R.prototype.getViewModel=R.prototype.Ob;R.prototype.Lb=function(){return this.ea};R.prototype.getLayers=R.prototype.Lb;R.prototype.vb=function(){return this.j};R.prototype.getImprint=R.prototype.vb;
R.prototype.ua=function(a,b,c,d,e,f){function g(a,b){K?a.cancel():(m.save(),b.capture(n,t,function(b){m.restore();a.done(b)},function(b){a.done(null,b);h(null)}))}function h(b){K||(K=!0,a(b))}var k=this.g(),l=k.na(),n,m,r=this.j,t=this.l.pixelRatio,v;b=b||[];var y=this.ta,K=!1,V,ga;if(!q(a))throw new D(this.ua,0,a);c=c||0;d=d||0;e=e||y.width;f=f||y.height;V=hb(0,gb(c,e));ga=hb(0,gb(d,f));c=gb(y.width,hb(c,e));d=gb(y.height,hb(d,f));l.capture?(n=k.ua(V,ga,c,d),m=n.getContext("2d"),n.style.width=n.width/
t+"px",n.style.height=n.height/t+"px",v=new Rj(10,g),b=b.concat(r).filter(function(a){return q(a&&a.capture)}),b.length?(k=b.pop(),b.forEach(function(a){v.push(a,ic)}),v.push(k,A(h,this,n)),Oj(v)):h(n)):a(null)};R.prototype.capture=R.prototype.ua;R.prototype.g=function(){return this.o||this.f};R.prototype.getEngine=R.prototype.g;R.prototype.P=function(a){this.f.type===a||this.Da||(this.Da=!0,this.o=this.N(a),this.o.addEventListener("render",this.D));return this};R.prototype.setEngineType=R.prototype.P;
R.prototype.D=function(a){a.target===this.o&&(this.o.removeEventListener("render",this.D),this.o.enter(),this.f.Pa(this.$))};R.prototype.$=function(){var a=this.f.type;this.f.K();this.f=this.o;this.o=B;this.Da=!1;this.dispatchEvent(new De(this.A.ih,this.f.type,a))};
R.prototype.N=function(a,b){var c=b?qk(b,this.N):this.l;if(a===rk.PANORAMA)return this.j&&this.I&&this.j.g({invert:!0}),new x.H.map.render.panorama.RenderEngine(this.ta,this.c,this.ea,c);if(a===rk.P2D)return sk(this),new P(this.ta,this.c,this.ea,c);throw new D(this.P,0,a);};
R.prototype.M=function(a,b,c,d,e){var f;b=b!==B?C(b,F,this.M,1,b)&&b:this.ba();c=c!==B?+c:this.getZoom();d=d!==B?+d:this.getZoom();if(!(c<=d))throw new D(this.M,B,"!(min <= max)");e=e||this.i;if(!C(e,Gg))throw new D(this.M,4);if(!(f=e.Sa())||!C(f,N)||!f.Pc())throw new ac(this.constructor,"Storing is not supported");return new pk(e,f,b,c,d,a)};R.prototype.storeContent=R.prototype.M;function uk(a){lk.call(this,a)}w(uk,lk);uk.prototype.f=function(){ok(this,2)};uk.prototype.c=function(){ok(this,4)};
R.prototype.eb=function(a){a=new uk(a);lc().clear(A(a.f,a),A(a.c,a));return a};R.prototype.clearContent=R.prototype.eb;R.prototype.pe=function(a,b){-1===this.ea.indexOf(a)&&this.ea.add(a,E(b)?this.ea.Y.length-1:b);return this};R.prototype.addLayer=R.prototype.pe;R.prototype.of=function(a){var b=this.ea.indexOf(a);a!==this.i&&a!==this.da&&-1!==b&&this.ea.b(b);return this};R.prototype.removeLayer=R.prototype.of;R.prototype.Tb=function(a){this.i!==a&&(this.ea.set(0,a),this.i=a);return this};
R.prototype.setBaseLayer=R.prototype.Tb;R.prototype.ub=function(){return this.i};R.prototype.getBaseLayer=R.prototype.ub;R.prototype.s=function(a){if(!Yb(a))throw new D(this.s,0,a);return(a=this.f.ab(a))?Ag(a):z};R.prototype.geoToScreen=R.prototype.s;R.prototype.Ia=function(a,b){var c;if(c=+E(a)||2*E(b))throw new D(this.Ia,c-1,arguments[c-1]);return(c=this.f.Ia(a,b))?Zb(c):z};R.prototype.screenToGeo=R.prototype.Ia;R.prototype.Pa=function(a,b){return this.f.lb(a,b)};
R.prototype.screenToCameraData=R.prototype.Pa;R.prototype.U=function(a){if(!C(a,I))throw new D(this.U,0,a);this.C.b.U(a);return a};R.prototype.addObject=R.prototype.U;R.prototype.a=function(a){if(!C(a,I))throw new D(this.a,0,a);this.C.b.a(a);return a};R.prototype.removeObject=R.prototype.a;R.prototype.xc=function(){return this.C.b.u(!0)};R.prototype.getObjects=R.prototype.xc;R.prototype.Ja=function(a){var b,c;if(!oa(a))throw new D(this.Ja,0,a);b=a.length;for(c=0;c<b;c++)this.U(a[c]);return this};
R.prototype.addObjects=R.prototype.Ja;R.prototype.Oa=function(a){if(!C(a,Q)&&!oa(a))throw new D(this.Oa,0,a);a.forEach(this.a,this);return this};R.prototype.removeObjects=R.prototype.Oa;R.prototype.u=function(a,b){var c;if(c=+E(a)||2*E(b))throw new D(this.u,c-1,arguments[c-1]);return this.f.Ma(a,b,!0)[0]||z};R.prototype.getObjectAt=R.prototype.u;R.prototype.Ma=function(a,b){var c;if(c=+E(a)||2*E(b))throw new D(this.u,c-1,arguments[c-1]);return this.f.Ma(a,b,!1)};R.prototype.getObjectsAt=R.prototype.Ma;
var Vh=1,rk={P2D:0,PANORAMA:Vh};R.EngineType=rk;R.prototype.A={ti:"mapviewchangestart",Lf:"mapviewchange",Mf:"mapviewchangeend",bh:"baselayerchange",ih:"enginechange"};function Fj(a,b,c){this.c=A(this.c,this);I.call(this,c);this.j(a);this.o(b,c&&c.crossOrigin);this.g(c&&"opacity"in c?c.opacity:1)}w(Fj,I);u("H.map.Overlay",Fj);Fj.prototype.type=Fe.OVERLAY;Fj.prototype.R=function(){return this.a};Fj.prototype.getBounds=Fj.prototype.R;Fj.prototype.j=function(a){var b=this.a,c=!b;C(a,F,Fj,0,a);if(c||!b.ma(a))this.a=a,c||this.va(Ce.SPATIAL);return this};Fj.prototype.setBounds=Fj.prototype.j;Fj.prototype.Kb=function(){return this.b.getData()};
Fj.prototype.getBitmap=Fj.prototype.Kb;Fj.prototype.o=function(a,b){var c=this.b;c&&1!==c.getState()&&c.cancel();this.b=new Ch(a,this.c,!0,B,b);return this};Fj.prototype.setBitmap=Fj.prototype.o;Fj.prototype.c=function(a,b){this.b=b;1===a&&this.va(Ce.VISUAL)};Fj.prototype.yd=function(){return this.s};Fj.prototype.getOpacity=Fj.prototype.yd;Fj.prototype.g=function(a){var b=this.s,c=2>b;a-=0;if(0<=a&&1>=a)a!==b&&(this.s=a,c&&this.va(Ce.VISUAL));else throw new D(this.g,0);return this};
Fj.prototype.setOpacity=Fj.prototype.g;function vk(){return Ug("mapsjs-core","0.14.0","51bb44f")}u("H.buildInfo",vk);u("H.getScriptPath",function(){var a;a=x.H.scriptPath;a!==B||(a=wk);if(!a)throw Error("Cant't detect script path: H.scriptPath is missing");return a});var wk,xk=x.document.currentScript,yk;xk||(xk=x.document.querySelector('script[src*="H-"]'),xk||(yk=x.document.getElementsByTagName("script"),xk=yk[yk.length-1]));wk=xk?xk.src.replace(/\/[^\/]*$/,"/"):"";

this["maps" + "js"] = H;}());
H.__bootstrap__="var m,q=this;function aa(a,b,c){a=a.split(\".\");c=c||q;a[0]in c||!c.execScript||c.execScript(\"var \"+a[0]);for(var d;a.length&&(d=a.shift());)a.length||void 0===b?c[d]?c=c[d]:c=c[d]={}:c[d]=b}function ba(){}function ca(){throw Error(\"unimplemented abstract method\");}\nfunction fa(a){var b=typeof a;if(\"object\"==b)if(a){if(a instanceof Array)return\"array\";if(a instanceof Object)return b;var c=Object.prototype.toString.call(a);if(\"[object Window]\"==c)return\"object\";if(\"[object Array]\"==c||\"number\"==typeof a.length&&\"undefined\"!=typeof a.splice&&\"undefined\"!=typeof a.propertyIsEnumerable&&!a.propertyIsEnumerable(\"splice\"))return\"array\";if(\"[object Function]\"==c||\"undefined\"!=typeof a.call&&\"undefined\"!=typeof a.propertyIsEnumerable&&!a.propertyIsEnumerable(\"call\"))return\"function\"}else return\"null\";\nelse if(\"function\"==b&&\"undefined\"==typeof a.call)return\"object\";return b}function ga(a){return\"string\"==typeof a}function t(a){return\"function\"==fa(a)}function ja(a){var b=typeof a;return\"object\"==b&&null!=a||\"function\"==b}var ka=\"closure_uid_\"+(1E9*Math.random()>>>0),la=0;function na(a,b,c){return a.call.apply(a.bind,arguments)}\nfunction oa(a,b,c){if(!a)throw Error();if(2<arguments.length){var d=Array.prototype.slice.call(arguments,2);return function(){var c=Array.prototype.slice.call(arguments);Array.prototype.unshift.apply(c,d);return a.apply(b,c)}}return function(){return a.apply(b,arguments)}}function pa(a,b,c){pa=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf(\"native code\")?na:oa;return pa.apply(null,arguments)}\nfunction qa(a,b){var c=Array.prototype.slice.call(arguments,1);return function(){var b=c.slice();b.push.apply(b,arguments);return a.apply(this,b)}}function v(a,b){aa(a,b,void 0)}function ra(a,b){function c(){}c.prototype=b.prototype;a.W=b.prototype;a.prototype=new c;a.prototype.constructor=a;a.Za=function(a,c,f){for(var g=Array(arguments.length-2),h=2;h<arguments.length;h++)g[h-2]=arguments[h];return b.prototype[c].apply(a,g)}};function x(){}v(\"H.util.ICache\",x);x.prototype.add=function(){};x.prototype.add=x.prototype.add;x.prototype.get=function(){};x.prototype.get=x.prototype.get;x.prototype.j=function(){};x.prototype.drop=x.prototype.j;x.prototype.forEach=function(){};x.prototype.forEach=x.prototype.forEach;x.prototype.i=function(){};x.prototype.removeAll=x.prototype.i;x.prototype.g=function(){};x.prototype.registerOnDrop=x.prototype.g;var sa=\"constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf\".split(\" \");function ta(a,b){for(var c,d,e=1;e<arguments.length;e++){d=arguments[e];for(c in d)a[c]=d[c];for(var f=0;f<sa.length;f++)c=sa[f],Object.prototype.hasOwnProperty.call(d,c)&&(a[c]=d[c])}};var z=function(){return this}();function ua(a){if(Error.captureStackTrace)Error.captureStackTrace(this,ua);else{var b=Error().stack;b&&(this.stack=b)}a&&(this.message=String(a))}ra(ua,Error);ua.prototype.name=\"CustomError\";var va=String.prototype.trim?function(a){return a.trim()}:function(a){return a.replace(/^[\\s\\xa0]+|[\\s\\xa0]+$/g,\"\")};function wa(a,b){return a<b?-1:a>b?1:0};var xa=Array.prototype,ya=xa.indexOf?function(a,b,c){return xa.indexOf.call(a,b,c)}:function(a,b,c){c=null==c?0:0>c?Math.max(0,a.length+c):c;if(ga(a))return ga(b)&&1==b.length?a.indexOf(b,c):-1;for(;c<a.length;c++)if(c in a&&a[c]===b)return c;return-1};var za=pa,Aa=String;function Ba(a){return eval(\"\"+a)}var Ca=z.Object.freeze||function(a){return a};function Da(a){var b={},c;for(c in a)b[c]=a[c];return b}var A=Ba(),Ea=Ba(null);function Fa(a){return Aa(a).split(\",\"!==A?\",\":\" \")}var Ga=\"prototype constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf\".split(\" \");function Ha(a,b,c,d){if(!(b=a instanceof b)&&c)throw new B(c,d,void 0!==A?void 0:a);return b}v(\"H.lang.isObject\",ja);\nfunction Ia(a){for(var b in a)return!1;return!0}v(\"H.lang.isEmptyObject\",Ia);function Ja(a,b,c,d){var e;if(!(e=\"Array\"===Ka(a))&&b)throw new B(b,c,d!==A?d:a);return e}v(\"H.lang.isArray\",function(a,b,c,d){return Ja(a,b,c,d)});v(\"H.lang.isString\",ga);var La=isNaN;function Ma(a){return a===+a}v(\"H.lang.isNumber\",Ma);function Ka(a){var b=Object[Ga[0]][Ga[6]].call(a).match(/^\\[object (\\w+)\\]$/);return b?b[1]:typeof a}\nfunction Na(a,b,c,d){var e=\"\",f=2>arguments.length;f&&(b={H:z.H},c=\"\",d=[]);Oa(b,!0,function(b,f){try{var k=b[f];f=Pa(b,k);var l;if(l=!(ja(k)&&k.window===k&&k.self===k))l=!(ja(k)&&0<k.nodeType&&t(k.cloneNode));if(l&&ja(k)){if(k===a)return e=c+\".\"+f,!0;if(0>d.indexOf(k)&&(d.push(k),e=Na(a,k,c+\".\"+f,d)))return!0}}catch(n){}});f&&(e=e?e.substr(1).replace(\".\"+Ga[0]+\".\",\"#\"):\"~\"+(t(a)?Qa(a)+\"()\":Ka(a)));return e}\nfunction Pa(a,b){var c=[];Oa(a,!1,function(a,e){a[e]===b&&c.push(e)});return c.sort(Ra)[0]}function Ra(a,b){return b.length-a.length}var Sa=Object[Ga[0]][Ga[2]];function Oa(a,b,c){var d,e;if(a){for(d in a)if((!b||Sa.call(a,d))&&c(a,d,!0))return;for(e=Ga.length;e--&&(d=Ga[e],b&&!Sa.call(a,d)||!c(a,d,!1)););}}function Qa(a){return(a=/^\\s*function ([^\\( ]+)/.exec(a))?a[1]:\"anonymous\"}function Ta(a,b,c){c[b]=\"#\"+b}({}).toString.call(void 0);function C(a,b,c){b&&this.g(b);if(c&&!t(c))throw new B(C,2,c);this.b=0;this.filter=c;this.a={};this.f=this.c=null;this.l(a)}v(\"H.util.Cache\",C);C.prototype.add=function(a,b,c){var d,e;c=+c;if(!Ma(c)||0>c)throw new B(this.add,2,c);a=String(a);d=this.a[a];e=!0;this.filter&&(e=this.filter(a,b,c));d?e?(this.b+=c-d.size,d.size=c,d.data=b,Ua(this,d)):Va(this,d,!0):e&&(this.a[a]=Wa(this,{id:a,data:b,size:c,F:null,K:null},this.c));Xa(this);return e};C.prototype.add=C.prototype.add;\nC.prototype.g=function(a){if(!t(a))throw new B(this.g,0,a);this.v=a};C.prototype.registerOnDrop=C.prototype.g;C.prototype.get=function(a,b){var c=b?this.a[a]:Ua(this,this.a[a]);return c&&c.data};C.prototype.get=C.prototype.get;C.prototype.j=function(a){var b;(b=this.a[a])&&Va(this,b,!0)};C.prototype.drop=C.prototype.j;C.prototype.forEach=function(a,b,c){var d,e;for(e in this.a)d=this.a[e],(c?c(e,d.data,d.size):1)&&a.call(b,e,d.data,d.size)};C.prototype.forEach=C.prototype.forEach;\nC.prototype.i=function(a){var b,c;for(c in this.a)b=this.a[c],(a?a(c,b.data,b.size):1)&&Va(this,this.a[c],!0)};C.prototype.removeAll=C.prototype.i;C.prototype.l=function(a){if(!(0<+a))throw new B(C.prototype.l,0,a);this.o=+a;Xa(this);return this};C.prototype.setMaxSize=C.prototype.l;C.prototype.C=function(){return this.o};C.prototype.getMaxSize=C.prototype.C;C.prototype.B=function(){return this.b};C.prototype.getCurrentSize=C.prototype.B;function Ua(a,b){b&&(a.c=Wa(a,b,a.c));return b}\nfunction Xa(a){for(;a.b>a.o&&a.f;)Va(a,a.f,!0)}function Wa(a,b,c){if(c!==b){(b.F||b.K)&&Va(a,b);if(b.F=c)b.K=c.K,c.K=b;b.K||(a.c=b);b.F||(a.f=b);a.b+=b.size}return b}function Va(a,b,c){var d=b.K,e=b.F;if(d||e||b==a.c&&b==a.f)d?d.F=e:a.c=e,e?e.K=d:a.f=d,a.b-=b.size,c&&(a.v&&a.v(b.id,b.data,b.size),delete a.a[b.id]);b.F=b.K=null};function Ya(){}v(\"H.service.extension.dataView.ITable\",Ya);Ya.prototype.getMeta=Ya.prototype.Aa;Ya.prototype.getRowCount=Ya.prototype.i;Ya.prototype.getRow=Ya.prototype.c;Ya.prototype.getColumnNames=Ya.prototype.f;Ya.prototype.getColumn=Ya.prototype.g;Ya.prototype.getCell=Ya.prototype.b;Ya.prototype.concat=Ya.prototype.a;function Za(){}v(\"H.service.extension.dataView.IRow\",Za);Za.prototype.getColumnNames=Za.prototype.b;Za.prototype.getCell=Za.prototype.a;function $a(a,b){this.c=a;this.f=b}v(\"H.service.extension.dataView.ObjRow\",$a);$a.prototype.b=function(){return this.c.f()};$a.prototype.getColumnNames=$a.prototype.b;$a.prototype.a=function(a){return this.c.b(this.f,a)};$a.prototype.getCell=$a.prototype.a;function ab(){}v(\"H.service.extension.dataView.IColumn\",ab);ab.prototype.getCell=ab.prototype.a;function bb(a,b){this.c=a;this.b=b}v(\"H.service.extension.dataView.ObjColumn\",bb);bb.prototype.a=function(a){return this.c.b(a,this.b)};bb.prototype.getCell=bb.prototype.a;function B(a,b,c){var d=arguments.length,e;b=1<d?+b:b;d=2<d?Aa(c):\"\";b!==A&&(e=(e=/^.*?\\(([^\\)]+)/.exec((\"\"+a).replace(/(\\/\\*([\\s\\S]*?)\\*\\/)|(\\/\\/(.*)$)/gm,\"\")))?Fa(e[1].replace(/\\s+/g,\"\")):[],e.forEach(Ta),e=e[b]||\"#\"+b);this.message=(a?Na(a):\"\")+(e||d?\" (\":\"\")+(e?\"Argument \"+e:\"\")+(d?(e?\" \":\"\")+d:\"\")+(e||d?\")\":\"\");this.stack=Error().stack}v(\"H.lang.InvalidArgumentError\",B);B.prototype=Error();B.prototype.name=\"InvalidArgumentError\";function D(a,b,c){var d;if(a&&a.length)for(this.I=a,this.S=a=b||Object.keys(this.I[0]),this.qa=b=Object.create(Ea,void 0),d=a.length;d--;)b[a[d]]=!0;c!==A&&(this.ta=c)}v(\"H.service.extension.dataView.ObjTable\",D);m=D.prototype;m.ta=A;m.I=A;m.S=A;m.qa=A;m.Aa=function(){return this.ta};D.prototype.getMeta=D.prototype.Aa;D.prototype.i=function(){return this.I?this.I.length:0};D.prototype.getRowCount=D.prototype.i;D.prototype.c=function(a){var b=this.I;return b&&b[a]?new $a(this,a):A};\nD.prototype.getRow=D.prototype.c;D.prototype.f=function(){return this.S||cb};D.prototype.getColumnNames=D.prototype.f;D.prototype.g=function(a){return this.qa[a]?new bb(this,a):A};D.prototype.getColumn=D.prototype.g;D.prototype.b=function(a,b){var c=this.I;return(c=c&&this.qa[b]&&c[a])&&c[b]};D.prototype.getCell=D.prototype.b;\nD.prototype.a=function(){var a=arguments.length,b,c=this.S,d=\"\"+this.S,e=(this.I||[]).slice(),f;for(b=0;b<a;b++){f=arguments[b];if(!(f instanceof D))throw new B(this.a,b);if(f.I){if(c&&\"\"+f.S!==d)throw new B(this.a,b,\"Incompatible columns!\");e=e.concat(f.I)}}return new D(e,this.S,this.ta)};D.prototype.concat=D.prototype.a;function G(a,b){this.x=+a;this.y=+b}v(\"H.math.Point\",G);G.prototype.set=G;G.prototype.set=G.prototype.set;G.prototype.clone=function(a){a?(a.x=this.x,a.y=this.y):a=new G(this.x,this.y);return a};G.prototype.clone=G.prototype.clone;G.prototype.add=function(a){this.x+=a.x;this.y+=a.y;return this};G.prototype.add=G.prototype.add;G.prototype.f=function(a){this.x-=a.x;this.y-=a.y;return this};G.prototype.sub=G.prototype.f;G.prototype.c=function(a,b){this.x*=a;this.y*=void 0===b?a:b;return this};\nG.prototype.scale=G.prototype.c;G.prototype.round=function(){this.x=db(this.x);this.y=db(this.y);return this};G.prototype.round=G.prototype.round;G.prototype.floor=function(){this.x=eb(this.x);this.y=eb(this.y);return this};G.prototype.floor=G.prototype.floor;G.prototype.ceil=function(){this.x=fb(this.x);this.y=fb(this.y);return this};G.prototype.ceil=G.prototype.ceil;G.prototype.Ca=function(a){return!(!a||this.x!==a.x||this.y!==a.y)};G.prototype.equals=G.prototype.Ca;\nG.prototype.a=function(a,b){var c=b.x-a.x,d=b.y-a.y,e,f=a;if(c||d)e=((this.x-a.x)*c+(this.y-a.y)*d)/(c*c+d*d),0>=e?f=a:1<=e?f=b:f=new G(a.x+e*c,a.y+e*d);return f};G.prototype.getNearest=G.prototype.a;G.prototype.b=function(a){return gb(hb(this.x-a.x,2)+hb(this.y-a.y,2))};G.prototype.distance=G.prototype.b;function ib(a){if(!a)throw new B(ib,0,a);return Ha(a,G)?a:new G(a.x,a.y)}G.fromIPoint=ib;function jb(a,b,c,d,e,f){var g,h,k=a.length,l,n,r,w,K,Q,R;if(k)for(g=[];k--;)for(Q=a[k],w=Q.length,K=0,l=1;l<w;l++){if(R=kb(Q[l-1],Q[l],c,b,d,e))n=R[0],r=R[1],K&&K.Ca(n)?h.push(r):g.push(h=R),K=r,f&&(l=w,k=0)}else g=a;return g}\nfunction kb(a,b,c,d,e,f){var g=a.x;a=-a.y;var h=b.x;b=-b.y;var k,l,n;c=-c;f=-f;if(g>h){if(h>e||g<d)return;l=g;n=a;g=h;a=b;h=l;b=n;l=1}else if(g>e||h<d)return;if(a>b){if(b>c||a<f)return;k=1;a=-a;b=-b;n=f;f=-c;c=-n}else if(a>c||b<f)return;if(g<d){if((a+=(d-g)*(b-a)/(h-g))>c)return;g=d}if(a<f){if((g+=(f-a)*(h-g)/(b-a))>e)return;a=f}h>e&&(b=a+(e-g)*(b-a)/(h-g),h=e);b>c&&(h=g+(c-a)*(h-g)/(b-a),b=c);k&&(a=-a,b=-b);return l?[new G(h,-b),new G(g,-a)]:[new G(g,-a),new G(h,-b)]}\nfunction lb(a,b,c,d,e,f,g,h,k,l){a={x:a,y:b,next:c||null,D:d||null,Da:e||null,ua:f||null,J:g||0,ra:h||0,na:k||0,alpha:l||0};d&&(a.D.next=a);c&&(a.next.D=a);return a}function mb(a){for(;a&&a.J;)a=a.next;return a}function nb(a){if(a)for(;a.next;)a=a.next;return a}function ob(a){var b=a;if(b){do b=b.next;while(b!=a&&(!b.J||b.J&&b.na))}return b}function pb(a){var b=nb(a);b.D.next=a;a.D=b.D}\nfunction qb(a,b,c,d,e,f){var g,h,k,l=b.x-a.x,n=b.y-a.y;g=d.x-c.x;var r=d.y-c.y;h=l*r-n*g;if(!h)return 0;g=((c.x-a.x)*r-(c.y-a.y)*g)/h;h=(n*(c.x-a.x)-l*(c.y-a.y))/h;if(0>g||1<g||0>h||1<h)return 0;0===g?k=a:1===g?k=b:0===h?k=c:1===h&&(k=d);if(k&&!f)return k.x+=2.480549651603763E-5,k.y+=7.321997314118067E-5,k.ia&&(k.ia.x=k.x,k.ia.y=k.y),qb(a,b,c,d,e);e.Ua=a.x+g*l;e.Va=a.y+g*n;e.Ka=g;e.wa=h;return 1}\nfunction rb(a,b,c){var d,e=0,f={},g,h,k,l,n,r;c=c||a.y;d=lb(-123123123,c);Array.isArray(b)?(k=0,g=b[k],l=function(){return b[++k]}):(n=g=b,l=function(){return n=n.next});for(;r=l();){h=qb(d,a,g,r,f,!0);g=f.wa;if(0===g||1===g)return rb(a,b,c+7.321997314118067E-5);h&&e++;g=r}return e%2}function sb(a,b,c){for(b=b.next;b!==c&&b.alpha<=a.alpha;)b=b.next;a.next=b;a.D=b.D;a.next.D=a;a.D.next=a}function tb(a){for(var b,c=null,d=0,e=a.length;d<e;d++){b=lb(a[d].x,a[d].y,c);if(b.next=c)c.D=b;c=b}return c};function ub(a,b){var c=[];a&&c.push(Na(a));1<arguments.length&&c.push(b);this.message=c.join(\" \");this.stack=Error().stack}ra(ub,Error);v(\"H.lang.IllegalOperationError\",ub);ub.prototype=Error();ub.prototype.name=\"IllegalOperationError\";function vb(a){if(!ga(a))throw new B(this.constructor,0);this.i=z.indexedDB||z.webkitIndexedDB||z.mozIndexedDB||z.msIndexedDB;if(!this.i)throw new ub(this.constructor,\"This browser does not support IndexedDB\");this.o=a;this.a=[];this.c=[];this.g=za(this.g,this)}var wb,xb;v(\"H.util.IndexedDBStorage\",vb);\nvb.prototype.get=function(a,b,c){var d;if(!yb(a))throw new B(this.get,0);if(!t(b))throw new B(this.get,1);zb(this,function(e){d=e.get(a);Ab(d,b,c)},c);return{cancel:function(){d&&(d.onsuccess=Bb)}}};vb.prototype.remove=function(a,b,c){if(!yb(a))throw new B(this.remove,0);zb(this,function(d){Ab(d[\"delete\"](a),b,c)},c)};vb.prototype.l=z.IDBTransaction&&z.IDBTransaction.READ_WRITE||\"readwrite\";vb.prototype.g=function(){var a=this.b.result;a.objectStoreNames.contains(\"data\")||a.createObjectStore(\"data\")};\nfunction Cb(a,b,c){var d;a.b?a.a?(a.a.push(b),c&&a.c.push(c)):a.f?c&&c(a.f):b(a.b.result):(a.b=a.i.open(Db+a.o,1),a.b.onupgradeneeded=a.g,d=a.b.onerror=function(){clearTimeout(a.j);a.f=this.error;a.c.forEach(function(b){b(a.f)});a.a=a.c=null},a.j=setTimeout(function(){d.call({error:Error(\"DbOpenTimeoutError\")})},500),a.b.onsuccess=function(){clearTimeout(a.j);a.a?(a.a.forEach(function(a){a(this.result)},this),a.a=a.c=null):(a.b=a.f=null,a.a=[],a.c=[])},a.a.push(b),c&&a.c.push(c))}\nfunction zb(a,b,c){Cb(a,function(c){c=c.transaction([\"data\"],a.l);b(c.objectStore(\"data\"))},c)}function Ab(a,b,c){b&&(a.onsuccess=function(){b(this.result)});c&&(a.onerror=function(){c(this.error)})}function yb(a){return ga(a)||Ma(a)}vb.getInstance=function(){wb||(wb=new vb(\"STATIC_DB\"));return wb};var Db=\"H_\";\nvb.isSupported=function(){var a,b,c;if(xb===A)if(\"file:\"===window.location.protocol&&-1<navigator.userAgent.toLowerCase().indexOf(\"firefox\")&&128<=window.location.href.length)xb=!1;else{a=z.indexedDB||z.webkitIndexedDB||z.mozIndexedDB||z.msIndexedDB;c=Db+\"TEST_DB\";try{b=a&&a.open(c,1)}catch(d){}xb=!!b&&null===b.onupgradeneeded;b&&a.deleteDatabase&&a.deleteDatabase(c)}return xb};function Eb(){0!=Fb&&(Gb[this[ka]||(this[ka]=++la)]=this);this.g=this.g;this.c=this.c}var Fb=0,Gb={};Eb.prototype.g=!1;Eb.prototype.T=function(){if(!this.g&&(this.g=!0,this.ja(),0!=Fb)){var a=this[ka]||(this[ka]=++la);delete Gb[a]}};Eb.prototype.f=function(a,b){this.g?a.call(b):(this.c||(this.c=[]),this.c.push(void 0!==b?pa(a,b):a))};Eb.prototype.ja=function(){if(this.c)for(;this.c.length;)this.c.shift()()};function I(a,b){this.type=a;this.currentTarget=this.target=b;this.a=!1;this.Ea=!0}I.prototype.c=function(){this.a=!0};I.prototype.f=function(){this.Ea=!1};v(\"H.util.Event\",I);I.prototype.c=I.prototype.c;I.prototype.stopPropagation=I.prototype.c;I.prototype.j=1;I.prototype.CAPTURING_PHASE=I.prototype.j;I.prototype.g=2;I.prototype.AT_TARGET=I.prototype.g;I.prototype.i=3;I.prototype.BUBBLING_PHASE=I.prototype.i;I.prototype.l=0;I.prototype.eventPhase=I.prototype.l;function Hb(a,b,c){Hb.W.constructor.call(this,a,c);this.data=b}ra(Hb,I);v(\"H.util.DataEvent\",Hb);function Ib(a,b,c){Ib.W.constructor.call(this,a,c);this.message=b}ra(Ib,I);v(\"H.util.ErrorEvent\",Ib);var J=Math,Jb=J.min,Kb=J.max,db=J.round,eb=J.floor,fb=J.ceil,Lb=J.abs,Mb=J.log,gb=J.sqrt,hb=J.pow,Nb=J.exp,Ob=J.sin,Pb=J.asin,Qb=J.cos,Rb=J.tan,Sb=J.atan,Tb=J.atan2,Ub=J.LN2,Vb=J.PI,Wb=Vb/2,Xb=Vb/4,Yb=2*Vb,Zb=3*Vb,$b=Vb/180,ac=180/Vb;hb(-2,53);function bc(a,b){var c;return 0>(c=a%b)===0>b?c:c+b}v(\"H.math.normalize\",function(a,b,c){b-=c=c||0;a-=c;return a-eb(a/b)*b+c});function cc(a,b,c){return(a-=0)>c?c:a<b?b:a}v(\"H.math.clamp\",cc);\nfunction dc(a,b,c){var d=0;(d-=0)||(d=0);return b<c?a>=b-d&&a<=c+d:a>=c-d&&a<=b+d}function ec(a,b,c,d,e,f){return gb(hb((a-e)*(d-f)-(b-f)*(c-e),2)/(hb(c-e,2)+hb(d-f,2)))}\nfunction fc(a,b,c){for(var d=c.length,e=d,f,g,h,k,l=c[0],n=0,r=0,w=0;1!=n&&1<e;){g=c[--e];f=c[--e];k=c[e?e-1:(d+(e-1))%d];h=c[e?e-2:(d+(e-2))%d];if(f>=a-0&&f<=a+0&&g>=b-0&&g<=b+0||h>=a-0&&h<=a+0&&k>=b-0&&k<=b+0)n=1;else if(!n&&f===a)h===a&&(g<b&&k>b||g>b&&k<b)||(l<=a&&h>a||l>=a&&h<a)&&(g>=b?++r:++w),n=dc(b,g,k)&&0>=ec(a,b,f,g,h,k)?2:0;else if(!n&&dc(a,f,h)){if(f<a&&h>a||f>a&&h<a)l=g+(a-f)/(h-f)*(k-g),r+=l>b,w+=l<b;n=dc(b,g,k)&&0>=ec(a,b,f,g,h,k)?2:0}l=f}!n&&0!==w&&0!==r%2&&(n=3);return n};function gc(a,b,c){this.f=c;this.c=a;this.g=b;this.b=0;this.a=null}gc.prototype.get=function(){var a;0<this.b?(this.b--,a=this.a,this.a=a.next,a.next=null):a=this.c();return a};function hc(a,b){a.g(b);a.b<a.f&&(a.b++,b.next=a.a,a.a=b)};function ic(){this.b=this.a=null}var kc=new gc(function(){return new jc},function(a){a.reset()},100);ic.prototype.add=function(a,b){var c=kc.get();c.set(a,b);this.b?this.b.next=c:this.a=c;this.b=c};ic.prototype.remove=function(){var a=null;this.a&&(a=this.a,this.a=this.a.next,this.a||(this.b=null),a.next=null);return a};function jc(){this.next=this.b=this.a=null}jc.prototype.set=function(a,b){this.a=a;this.b=b;this.next=null};jc.prototype.reset=function(){this.next=this.b=this.a=null};var lc;a:{var mc=q.navigator;if(mc){var nc=mc.userAgent;if(nc){lc=nc;break a}}lc=\"\"};function oc(){return-1!=lc.indexOf(\"Edge\")||-1!=lc.indexOf(\"Trident\")||-1!=lc.indexOf(\"MSIE\")};function pc(){return-1!=lc.indexOf(\"Edge\")};function qc(a){q.setTimeout(function(){throw a;},0)}var rc;\nfunction sc(){var a=q.MessageChannel;\"undefined\"===typeof a&&\"undefined\"!==typeof window&&window.postMessage&&window.addEventListener&&-1==lc.indexOf(\"Presto\")&&(a=function(){var a=document.createElement(\"IFRAME\");a.style.display=\"none\";a.src=\"\";document.documentElement.appendChild(a);var b=a.contentWindow,a=b.document;a.open();a.write(\"\");a.close();var c=\"callImmediate\"+Math.random(),d=\"file:\"==b.location.protocol?\"*\":b.location.protocol+\"//\"+b.location.host,a=pa(function(a){if((\"*\"==d||a.origin==\nd)&&a.data==c)this.port1.onmessage()},this);b.addEventListener(\"message\",a,!1);this.port1={};this.port2={postMessage:function(){b.postMessage(c,d)}}});if(\"undefined\"!==typeof a&&!oc()){var b=new a,c={},d=c;b.port1.onmessage=function(){if(void 0!==c.next){c=c.next;var a=c.xa;c.xa=null;a()}};return function(a){d.next={xa:a};d=d.next;b.port2.postMessage(0)}}return\"undefined\"!==typeof document&&\"onreadystatechange\"in document.createElement(\"SCRIPT\")?function(a){var b=document.createElement(\"SCRIPT\");\nb.onreadystatechange=function(){b.onreadystatechange=null;b.parentNode.removeChild(b);b=null;a();a=null};document.documentElement.appendChild(b)}:function(a){q.setTimeout(a,0)}};function tc(a,b){uc||vc();wc||(uc(),wc=!0);xc.add(a,b)}var uc;function vc(){if(q.Promise&&q.Promise.resolve){var a=q.Promise.resolve();uc=function(){a.then(yc)}}else uc=function(){var a=yc;!t(q.setImmediate)||q.Window&&q.Window.prototype&&q.Window.prototype.setImmediate==q.setImmediate?(rc||(rc=sc()),rc(a)):q.setImmediate(a)}}var wc=!1,xc=new ic;function yc(){for(var a=null;a=xc.remove();){try{a.a.call(a.b)}catch(b){qc(b)}hc(kc,a)}wc=!1};function zc(a,b){this.a=Ac;this.j=void 0;this.f=this.b=this.c=null;this.g=this.i=!1;if(a==Bc)Cc(this,Dc,b);else try{var c=this;a.call(b,function(a){Cc(c,Dc,a)},function(a){Cc(c,Ec,a)})}catch(d){Cc(this,Ec,d)}}var Ac=0,Dc=2,Ec=3;function Fc(){this.next=this.c=this.b=this.f=this.a=null;this.g=!1}Fc.prototype.reset=function(){this.c=this.b=this.f=this.a=null;this.g=!1};var Gc=new gc(function(){return new Fc},function(a){a.reset()},100);function Hc(a,b,c){var d=Gc.get();d.f=a;d.b=b;d.c=c;return d}\nfunction Bc(){}function Ic(a){return new zc(function(b,c){var d=a.length,e=[];if(d)for(var f=function(a,c){d--;e[a]=c;0==d&&b(e)},g=function(a){c(a)},h=0,k;k=a[h];h++)Jc(k,qa(f,h),g);else b(e)})}function Kc(){var a,b,c=new zc(function(c,e){a=c;b=e});return new Lc(c,a,b)}zc.prototype.then=function(a,b,c){return Mc(this,t(a)?a:null,t(b)?b:null,c)};zc.prototype.then=zc.prototype.then;zc.prototype.$goog_Thenable=!0;function Jc(a,b,c,d){a instanceof zc?Nc(a,Hc(b||ba,c||null,d)):a.then(b,c,d)}\nzc.prototype.cancel=function(a){this.a==Ac&&tc(function(){var b=new Oc(a);Pc(this,b)},this)};function Pc(a,b){if(a.a==Ac)if(a.c){var c=a.c;if(c.b){for(var d=0,e=null,f=null,g=c.b;g&&(g.g||(d++,g.a==a&&(e=g),!(e&&1<d)));g=g.next)e||(f=g);e&&(c.a==Ac&&1==d?Pc(c,b):(f?(d=f,d.next==c.f&&(c.f=d),d.next=d.next.next):Qc(c),Rc(c,e,Ec,b)))}a.c=null}else Cc(a,Ec,b)}function Nc(a,b){a.b||a.a!=Dc&&a.a!=Ec||Sc(a);a.f?a.f.next=b:a.b=b;a.f=b}\nfunction Mc(a,b,c,d){var e=Hc(null,null,null);e.a=new zc(function(a,g){e.f=b?function(c){try{var e=b.call(d,c);a(e)}catch(l){g(l)}}:a;e.b=c?function(b){try{var e=c.call(d,b);void 0===e&&b instanceof Oc?g(b):a(e)}catch(l){g(l)}}:g});e.a.c=a;Nc(a,e);return e.a}zc.prototype.l=function(a){this.a=Ac;Cc(this,Dc,a)};zc.prototype.o=function(a){this.a=Ac;Cc(this,Ec,a)};\nfunction Cc(a,b,c){if(a.a==Ac){if(a==c)b=Ec,c=new TypeError(\"Promise cannot resolve to itself\");else{var d;if(c)try{d=!!c.$goog_Thenable}catch(e){d=!1}else d=!1;if(d){a.a=1;Jc(c,a.l,a.o,a);return}if(ja(c))try{var f=c.then;if(t(f)){Tc(a,c,f);return}}catch(g){b=Ec,c=g}}a.j=c;a.a=b;a.c=null;Sc(a);b!=Ec||c instanceof Oc||Uc(a,c)}}function Tc(a,b,c){function d(b){f||(f=!0,a.o(b))}function e(b){f||(f=!0,a.l(b))}a.a=1;var f=!1;try{c.call(b,e,d)}catch(g){d(g)}}function Sc(a){a.i||(a.i=!0,tc(a.v,a))}\nfunction Qc(a){var b=null;a.b&&(b=a.b,a.b=b.next,b.next=null);a.b||(a.f=null);return b}zc.prototype.v=function(){for(var a=null;a=Qc(this);)Rc(this,a,this.a,this.j);this.i=!1};function Rc(a,b,c,d){if(c==Ec&&b.b&&!b.g)for(;a&&a.g;a=a.c)a.g=!1;if(b.a)b.a.c=null,Vc(b,c,d);else try{b.g?b.f.call(b.c):Vc(b,c,d)}catch(e){Wc.call(null,e)}hc(Gc,b)}function Vc(a,b,c){b==Dc?a.f.call(a.c,c):a.b&&a.b.call(a.c,c)}function Uc(a,b){a.g=!0;tc(function(){a.g&&Wc.call(null,b)})}var Wc=qc;\nfunction Oc(a){ua.call(this,a)}ra(Oc,ua);Oc.prototype.name=\"cancel\";function Lc(a,b,c){this.la=a;this.resolve=b;this.reject=c};function Xc(a,b,c){this.type=a;this.data=b;this.G=Kc();this.resolve=za(this.resolve,this);this.reject=za(this.reject,this);this.a=Yc;c!==A&&(this.a=c);this.za().add(this)}var Yc=1,Zc={Xa:0,NORMAL:Yc,Wa:2};Xc.prototype.then=function(a,b,c){return this.G.la.then(a,b,c)};\nta(Xc.prototype,{resolve:function(a){this.state=3;this.G.resolve(a)},reject:function(a){this.state=5;this.G.reject(a)},state:0,cancel:function(a){this.G.la.cancel();3>this.state&&(1>this.state?(this.state=4,this.za().remove(this)):a&&(this.Ja(),this.za().remove(this),this.state=4))},Ja:ca,Na:ca,Ma:function(a){this.state=this.Na(a)?1:5}});function $c(a){this.P={};for(var b in Zc)this.P[Zc[b]]=[];this.ma=a;this.ma.addEventListener(\"allocatable\",za(this.ya,this))}v(\"H.util.JobManager\",$c);var ad=Object.keys(Zc).map(function(a){return Zc[a]}).sort().reverse();\nta($c.prototype,{add:function(a){Ha(a,Xc,this.add,0);this.P[a.a].push(a);this.ya()},contains:function(a){return-1<this.P[a.a].indexOf(a)},remove:function(a){var b=a.a;a=this.P[b].indexOf(a);return-1<a?(this.P[b].splice(a,1),!0):!1},ya:function(){ad.forEach(function(a){this.P[a]=this.P[a].filter(function(a){var c,d;if((c=this.ma.Ya(a))!==Ea)d=za(this.ma.$a,this.ma,c,a),a.then(d,d),a.Ma(c);else return!0},this)},this)}});function bd(a,b,c){var d=[];1<arguments.length&&d.push(b);2<arguments.length&&d.push(\"out of [\"+c[0]+\"...\"+c[1]+\"]\");this.message=(a?Na(a):\"\")+(d.length?\" (\"+d.join(\" \")+\")\":\"\");this.stack=Error().stack}v(\"H.lang.OutOfRangeError\",bd);bd.prototype=Error();bd.prototype.name=\"OutOfRangeError\";var cd=\"closure_listenable_\"+(1E6*Math.random()|0),dd=0;function ed(a,b,c,d,e){this.listener=a;this.a=null;this.src=b;this.type=c;this.ga=!!d;this.ka=e;++dd;this.V=this.fa=!1}function fd(a){a.V=!0;a.listener=null;a.a=null;a.src=null;a.ka=null};function gd(a){this.src=a;this.a={};this.b=0}gd.prototype.add=function(a,b,c,d,e){var f=a.toString();a=this.a[f];a||(a=this.a[f]=[],this.b++);var g=hd(a,b,d,e);-1<g?(b=a[g],c||(b.fa=!1)):(b=new ed(b,this.src,f,!!d,e),b.fa=c,a.push(b));return b};gd.prototype.remove=function(a,b,c,d){a=a.toString();if(!(a in this.a))return!1;var e=this.a[a];b=hd(e,b,c,d);return-1<b?(fd(e[b]),xa.splice.call(e,b,1),0==e.length&&(delete this.a[a],this.b--),!0):!1};\nfunction id(a,b){var c=b.type;if(c in a.a){var d=a.a[c],e=ya(d,b),f;(f=0<=e)&&xa.splice.call(d,e,1);f&&(fd(b),0==a.a[c].length&&(delete a.a[c],a.b--))}}function hd(a,b,c,d){for(var e=0;e<a.length;++e){var f=a[e];if(!f.V&&f.listener==b&&f.ga==!!c&&f.ka==d)return e}return-1};var jd=-1!=lc.indexOf(\"Opera\")||-1!=lc.indexOf(\"OPR\"),kd=oc(),ld=-1!=lc.indexOf(\"Gecko\")&&!(-1!=lc.toLowerCase().indexOf(\"webkit\")&&!pc())&&!(-1!=lc.indexOf(\"Trident\")||-1!=lc.indexOf(\"MSIE\"))&&!pc(),md=-1!=lc.toLowerCase().indexOf(\"webkit\")&&!pc();function nd(){var a=lc;if(ld)return/rv\\:([^\\);]+)(\\)|;)/.exec(a);if(kd&&pc())return/Edge\\/([\\d\\.]+)/.exec(a);if(kd)return/\\b(?:MSIE|rv)[: ]([^\\);]+)(\\)|;)/.exec(a);if(md)return/WebKit\\/(\\S+)/.exec(a)}\nfunction od(){var a=q.document;return a?a.documentMode:void 0}var pd=function(){if(jd&&q.opera){var a=q.opera.version;return t(a)?a():a}var a=\"\",b=nd();b&&(a=b?b[1]:\"\");return kd&&!pc()&&(b=od(),b>parseFloat(a))?String(b):a}(),qd={};\nfunction rd(a){var b;if(!(b=qd[a])){b=0;for(var c=va(String(pd)).split(\".\"),d=va(String(a)).split(\".\"),e=Math.max(c.length,d.length),f=0;0==b&&f<e;f++){var g=c[f]||\"\",h=d[f]||\"\",k=/(\\d*)(\\D*)/g,l=/(\\d*)(\\D*)/g;do{var n=k.exec(g)||[\"\",\"\",\"\"],r=l.exec(h)||[\"\",\"\",\"\"];if(0==n[0].length&&0==r[0].length)break;b=wa(0==n[1].length?0:parseInt(n[1],10),0==r[1].length?0:parseInt(r[1],10))||wa(0==n[2].length,0==r[2].length)||wa(n[2],r[2])}while(0==b)}b=qd[a]=0<=b}return b}\nvar sd=q.document,td=od(),ud=!sd||!kd||!td&&pc()?void 0:td||(\"CSS1Compat\"==sd.compatMode?parseInt(pd,10):5);var vd;(vd=!kd)||(vd=kd&&(pc()||9<=ud));var wd=vd,xd=kd&&!rd(\"9\");!md||rd(\"528\");ld&&rd(\"1.9b\")||kd&&rd(\"8\")||jd&&rd(\"9.5\")||md&&rd(\"528\");ld&&!rd(\"8\")||kd&&rd(\"9\");function yd(a){yd[\" \"](a);return a}yd[\" \"]=ba;function zd(a,b){I.call(this,a?a.type:\"\");this.b=this.state=this.currentTarget=this.target=null;if(a){this.type=a.type;this.target=a.target||a.srcElement;this.currentTarget=b;var c=a.relatedTarget;if(c&&ld)try{yd(c.nodeName)}catch(d){}this.state=a.state;this.b=a;a.defaultPrevented&&this.f()}}ra(zd,I);zd.prototype.c=function(){zd.W.c.call(this);this.b.stopPropagation?this.b.stopPropagation():this.b.cancelBubble=!0};\nzd.prototype.f=function(){zd.W.f.call(this);var a=this.b;if(a.preventDefault)a.preventDefault();else if(a.returnValue=!1,xd)try{if(a.ctrlKey||112<=a.keyCode&&123>=a.keyCode)a.keyCode=-1}catch(b){}};var Ad=\"closure_lm_\"+(1E6*Math.random()|0),Bd={},Cd=0;function Dd(a,b,c,d,e){if(\"array\"==fa(b))for(var f=0;f<b.length;f++)Dd(a,b[f],c,d,e);else if(c=Ed(c),a&&a[cd])a.M.add(String(b),c,!1,d,e);else{if(!b)throw Error(\"Invalid event type\");var f=!!d,g=Fd(a);g||(a[Ad]=g=new gd(a));c=g.add(b,c,!1,d,e);c.a||(d=Gd(),c.a=d,d.src=a,d.listener=c,a.addEventListener?a.addEventListener(b.toString(),d,f):a.attachEvent(Hd(b.toString()),d),Cd++)}}\nfunction Gd(){var a=Id,b=wd?function(c){return a.call(b.src,b.listener,c)}:function(c){c=a.call(b.src,b.listener,c);if(!c)return c};return b}function Jd(a,b,c,d,e){if(\"array\"==fa(b))for(var f=0;f<b.length;f++)Jd(a,b[f],c,d,e);else(c=Ed(c),a&&a[cd])?a.M.remove(String(b),c,d,e):a&&(a=Fd(a))&&(b=a.a[b.toString()],a=-1,b&&(a=hd(b,c,!!d,e)),(c=-1<a?b[a]:null)&&Kd(c))}\nfunction Kd(a){if(\"number\"!=typeof a&&a&&!a.V){var b=a.src;if(b&&b[cd])id(b.M,a);else{var c=a.type,d=a.a;b.removeEventListener?b.removeEventListener(c,d,a.ga):b.detachEvent&&b.detachEvent(Hd(c),d);Cd--;(c=Fd(b))?(id(c,a),0==c.b&&(c.src=null,b[Ad]=null)):fd(a)}}}function Hd(a){return a in Bd?Bd[a]:Bd[a]=\"on\"+a}function Ld(a,b,c,d){var e=!0;if(a=Fd(a))if(b=a.a[b.toString()])for(b=b.concat(),a=0;a<b.length;a++){var f=b[a];f&&f.ga==c&&!f.V&&(f=Md(f,d),e=e&&!1!==f)}return e}\nfunction Md(a,b){var c=a.listener,d=a.ka||a.src;a.fa&&Kd(a);return c.call(d,b)}\nfunction Id(a,b){if(a.V)return!0;if(!wd){var c;if(!(c=b))a:{c=[\"window\",\"event\"];for(var d=q,e;e=c.shift();)if(null!=d[e])d=d[e];else{c=null;break a}c=d}e=c;c=new zd(e,this);d=!0;if(!(0>e.keyCode||void 0!=e.returnValue)){a:{var f=!1;if(0==e.keyCode)try{e.keyCode=-1;break a}catch(g){f=!0}if(f||void 0==e.returnValue)e.returnValue=!0}e=[];for(f=c.currentTarget;f;f=f.parentNode)e.push(f);for(var f=a.type,h=e.length-1;!c.a&&0<=h;h--){c.currentTarget=e[h];var k=Ld(e[h],f,!0,c),d=d&&k}for(h=0;!c.a&&h<e.length;h++)c.currentTarget=\ne[h],k=Ld(e[h],f,!1,c),d=d&&k}return d}return Md(a,new zd(b,this))}function Fd(a){a=a[Ad];return a instanceof gd?a:null}var Nd=\"__closure_events_fn_\"+(1E9*Math.random()>>>0);function Ed(a){if(t(a))return a;a[Nd]||(a[Nd]=function(b){return a.handleEvent(b)});return a[Nd]};function L(){Eb.call(this);this.M=new gd(this);this.j=this;this.i=null}ra(L,Eb);L.prototype[cd]=!0;m=L.prototype;m.N=function(){return this.i};m.sa=function(a){this.i=a};m.addEventListener=function(a,b,c,d){Dd(this,a,b,c,d)};m.removeEventListener=function(a,b,c,d){Jd(this,a,b,c,d)};\nm.X=function(a){var b,c=this.N();if(c)for(b=[];c;c=c.N())b.push(c);var c=this.j,d=a.type||a;if(ga(a))a=new I(a,c);else if(a instanceof I)a.target=a.target||c;else{var e=a;a=new I(d,c);ta(a,e)}var e=!0,f;if(b)for(var g=b.length-1;!a.a&&0<=g;g--)f=a.currentTarget=b[g],e=f.U(d,!0,a)&&e;a.a||(f=a.currentTarget=c,e=f.U(d,!0,a)&&e,a.a||(e=f.U(d,!1,a)&&e));if(b)for(g=0;!a.a&&g<b.length;g++)f=a.currentTarget=b[g],e=f.U(d,!1,a)&&e;return e};\nm.ja=function(){L.W.ja.call(this);if(this.M){var a=this.M,b=0,c;for(c in a.a){for(var d=a.a[c],e=0;e<d.length;e++)++b,fd(d[e]);delete a.a[c];a.b--}}this.i=null};m.U=function(a,b,c){a=this.M.a[String(a)];if(!a)return!0;a=a.concat();for(var d=!0,e=0;e<a.length;++e){var f=a[e];if(f&&!f.V&&f.ga==b){var g=f.listener,h=f.ka||f.src;f.fa&&id(this.M,f);d=!1!==g.call(h,c)&&d}}return d&&0!=c.Ea};v(\"H.util.EventTarget\",L);L.prototype.sa=L.prototype.sa;L.prototype.setParentEventTarget=L.prototype.sa;L.prototype.N=L.prototype.N;L.prototype.getParentEventTarget=L.prototype.N;L.prototype.addEventListener=L.prototype.addEventListener;L.prototype.addEventListener=L.prototype.addEventListener;L.prototype.removeEventListener=L.prototype.removeEventListener;L.prototype.removeEventListener=L.prototype.removeEventListener;L.prototype.X=L.prototype.X;L.prototype.dispatchEvent=L.prototype.X;\nL.prototype.T=L.prototype.T;L.prototype.dispose=L.prototype.T;L.prototype.f=L.prototype.f;L.prototype.addOnDisposeCallback=L.prototype.f;L.prototype.l=L.prototype.U;L.prototype.U=function(a,b,c){var d,e,f,g=!0;d=c[c.currentTarget===c.target?\"AT_TARGET\":b?\"CAPTURING_PHASE\":(e=!0,\"BUBBLING_PHASE\")];if(!e||\"pointerenter\"!==(f=c.type)&&\"pointerleave\"!==f)c.eventPhase=d,g=L.prototype.l.apply(this,arguments),e&&this.N&&null===this.N()&&delete c.eventPhase;return g};function M(a){a=a||{};var b=a.callback;this.b=a.label;t(b)&&(this.callback=b);this.a=!!a.disabled;M.W.constructor.call(this)}ra(M,L);v(\"H.util.ContextItem\",M);M.prototype.o=function(){return this.b};M.prototype.getLabel=M.prototype.o;M.prototype.C=function(a){this.b!==a&&(this.b=a,this.X(\"update\"));return this};M.prototype.setLabel=M.prototype.C;M.prototype.v=function(){return this.a};M.prototype.isDisabled=M.prototype.v;M.prototype.B=function(a){a^this.a&&(this.a=a,this.X(\"update\"));return this};\nM.prototype.setDisabled=M.prototype.B;var Od=new M;M.SEPARATOR=Od;function Pd(){if(z.document){var a=document.createElement(\"canvas\");a.width=a.height=1;a.getContext(\"2d\")}}v(\"H.util.eval\",function(a){return eval(a)});v(\"H.util.provide\",function(a){aa(a,void 0)});function Qd(){this.F=0}Qd.prototype.next=function(a){if(4294967295===this.F)throw new bd(a,this.F,[0,4294967295]);return this.F++};var Sd=new Qd;za(Sd.next,Sd);function Bb(){}var cb=Ca([]);Pd();Pd();var Td={undefined:\"GL\",GL:\"GL\",OL:\"OL\",SL:\"SL\",SB:\"SB\",WE:\"WE\",WG:\"WG\"};v(\"H.geo.AltitudeContext\",Td);function Ud(a,b,c){var d=cc(+a,-90,90);if(b&&La(d))throw new B(b,c,a);return d}function Vd(a,b,c){var d=+a;if(-180>d||180<d)d=bc(d+180,360)-180;if(b&&La(d))throw new B(b,c,a);return d}function Wd(a,b,c){var d;if(a!==A&&La(d=+a)&&b)throw new B(b,c,a);return d}function Xd(a,b,c){var d=!Td[a];if(b&&d)throw new B(b,c,a);return!d}v(\"H.geo.isDBC\",function(a,b){return 0>a/b&&180<Lb(b-a)});function Yd(){var a=Yd;if(!0===(Ha(this,a)&&this.constructor===a))throw new TypeError(\"Illegal constructor \"+Na(a));}v(\"H.geo.AbstractGeometry\",Yd);Yd.prototype.getBounds=Yd.prototype.B;Yd.prototype.equals=Yd.prototype.j;Yd.prototype.toString=function(){return this.da([this.ea,\" \"]).join(\"\")};function O(a,b,c,d){this.lat=Ud(a,O,0);this.lng=Vd(b,O,1);c!==A&&(this.alt=Wd(c,O,2));d!==A&&Xd(d,O,3)&&(this.ctx=d)}ra(O,Yd);v(\"H.geo.Point\",O);O.prototype.j=function(a){return this===a||!!a&&this.lat===a.lat&&this.lng===a.lng&&Td[this.ctx]===Td[a.ctx]&&(this.alt||0)===(a.alt||0)};O.prototype.equals=O.prototype.j;\nO.prototype.a=function(a){var b,c;this===a||this.lat===a.lat&&this.lng===a.lng?a=0:(b=this.lat*$b,c=a.lat*$b,a=1.274200158E7*Pb(Jb(1,gb(hb(Ob((b-c)/2),2)+Qb(b)*Qb(c)*hb(Ob((this.lng*$b-a.lng*$b)/2),2)))));return a};O.prototype.distance=O.prototype.a;\nO.prototype.b=function(a,b,c){var d,e,f,g,h,k;if(c){if(b/=6371000.79){a*=$b;d=$b*this.lat;f=Ob(d);g=Ob(b);h=Qb(b);e=$b*this.lng;var l=Qb(d);d=Pb(l*Qb(a)*g+f*h);a=Tb(Ob(a)*l*g,h-f*Ob(d));l=((e+a+Vb)%(2*Vb)-Vb)*ac}return b?new O(d*ac,(l+540)%360-180):this}a=(a%360+360)%360;if(0===(a+90)%180)return d=this.lng+b/(6371000.79*Yb*Qb(this.lat*$b))*(270===a?-360:360),new O(this.lat,(d+540)%360-180);if(b/=6371000.79)a*=$b,e=this.lat*$b,f=this.lng*$b,g=e+b*Qb(a),h=g-e,d=Mb(Rb(g/2+Xb)/Rb(e/2+Xb)),d=La(h/d)?Qb(e):\nh/d,k=b*Ob(a)/d,Lb(g)>Wb&&(g=0<g?Vb-g:-(Vb+g));return b?new O(g*ac,((f+k+Zb+(Lb(e+h)>Wb?Vb:0))%Yb-Vb)*ac):this};O.prototype.walk=O.prototype.b;O.prototype.B=function(){return new P(this.lat,this.lng,this.lat,this.lng)};O.prototype.getBounds=O.prototype.B;function Zd(a,b,c){var d=!!a&&!(La(a.lat=Ud(a.lat))||La(a.lng=Vd(a.lng))||a.alt!==A&&La(a.alt=Wd(a.alt))||a.ctx!==A&&!Xd(a.ctx));if(!d&&b)throw new B(b,c,a);return d}O.validate=Zd;\nfunction $d(a){if(!a)throw new B($d,0,a);return new O(a.lat,a.lng,a.alt,a.ctx)}O.fromIPoint=$d;O.prototype.ea=\"POINT\";O.prototype.da=function(a){a.push(\"(\",this.lng,\" \",this.lat,\")\");return a};function ae(){}ae.prototype.O=function(){};v(\"H.geo.IProjection.prototype.latLngToPoint\",ae.prototype.O);ae.prototype.L=function(){};v(\"H.geo.IProjection.prototype.xyToGeo\",ae.prototype.L);ae.prototype.b=function(){};v(\"H.geo.IProjection.prototype.pointToGeo\",ae.prototype.b);ae.prototype.a=function(){};v(\"H.geo.IProjection.prototype.geoToPoint\",ae.prototype.a);var S={};v(\"H.geo.mercator\",S);S.c=function(a){return Jb(1,Kb(0,.5-Mb(Rb(Xb+Wb*a/180))/Vb/2))};S.f=function(a){return a/360+.5};S.O=function(a,b,c){c?(c.x=S.f(b),c.y=S.c(a)):c=new G(S.f(b),S.c(a));return c};S.latLngToPoint=S.O;S.a=function(a,b){return S.O(a.lat,a.lng,b)};S.geoToPoint=S.a;S.i=function(a){return 0>=a?90:1<=a?-90:ac*(2*Sb(Nb(Vb*(1-2*a)))-Wb)};S.g=function(a){return 360*(1===a?1:bc(a,1))-180};S.L=function(a,b,c){c?(c.lat=S.i(b),c.lng=S.g(a)):c=new O(S.i(b),S.g(a));return c};\nS.xyToGeo=S.L;S.b=function(a,b){return S.L(a.x,a.y,b)};S.pointToGeo=S.b;function T(a,b){this.projection=a||S;this.i=0;this.a=this.exp=Mb(b||256)/Ub;be(this);this.y=this.x=0}v(\"H.geo.PixelProjection\",T);T.prototype.b=function(a){if(La(a))throw new B(this.b,0,a);var b=this.x/this.w,c=this.y/this.h;this.i=a;this.a=this.exp+a;be(this);this.x=b*this.w;this.y=c*this.h};T.prototype.rescale=T.prototype.b;function be(a){30<a.a&&(a.a=30);a.w=hb(2,a.a);a.h=hb(2,a.a)}T.prototype.f=function(){return this.i||0};T.prototype.getZoomScale=T.prototype.f;\nT.prototype.g=function(a,b){var c=this.projection.O(a.lat,a.lng,b);c.x=c.x*this.w-this.x;c.y=c.y*this.h-this.y;return c};T.prototype.geoToPixel=T.prototype.g;T.prototype.c=function(a,b){return this.projection.L((a.x+this.x)/this.w,(a.y+this.y)/this.h,b)};T.prototype.pixelToGeo=T.prototype.c;T.prototype.L=function(a,b,c){return this.projection.L((a+this.x)/this.w,(b+this.y)/this.h,c)};T.prototype.xyToGeo=T.prototype.L;\nT.prototype.j=function(a,b,c){a=this.projection.O(a,b,c);a.x=a.x*this.w-this.x;a.y=a.y*this.h-this.y;return a};T.prototype.latLngToPixel=T.prototype.j;T.prototype.l=function(a){return new G(a.x*this.w-this.x,a.y*this.h-this.y)};T.prototype.pointToPixel=T.prototype.l;v(\"H.util.Disposable\",Eb);Eb.prototype.f=Eb.prototype.f;Eb.prototype.addOnDisposeCallback=Eb.prototype.f;v(\"H.util.dispose\",function(a){a&&\"function\"==typeof a.T&&a.T()});function V(a,b,c,d,e,f){if(a&&b)this.R(a),this.l(b),this.o(c),this.C(e),this.B(f),this.v(d);else throw Error('Parameters \"scheme\" and \"host\" must be specified');}v(\"H.service.Url\",V);\nfunction ce(a,b){var c=a,d=z.document,e,f,g,h,k=d&&d.createElement(\"a\"),l=\"\";d?(b&&(f=(e=d.getElementsByTagName(\"base\")[0])&&e.href,g=d.head,h=e||g.appendChild(d.createElement(\"base\")),h.href=b),k.href=c,l=k.href,b&&(e?e.href=f:g.removeChild(h))):/[\\w]+:\\/\\//.test(c)&&(l=c);g=/(?:(\\w+):\\/\\/)?(?:([^:]+):([^@/]*)@)?([^/:]+)?(?:[:]{1}([0-9]+))?(\\/[^?#]*)?(\\?[^#]+)?(#.*)?/.exec(l);c=g[1];k=g[4];d=g[5];h=g[6];e=g[7];f=g[8];!g[2]&&k&&/@/.test(k)&&(k=k.split(\"@\")[1]);g=k;h=h&&0<h.length?h.substr(1):\"\";var k=\n{},n;if(e)for(l=/([?&]?([^=&+]+))(=([^&]+))?/g;n=l.exec(e);)k[decodeURIComponent(n[2])]=n[4]?decodeURIComponent(n[4]):void 0;return new V(c,g,h,k,isNaN(+d)?void 0:+d,f&&0<f.length?f.substr(1):\"\")}V.parse=ce;var de=0;V.prototype.clone=function(){de++;var a={},b;for(b in this.a)a[b]=this.a[b];return new V(this.j,this.g,this.b,a,this.i,this.c)};V.prototype.clone=V.prototype.clone;\nV.prototype.R=function(a){if(!a||\"string\"!==typeof a)throw Error('The \"scheme\" parameter must be a non-empty string.');this.j=a;return this};V.prototype.setScheme=V.prototype.R;V.prototype.oa=function(){return this.j};V.prototype.getScheme=V.prototype.oa;V.prototype.l=function(a){if(!a||\"string\"!==typeof a||\"-\"===a.charAt(0)||\".\"===a.charAt(0)||\".\"===a.charAt(a.length-1))throw Error('The \"host\" parameter is not a valid host name.');this.g=a;return this};V.prototype.setHost=V.prototype.l;\nV.prototype.ba=function(){return this.g};V.prototype.getHost=V.prototype.ba;V.prototype.o=function(a){this.b=a||void 0;return this};V.prototype.setPath=V.prototype.o;V.prototype.ca=function(){return this.b};V.prototype.getPath=V.prototype.ca;V.prototype.v=function(a){if(a)if(\"object\"==typeof a)this.a=a;else throw Error('Parameter \"params\" must be an object.');else this.a={};return this};V.prototype.setQuery=V.prototype.v;V.prototype.pa=function(){return!ee(this)};V.prototype.hasQuery=V.prototype.pa;\nV.prototype.ea=function(){return this.a};V.prototype.getQuery=V.prototype.ea;V.prototype.C=function(a){if(a&&isNaN(parseInt(a,10)))throw Error('Parameter \"port\" must be a number or undefined');this.i=+a||void 0;return this};V.prototype.setPort=V.prototype.C;V.prototype.da=function(){return this.i};V.prototype.getPort=V.prototype.da;V.prototype.B=function(a){this.c=a||void 0;return this};V.prototype.setAnchor=V.prototype.B;V.prototype.aa=function(){return this.c};V.prototype.getAnchor=V.prototype.aa;\nV.prototype.f=function(a){if(\"object\"!==typeof a)throw Error('Parameter \"other\" must be an object.');var b=this.a,c;for(c in a)a.hasOwnProperty(c)&&\"function\"!==typeof a[c]&&(b[c]=a[c]);return this};V.prototype.mergeQuery=V.prototype.f;V.prototype.Z=function(a){if(!a||\"string\"!==typeof a)throw Error('Parameter \"subDomain\" must be a non-empty string');\".\"===a.substr(a.length-1)&&(a=a.substr(0,a.length-1));return this.l(a+\".\"+this.g)};V.prototype.addSubDomain=V.prototype.Z;\nV.prototype.$=function(a){if(!a||\"string\"!==typeof a)throw Error('Parameter \"subPath\" must be a non-empty string');return this.o((this.b?this.b+\"/\":\"\")+a)};V.prototype.addSubPath=V.prototype.$;V.prototype.toString=function(){return[this.j+\"://\",this.g,this.i?\":\"+this.i:\"\",this.b||!ee(this)||this.c?\"/\":\"\",this.b?encodeURI(this.b):\"\",fe(this),this.c?\"#\"+encodeURIComponent(this.c):\"\"].join(\"\")};V.prototype.toString=V.prototype.toString;\nfunction fe(a){var b=[],c,d=a.a,e;for(c in d)d.hasOwnProperty(c)&&\"function\"!==typeof d[c]&&(e=a.a[c],b.push(encodeURIComponent(c)+(void 0===e?\"\":\"=\"+encodeURIComponent(e))));return 0<b.length?\"?\"+b.join(\"&\"):\"\"}function ee(a){var b,c=0;for(b in a.a)if(a.a.hasOwnProperty(b)&&\"function\"!==typeof a.a[b]&&(c++,0<c))break;return!c};var ge={};function he(a){try{importScripts.apply(self,arguments)}catch(b){this.postError(\"invalid_script\")}}function ie(a){ge[a]=null;this.postMessage(a)}function je(a,b,c){var d;if(t(b))d=b;else try{d=self.eval(\"(\"+b+\")\"),t(d)||(d=null)}catch(e){}d?(ge[a]=d,c||this.postMessage(a)):this.postError(\"invalid_processor\")}function ke(a){this.b=a&&a[0];this.a=a&&a[1];this.c=a&&a[2]||[]}ke.prototype.postError=function(a){this.postMessage(a,A,0)};\nke.prototype.postMessage=function(a,b,c){self.postMessage({processor:this.b,taskId:this.a,type:c===A?1:c,data:a},b||A)};function le(a,b,c){var d;if(!ga(a))throw new B(le,0,\"InvalidArgument\");if(!t(b))throw new B(le,1,\"InvalidArgument\");d=me++;ne[d]={b:c||oe,a:b};(new ke([\"3\",d,[]])).postMessage(a,[],2)}var ne={},me=0;\nfunction pe(a,b){var c,d,e=a;if(ne[this.a])if(d=ne[this.a],c=d.a,delete ne[this.a],b)c(null,b);else{if(d.b===qe){d=new Uint8Array(a);for(var e=d.byteLength,f=\"\",g=0,h,k,l,n;g<e;)h=d[g++],192>h||(k=d[g++],224>h?h=(h&31)<<6|k&63:(l=d[g++],240>h?h=(h&15)<<12|(k&63)<<6|l&63:(n=d[g++],h=(h&7)<<18|(k&63)<<12|(l&63)<<6|n&63))),65536>h?f+=String.fromCharCode(h):(h-=65536,f+=String.fromCharCode((h>>10)+55296,(h&1023)+56320));e=f}c(e)}}var oe=0,qe=1;function P(a,b,c,d){re(this,Ud(a,P,0),Vd(b,P,1),Ud(c,P,2),Vd(d,P,3))}ra(P,Yd);v(\"H.geo.Rect\",P);P.prototype.ea=\"POLYGON\";P.prototype.da=function(a){var b=this.A,c=this.m,d=this.u,e=this.s;a.push(\"(\",c,\" \",b,\",\",e,\" \",b,\",\",e,\" \",d,\",\",c,\" \",d,\",\",c,\" \",b,\")\");return a};P.prototype.j=function(a){return this===a||!!a&&this.A===a.A&&this.m===a.m&&this.u===a.u&&this.s===a.s};P.prototype.equals=P.prototype.j;P.prototype.clone=function(){return new P(this.A,this.m,this.u,this.s)};\nP.prototype.clone=P.prototype.clone;function re(a,b,c,d,e){a.m=c;a.s=e;b<d&&(c=b,b=d,d=c);a.A=b;a.u=d;a.C=a.o=a.v=null;return a}P.prototype.$=function(){this.C||(this.C=new O(this.A,this.m));return this.C};P.prototype.getTopLeft=P.prototype.$;P.prototype.Z=function(){this.o||(this.o=new O(this.u,this.s));return this.o};P.prototype.getBottomRight=P.prototype.Z;P.prototype.Ga=function(){return this.A};P.prototype.getTop=P.prototype.Ga;P.prototype.oa=function(){return this.u};P.prototype.getBottom=P.prototype.oa;\nP.prototype.pa=function(){return this.m};P.prototype.getLeft=P.prototype.pa;P.prototype.Fa=function(){return this.s};P.prototype.getRight=P.prototype.Fa;P.prototype.f=function(){this.v||(this.v=new O(this.u+(this.A-this.u)/2,se(this.m,this.a())));return this.v};P.prototype.getCenter=P.prototype.f;P.prototype.a=function(){return te(this.m,this.s)};P.prototype.getWidth=P.prototype.a;P.prototype.c=function(){return this.A-this.u};P.prototype.getHeight=P.prototype.c;\nP.prototype.Ha=function(){return this.m>this.s};P.prototype.isCDB=P.prototype.Ha;P.prototype.Ia=function(){return!this.a()&&!this.c()};P.prototype.isEmpty=P.prototype.Ia;P.prototype.B=function(){return new P(this.A,this.m,this.u,this.s)};P.prototype.i=function(a,b,c){var d=this.f();c||(a=Ud(a,this.i,0),b=Vd(b,this.i,1));b=this.b(a,b,c);a=b.f();return a.lat===d.lat&&a.lng===d.lng&&this.c()===b.c()&&this.a()===b.a()};P.prototype.containsLatLng=P.prototype.i;\nP.prototype.ha=function(a,b){b||Zd(a,this.ha,0);return this.i(a.lat,a.lng,b)};P.prototype.containsPoint=P.prototype.ha;P.prototype.R=function(a,b){var c=this.f(),d,e;if(!b&&!Ha(a,P))throw new B(this.R,0,a);e=this.l(a,b);d=e.f();return d.lat===c.lat&&d.lng===c.lng&&this.c()===e.c()&&this.a()===e.a()};P.prototype.containsRect=P.prototype.R;\nP.prototype.b=function(a,b,c,d){if(!c){if(La(a=Ud(a)))throw new B(this.b,0,a);if(La(b=Vd(b)))throw new B(this.b,1,b);}return ue(this.A,this.m,this.u,this.s,a,b,a,b,d)};P.prototype.mergeLatLng=P.prototype.b;P.prototype.ba=function(a,b,c){b||Zd(a,this.ba,0);return this.b(a.lat,a.lng,b,c)};P.prototype.mergePoint=P.prototype.ba;P.prototype.l=function(a,b,c){if(!b&&!Ha(a,P))throw new B(this.l,0,a);return ue(this.A,this.m,this.u,this.s,a.A,a.m,a.u,a.s,c)};P.prototype.mergeRect=P.prototype.l;\nP.prototype.g=function(a,b,c,d,e,f){e||(a=Ud(a,this.g,0),b=Vd(b,this.g,1),c=Ud(c,this.g,2),d=Vd(d,this.g,3));return ue(this.A,this.m,this.u,this.s,a,b,c,d,f)};P.prototype.mergeTopLeftBottomRight=P.prototype.g;P.prototype.aa=function(a,b){if(!b&&!Ha(a,P))throw new B(this.aa,0,a);var c=this.m<=this.s,d=a.m<=a.s,e=this.m<a.s,f=a.m<this.s;return this.u<=a.A&&a.u<=this.A&&(!c&&(!d||e||f)||!d&&(e||f)||e&&f)};P.prototype.intersects=P.prototype.aa;function te(a,b){var c=b-a;return c+(0>c?360:0)}\nfunction se(a,b){var c=a+b/2;return c-(180<c?360:0)}function ue(a,b,c,d,e,f,g,h,k){var l,n,r;c=Jb(c,g);a=Kb(a,e);e=te(b,d);l=se(b,e);g=te(f,h);r=se(f,g)-l;r+=0>r-1E-6?360:0;180>r-1E-6?(l=b,n=h):(r=360-r,l=f,n=d);r=r+e/2+g/2;360<=r+5E-7?(l=-180,n=180):r-5E-7<e?(l=b,n=d):r-5E-7<g&&(l=f,n=h);return k?re(k,a,l,c,n):new P(a,l,c,n)}P.merge=ue;function ve(a,b,c){c||(Zd(a,ve,0),Zd(b,ve,1));return new P(a.lat,a.lng,b.lat,b.lng)}P.fromPoints=ve;\nfunction we(a,b){var c=fa(a);if(\"array\"!=c&&(\"object\"!=c||\"number\"!=typeof a.length))throw new B(we,0,a);var c=1,d=a.length,e,f=null;if(0<d)for(e=a[0],f=ve(e,e,b);c<d;c++)e=a[c],f.b(e.lat,e.lng,b,f);return f}P.coverPoints=we;function xe(a,b){if(!(b||a&&null!=a.length))throw new B(xe,0,a);var c=3,d=a.length,e;if(0<d)for(e=new P(a[0],a[1],a[0],a[1]);c<d;c+=3)e.b(a[c],a[c+1],b,e);return e}P.coverLatLngAlts=xe;\nfunction ye(a,b){if(b&&(!a||null==a.length))throw new B(ye,0,a);var c=1,d=a.length,e;if(0<d)for(e=new P(a[0].A,a[0].m,a[0].u,a[0].s);c<d;c++)e.l(a[c],b,e);return e}P.coverRects=ye;P.prototype.ca=function(a,b){Zd(a,this.ca,0);var c=this.m,d=this.A,e=this.s,f=this.u,g=this.f().lng,h=a.lat-f-(d-f)/2,k=a.lng-g,k=180<k||-180>k?-(g+a.lng):k,c=c+(0>k?2*k:0),c=-180>c?360+c:c,e=e+(0<k?2*k:0),e=180<e?e-360:e,d=0<h?d+2*h:d;90<=d&&(d=90);f=0>h?f+2*h:f;-90>=f&&(f=-90);return b?re(b,d,c,f,e):new P(d,c,f,e)};\nP.prototype.resizeToCenter=P.prototype.ca;function ze(a,b,c,d){this.key=\"\";this.x=a;this.y=b;this.a=c;this.Y=d;this.G=Kc()}ze.prototype.then=function(a,b,c){return this.G.la.then(a,b,c)};ze.prototype.resolve=function(a){this.G.resolve(a)};ze.prototype.reject=function(a){this.G.reject(a)};ze.prototype.cancel=function(){this.G.la.cancel()};var Ae=/^(-?)0(\\d+)/,Be={lat:0,lng:0},Ce={x:0,y:0};function De(a,b){var c=180/(1<<b),d=a.lat+90,e=(a.lng+180)%360,f=0;180==d&&f--;f+=Math.floor(d/c);c=0+Math.floor(e/c);return[f,c]}var Ee=1/Math.pow(10,10);function Fe(a,b){var c=[],d=a.$(),e=a.Z(),f,g;180==e.lng&&(e.lng-=Ee);d=De(d,b);e=De(e,b);for(g=d[0];g>=e[0];g--)for(f=d[1];f<=e[1];f++)c.push(g,f);return c};function Ge(a,b){this.b={};this.B=ce(a.serverUrl);this.l=b;this.R=a.layerConfigs||[];this.v=a.projected;this.a=a.tileSize||256;this.C=!1!==a.batchTiles;this.o=a.polylineClippingMode;this.j=new T(Ea,this.a);this.i=new T(Ea,this.a);this.i.b(22-Math.log(this.a)/Math.LN2+8)}ra(Ge,Eb);m=Ge.prototype;\nm.Ra=function(a,b,c){var d,e;d={x:a*this.a,y:b*this.a};e={x:a*this.a+(this.a-1),y:b*this.a+(this.a-1)};this.j.b(c);d=this.j.c(d);e=this.j.c(e);d=new P(d.lat,d.lng,e.lat,e.lng);return He(this,d,this.R,{x:a,y:b,z:c})};m.Qa=function(a,b,c,d,e){return He(this,new P(a,b,c,d),e)};\nfunction He(a,b,c,d){var e=d||{};c=Ie(c);var f=Je(c),g,h=[],k=[],l,n,r={},w,K,Q;for(K=0;K<c.length;K++)for(l=c[K].layerId,n=c[K].level,r[l]=c[K].columns,g=Fe(b,n),Q=0;Q<g.length-1;Q+=2)d=[l,g[Q+1],g[Q],n].join(\"_\"),w=a.b[d]||a.l.get(d),w||(w=new ze(g[Q+1],g[Q],n,l),w.key=d,a.b[d]=w,k.push(w)),h.push(w);k.length&&(a.C?Ke(a,k):Le(a,k));return Ic(h.map(function(a){return a.then(za(this.Oa,this,a.Y,f)).then(za(this.Pa,this,a,e)).then(za(this.Ta,this,r[a.Y]))},a))}\nm.Oa=function(a,b,c){var d=c.Rows,e=d.length,f,g,h,k;if(e&&(f=b[a])){b=new D(c.Rows);g=[];for(h=0;h<e;h++)k=d[h],f(b.c(h),a)&&g.push(k);a={Rows:g};if(c=c.Meta)a.Meta=c}else a=c;return a};function Le(a,b){function c(b,c,d){d?(delete a.b[b.key],b.reject(d)):Me(a,b,c)}var d,e,f;for(d=0;d<b.length;d++)f=b[d],e=a.B.clone().f({tilex:f.x}).f({tiley:f.y}).f({level:f.a}).f({layer:f.Y}),new le(e.toString(),za(c,null,f),qe)}function Ke(a,b){var c=b.length,d,e;for(d=0;d<c;d+=15)e=b.slice(d,d+15),Ne(a,e)}\nfunction Ne(a,b){var c=a.B.clone(),d=[],e=[],f=[],g=c.a;b.length&&(b.forEach(function(a){d.push(a.x,a.y);e.push(a.a);f.push(a.Y)}),g.tilexy=d.join(\",\"),g.layers=f.join(\",\"),g.levels=e.join(\",\"),c.v(g),new le(c.toString(),function(c,d){d?b.forEach(function(b){delete a.b[b.key];b.reject(\"error\")}):Me(a,b,c)},qe))}\nfunction Me(a,b,c){var d,e,f,g;if(Ja(b,void 0,void 0,void 0))for(e=c.indexOf(\"[\")+1,g=0;g<b.length;g++)f=c.indexOf(\"]},{\",e+3)+2,f<e&&(f=c.lastIndexOf(\"]}\")),d=c.substr(e,f-e),e=f+1,Oe(a,b[g],d);else Oe(a,b,c)}function Oe(a,b,c){var d=0;try{d=c.length,delete a.b[b.key],a.l.add(b.key,b,2*d),b.resolve(JSON.parse(c))}catch(e){b.reject(e.message)}}function Je(a){var b={},c,d,e;for(e=0;e<a.length;e++)c=a[e],c.rowFilter&&(d=c.layerId,d=d!==A?d:c.layer,b[d]=za(c.rowFilter,c.rowFilterContext));return b}\nm.Pa=function(a,b,c){var d,e,f,g;f=[];for(var h=[],k=(a=/^ADAS/.test(a.Y))?\"HPY\":\"LAT\",l=a?\"HPX\":\"LON\",n=a?\"HPZ\":\"ZLEVEL\",r=0,w,K=c.Rows,Q=K.length,R,W;r<Q;r+=1){W=K[r];if(W[k]&&W[l]){g=W;w=W[k];R=W[l];f=W[n];var X=a,N=this.o,ea=0,U=void 0,u=void 0,y=void 0,p=void 0,Y=d=e=void 0,E=[],Z=void 0,F=void 0,ha=void 0,ma=Z=void 0,ia=void 0,da=void 0;w&&(U=Fa(w),u=Fa(R),y=f?Fa(f):Ea,ea=U.length,ha=p=e=d=Y=0,ia=z.RegExp,da=X?1E-7:1E-5);for(F=new z.Float32Array(3*ea);ha<ea;){Z=U[ha];ma=u[ha];if(Ae.test(ma)&&\n(ma=ia.$1+ia.$2,N)){e=F[p++]=e+(Z?z.parseInt(Z)*da:0);d=F[p++]=d+(ma?z.parseInt(ma)*da:0);f&&(Y=F[p]=Y+(z.parseInt(y[ha])||0));ha++;p++;3<p&&(Z=new z.Float32Array(p),Z.set(Array.prototype.slice.call(F,0,p)),E.push(Z));F=new z.Float32Array(3*ea);p=0;continue}e=F[p++]=e+(Z?z.parseInt(Z)*da:0);d=F[p++]=d+(ma?z.parseInt(ma)*da:0);f&&(Y=F[p]=Y+(z.parseInt(y[ha])||0));ha++;p++}N?(p&&3<p&&(Z=new z.Float32Array(p),Z.set(Array.prototype.slice.call(F,0,p)),E.push(Z)),w=E):w=[F];g=g.geometry=w;delete W[k];delete W[l];\ndelete W[n]}if(this.v){if(!W.$$projected$$)for(W.$$projected$$=[],R=g.length,w=0;w<R;w++){f=g[w];X=this.i;N=0;ea=f.length;U=[];for(u=Ce;N<ea;)Be.lat=f[N++],Be.lng=f[N],N+=2,u=X.g(Be),u.x=u.x,u.y=u.y,U.push(u);f=U;W.$$projected$$.push(f)}if(W.$$projected$$.length){g=[];R=W.$$projected$$.length;for(w=0;w<R;w++){f=W.$$projected$$[w];u=u=e=d=e=p=y=N=X=void 0;ea=[];y=u=u=void 0;u=[];y=void 0;p=0;U=this.i.f()-b.z;X=(b.x<<U)*this.a;N=(b.y<<U)*this.a;u=50<<U;e=this.a<<U;if(1===f.length)u=[X,N,X+e,N,X+e,N+\ne,X,N+e],fc(f[0].x,f[0].y,u)&&(u=new Int32Array(2),u[0]=f[0].x-X>>U,u[1]=f[0].y-N>>U,ea.push(u));else if(y=N-u,p=X+e+u,e=N+e+u,d=X-u,u=[new G(d,y),new G(p,y),new G(p,e),new G(d,e),new G(d,y)],this.o)for(u=jb([f],d,y,p,e,!1),y=u.length,p=0;p<y;p+=1)ea.push(Pe(u[p],2*u[p].length,X,N,U,!0));else{y=u;p=f;e=!1;d=[];Y=0;for(E=p.length;Y<E;Y++)d.push(p[Y].x,p[Y].y);fc(y[0].x,y[0].y,d)&&(jb([p],y[0].x,y[0].y,y[2].x,y[2].y,!0).length||(e=!0));if(e)ea.push(Pe(u,2*u.length,X,N,U,!0));else{var y=f,u=tb(u),y=\ntb(y),Rd=da=p=ma=Z=ia=da=F=E=void 0;d=p=void 0;p={};e=d=1;Y=0;Y=~~(1*Y);switch(Y){case 1:e=d=0;break;case 2:d=0;e=1;break;case 3:d=1,e=0}Y=e;da=E=e=ha=ia=void 0;if(y&&u){y.ia=lb(y.x,y.y,null,nb(y));u.ia=lb(u.x,u.y,null,nb(u));for(E=y;E.next;E=E.next)if(!E.J)for(F=u;F.next;F=F.next)!F.J&&(ia=mb(E.next),ha=mb(F.next),da=qb(E,ia,F,ha,p))&&(da=p.Ka,Rd=p.wa,Z=p.Ua,ma=p.Va,da=lb(Z,ma,null,null,null,null,1,0,0,da),sb(da,E,ia),ia=lb(Z,ma,null,null,null,null,1,0,0,Rd),sb(ia,F,ha),da.ua=ia,ia.ua=da);p=rb(y,\nu);d&&(p=1-p);for(E=y;E;E=E.next)E.J&&(E.ra=p,p=1-p);p=rb(u,y);Y&&(p=1-p);for(F=u;F.next;F=F.next)F.J&&(F.ra=p,p=1-p);pb(y);for(pb(u);(p=ob(y))!=y;){for(E=null;!p.na;p=p.ua){for(d=p.ra;;){E=lb(p.x,p.y,E);p.na=1;p=d?p.next:p.D;if(!p)break;if(p.J){p.na=1;break}}if(!p)break}E.Da=e;e=E}u=e}else u=void 0;y=2*f.length;if(u)for(;u;)ea.push(Pe(u,y,X,N,U)),u=u.Da;else ea.push(Pe(f,y,X,N,U,!0))}}f=ea;f.length&&(g=g.concat(f))}g.length&&(h[r]=g)}}}return{Sa:c,La:h}};\nfunction Pe(a,b,c,d,e,f){var g=0,h=0,k=a,l=!!f,n=new Int32Array(b);for(l&&(a=k[0]);a;)n[g]=a.x-c>>e,g+=1,n[g]=a.y-d>>e,g+=1,g===b&&(f=new Int32Array(2*b),f.set(n),n=f),h+=1,a=l?k[h]:a.next;f=new Int32Array(g);f.set(Array.prototype.slice.apply(n,[0,g]));return f}\nm.Ta=function(a,b){for(var c=b.Sa,d=b.La,e=[],f,g={Rows:e},h,k=a?a.length:0,l=0,n,r=c.Rows,w=r.length,K;l<w;l+=1)if(d[l]||!this.v){f={};n=r[l];if(k)for(h=0;h<k;h+=1)n.hasOwnProperty(a[h])&&(f[a[h]]=n[a[h]]);else for(K in n)\"$$projected$$\"!==K&&(f[K]=n[K]);d[l]&&(f.$HProjGeometry=d[l]);n.geometry&&(f.geometry=n.geometry);e.push(f)}c.Meta&&(g.Meta=c.Meta);return g};m.ja=function(){for(var a in this.b)this.b.hasOwnProperty(a)&&(this.b[a].reject(\"disposed\"),delete this.b[a])};\nfunction Ie(a){var b=[],c,d;for(d=0;d<a.length;d++){c=Da(a[d]);if(c.rowFilter&&(c.rowFilter=eval(\"(\"+c.rowFilter+\")\"),!t(c.rowFilter)))throw Error(\"Invalid row filter for layer \"+c.layerId);b.push(c)}return b};v(\"H.service.extension.worker.processor\",function(a,b,c){function d(a){e.postMessage(a)}var e=this,f=Qe[a],g;g=function(a){e.postError(a.toString())};if(0===b)f||(Qe[a]=new Ge(c,Re)),this.postMessage();else if(f)switch(b){case 1:try{f.Ra.apply(f,c).then(d,g)}catch(h){this.postError(h.message)}break;case 2:try{f.Qa.apply(f,c).then(d,g)}catch(k){this.postError(k.message)}break;case 3:f.T();delete Qe[a];Ia(Qe)&&Re.i();break;default:e.postError(\"Unsupported command\")}else e.postError(\"TileProvider is not initialized\")});\nvar Re=new C(26214400),Qe=Object.create(Ea,void 0);function Se(a,b,c){var d=a[b];a=a[b+1];this.Ba=[];this.va=0;this.a=[a-c,d-c,a+c,d+c]}Se.prototype.ha=function(a,b){var c=a[b],d=a[b+1],e=this.a;return e[1]<=c&&c<=e[3]&&e[0]<=d&&d<=e[2]};var Te=new G(0,0);function Ue(a,b,c,d){c[d]=b;c[d+1]=a}function Ve(a,b,c,d){S.O(a,b,Te);c[d]=2147483648*Te.x;c[d+1]=2147483648*Te.y}\nv(\"H.clustering.dynamicgrid.worker\",function(a,b,c,d,e){var f=e?Ue:Ve,g=0;e=!!self.ArrayBuffer;var h=a.byteLength?new Float32Array(a):a,k=h.length/3,l,n;a=[];var r,w=[],K=[],Q=e?new Uint32Array(2*k):[],k=0;d=b*(1<<23-d);for(var R=0;g<h.length;){b=h[g++];n=h[g++];l=h[g++];f(l,n,Q,R);for(l=a.length;l--;)if(n=a[l],n.ha(Q,R)){r=n;break}r||(r=new Se(Q,R,d),a.push(r));l=R/2;r.va+=b||1;r.Ba.push(l);r=null;R+=2}for(l=a.length;l--;)n=a[l],f=n.va>=c,h=n.Ba,g=h.length,f?(w.push(g),w=w.concat(h)):(k+=g,\nK=K.concat(h));c=[k].concat(K).concat(w);c=e?(new Uint32Array(c)).buffer:c;this.postMessage(c,[c])});self.addEventListener(\"message\",function(a){a=new ke(a.data);var b=ge[a.b];if(b)try{b.apply(a,a.c)}catch(c){a.postError(c.message)}else a.postError(\"processor_not_found\")});(function(){var a,b;a=new ke;b=function(b,d){je.apply(a,[b,d,!0])};b(\"0\",he);b(\"1\",je);b(\"2\",ie);b(\"3\",pe)})();\n";